<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    	
    	<record id="view_arul_hr_payroll_area_search_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.area.search</field>
			<field name="model">arul.hr.payroll.area</field>
			<field name="arch" type="xml">
				<search string="Payroll Area">
					<field name="code"/>
					<field name="name"/>
				</search>
			</field>
		</record>
    	
    	<record id="view_arul_hr_payroll_area_tree_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.area.tree</field>
			<field name="model">arul.hr.payroll.area</field>
			<field name="arch" type="xml">
				<tree string="Payroll Area">
					<field name="code"/>
					<field name="name"/>
				</tree>
			</field>
		</record>
		
		<record id="view_arul_hr_payroll_area_form_vew" model="ir.ui.view">
            <field name="name">arul.hr.payroll.area.form</field>
            <field name="model">arul.hr.payroll.area</field>
            <field name="arch" type="xml">
	            <form string="Payroll Area" version="7.0">   
	            	<sheet>
		                <group>    
			                <field name="code"/>
							<field name="name"/>
		                </group>   	
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_arul_hr_payroll_area_form" model="ir.actions.act_window">
            <field name="name">Payroll Area</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">arul.hr.payroll.area</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_arul_hr_payroll_area_tree_vew"/>
        </record>
        
        <menuitem action="action_arul_hr_payroll_area_form"
            id="menu_action_arul_hr_payroll_area_form"
            parent="hr.menu_hr_configuration" sequence="20" groups='group_vvti_hrm_admin'/>
         
        <record id="view_arul_hr_payroll_sub_area_search_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.sub.area.search</field>
			<field name="model">arul.hr.payroll.sub.area</field>
			<field name="arch" type="xml">
				<search string="Payroll Sub Area">
					<field name="code"/>
					<field name="name"/>
				</search>
			</field>
		</record>
        
        <record id="view_arul_hr_payroll_sub_area_tree_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.sub.area.tree</field>
			<field name="model">arul.hr.payroll.sub.area</field>
			<field name="arch" type="xml">
				<tree string="Payroll Sub Area">
					<field name="code"/>
					<field name="name"/>
				</tree>
			</field>
		</record>    
		
		<record id="view_arul_hr_payroll_sub_area_form_vew" model="ir.ui.view">
            <field name="name">arul.hr.payroll.sub.area.form</field>
            <field name="model">arul.hr.payroll.sub.area</field>
            <field name="arch" type="xml">
	            <form string="Payroll Sub Area" version="7.0">   
	            	<sheet>
		                <group>    
			                <field name="code"/>
							<field name="name"/>
		                </group>   	
		         	</sheet>
		         </form>
	     	 </field>
          </record>
                
		<record id="action_arul_hr_payroll_sub_area_form" model="ir.actions.act_window">
            <field name="name">Payroll Sub Area</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">arul.hr.payroll.sub.area</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_arul_hr_payroll_sub_area_tree_vew"/>
        </record>       
        
       <menuitem action="action_arul_hr_payroll_sub_area_form"
            id="menu_action_arul_hr_payroll_sub_area_form"
            parent="hr.menu_hr_configuration" sequence="2" groups='group_vvti_hrm_admin'/>


        <record id="view_arul_hr_payroll_earning_parameters_tree_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.earning.parameters.tree</field>
			<field name="model">arul.hr.payroll.earning.parameters</field>
			<field name="arch" type="xml">
				<tree string="Payroll Earning Parameters">
					<field name="code"/>
					<field name="name"/>
					<field name="description"/>
				</tree>
			</field>
		</record>
		
		<record id="view_arul_hr_payroll_earning_parameters_form_vew" model="ir.ui.view">
            <field name="name">arul.hr.payroll.earning.parameters.form</field>
            <field name="model">arul.hr.payroll.earning.parameters</field>
            <field name="arch" type="xml">
	            <form string="Payroll Earning Parameters" version="7.0">
	            <sheet>
		                <group>    
			                <field name="code"/>
							<field name="name"/>
							<field name="description"/>
		                </group>   	
		         	</sheet>
		         </form>
	     	 </field>
         </record>
         
        <record id="action_arul_hr_payroll_earning_parameters_form" model="ir.actions.act_window">
            <field name="name">Payroll Earning Parameters</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">arul.hr.payroll.earning.parameters</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_arul_hr_payroll_earning_parameters_tree_vew"/>
        </record>       
        
       <menuitem id="menu_hr_payroll_management" parent="hr.menu_hr_root" name="Payroll Management" sequence="25"/>
       <menuitem action="action_arul_hr_payroll_earning_parameters_form"
            id="menu_action_arul_hr_payroll_earning_parameters_form"
            parent="menu_hr_payroll_management" sequence="2"/>
       
       <record id="view_arul_hr_payroll_deduction_parameters_tree_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.deduction.parameters.tree</field>
			<field name="model">arul.hr.payroll.deduction.parameters</field>
			<field name="arch" type="xml">
				<tree string="Payroll Deduction Parameters">
					<field name="code"/>
					<field name="name"/>
					<field name="description"/>
				</tree>
			</field>
		</record>

		<record id="view_arul_hr_payroll_deduction_parameters_form_vew" model="ir.ui.view">
            <field name="name">arul.hr.payroll.deduction.parameters.form</field>
            <field name="model">arul.hr.payroll.deduction.parameters</field>
            <field name="arch" type="xml">
	            <form string="Payroll Deduction Parameters" version="7.0">
	            <sheet>
	            	<group>
		            	<field name="code"/>
						<field name="name"/>
						<field name="description"/>
					</group>
				</sheet>
				</form>
			</field>
		</record>   

		<record id="action_arul_hr_payroll_deduction_parameters_form" model="ir.actions.act_window">
            <field name="name">Payroll Deduction Parameters</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">arul.hr.payroll.deduction.parameters</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_arul_hr_payroll_deduction_parameters_tree_vew"/>
        </record>       
       
            
       <menuitem action="action_arul_hr_payroll_deduction_parameters_form"
            id="menu_action_arul_hr_payroll_deduction_parameters_form"
            parent="menu_hr_payroll_management" sequence="0"/>

		<record id="view_arul_hr_payroll_employee_structure_tree_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.employee.structure.tree</field>
			<field name="model">arul.hr.payroll.employee.structure</field>
			<field name="arch" type="xml">
				<tree string="Employee Payroll Structure">
						<field name="employee_id" options="{'create': false, 'create_edit': false}"/>
						<field name="employee_category_id" options="{'create': false, 'create_edit': false}"/>
						<field name="sub_category_id" options="{'create': false, 'create_edit': false}"/>
				</tree>
			</field>
		</record>
		

		<record id="view_arul_hr_payroll_employee_structure_form_vew" model="ir.ui.view">
            <field name="name">arul.hr.payroll.employee.structure.form</field>
            <field name="model">arul.hr.payroll.employee.structure</field>
            <field name="arch" type="xml">
	            <form string="Employee Payroll Structure" version="7.0">   
	            	<sheet>
		                <group col='4' colspan='2'>    
			                <field name="employee_id" options="{'create': false, 'create_edit': false}" on_change="onchange_employee_structure_id(employee_id)"/>
			                <newline/>
							<field name="employee_category_id" options="{'create': false, 'create_edit': false}"/>
							<field name="sub_category_id" domain="[('category_id','=',employee_category_id)]" options="{'create': false, 'create_edit': false}"/>
						</group>
						<notebook>
							<page string = "Earning Structure">
								<field name="payroll_earning_structure_line" nolabel='1' on_change="onchange_structure_line(payroll_earning_structure_line,employee_category_id,sub_category_id)">
									<tree editable="bottom" >
										<field name="earning_parameters_id" options="{'create': false, 'create_edit': false}"/>
										<field name="float" on_change="onchange_structure_line()" context="{'employee_category_id':parent.employee_category_id,'sub_category_id':parent.sub_category_id}"/>
									</tree>
								</field>
							</page>
							<page string = "Other Deductions">
								<group>
									<label for="ins_de_period_start" string="Insurance Deduction Period"/>
									<div>
										<field name="ins_de_period_start" class="oe_inline"/>
										<field name="ins_de_period_end" class="oe_inline"/>
									</div>
									<label for="loan_de_period_start" string="Loan Deductions Period"/>
									<div>
										<field name="loan_de_period_start" class="oe_inline"/>
										<field name="loan_de_period_end" class="oe_inline"/>
									</div>
								</group>
								<field name="payroll_other_deductions_line" nolabel='1'>
									<tree editable = "bottom">
										<field name="deduction_parameters_id" options="{'create': false, 'create_edit': false}"/>
										<field name="float"/>
									</tree>
								</field>
							</page>
						</notebook>
						
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_arul_hr_payroll_employee_structure_form" model="ir.actions.act_window">
            <field name="name">Employee Payroll Structure</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">arul.hr.payroll.employee.structure</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_arul_hr_payroll_employee_structure_tree_vew"/>
        </record>
        
        <menuitem action="action_arul_hr_payroll_employee_structure_form"
            id="menu_action_arul_hr_payroll_employee_structure_form"
            parent="menu_hr_payroll_management" sequence="5"/>
            
            
       <record id="view_arul_hr_payroll_contribution_parameters_tree_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.contribution.parameters.tree</field>
			<field name="model">arul.hr.payroll.contribution.parameters</field>
			<field name="arch" type="xml">
				<tree string="Payroll Contribution Parameters">
					<field name="employee_category_id" />  
					<field name="sub_category_id"  />
					<field name="emp_pf_con"/>
					<field name="employer_pension_con"/>
					<field name="pension_limit_amt"/>
					<field name="emp_esi_limit"/>
					<field name="emp_esi_con"/>
					<field name="employer_esi_con"/>
					<field name="emp_lwf_amt"/>
					<field name="employer_lwf_con_amt"/>
				</tree>
			</field>
		</record>    
		
		<record id="view_arul_hr_payroll_contribution_parameters_form_vew" model="ir.ui.view">
            <field name="name">arul.hr.payroll.contribution.parameters.form</field>
            <field name="model">arul.hr.payroll.contribution.parameters</field>
            <field name="arch" type="xml">
	            <form string="Payroll Contribution Parameters" version="7.0">   
	            	<sheet>
		                <group col = '4' colspan = '2'>
		                	<field name="employee_category_id" on_change="onchange_employee_category_id(employee_category_id)" options="{'create': false, 'create_edit': false}" />  
		                	<field name="sub_category_id" options="{'create': false, 'create_edit': false}" context="{'check_employee_category_id':1,'employee_category_id':employee_category_id}"/>
			                <field name="emp_pf_con"/>
			                <newline/>
							<field name="employer_pension_con"/>
							<field name="pension_limit_amt"/>
							<field name="emp_esi_limit"/>
							<newline/>
							<field name="emp_esi_con"/>
							<field name="employer_esi_con"/>
							<field name="emp_lwf_amt"/>
							<field name="employer_lwf_con_amt"/>
		                </group>   	
		         	</sheet>
		         </form>
	     	 </field>
          </record>
                
		<record id="action_arul_hr_payroll_contribution_parameters_form" model="ir.actions.act_window">
            <field name="name">Payroll Contribution Parameters</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">arul.hr.payroll.contribution.parameters</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_arul_hr_payroll_contribution_parameters_tree_vew"/>
        </record>       
       
            
       <menuitem id="menu_hr_payroll_management" parent="hr.menu_hr_root" name="Payroll Management" sequence="25"/>
       <menuitem action="action_arul_hr_payroll_contribution_parameters_form"
            id="menu_action_arul_hr_payroll_contribution_parameters_form"
            parent="menu_hr_payroll_management" sequence="3"/>
            
       <record id="view_tpt_hr_payroll_approve_reject_tree_vew" model="ir.ui.view">
			<field name="name">tpt.hr.payroll.approve.reject.tree</field>
			<field name="model">tpt.hr.payroll.approve.reject</field>
			<field name="arch" type="xml">
				<tree string="Approve Reject Payroll">
					<field name="year"/>
					<field name="month"/>
					<field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","done":"blue"}'/>
				</tree>
			</field>
	   </record>
	   
	   <record id="view_tpt_hr_payroll_approve_reject_form_vew" model="ir.ui.view">
            <field name="name">tpt.hr.payroll.approve.reject.form</field>
            <field name="model">tpt.hr.payroll.approve.reject</field>
            <field name="arch" type="xml">
	            <form string="Approve Reject Payroll" version="7.0">  
	            <header>
	                <button name="approve_payroll" states = 'draft,cancel' string="Approve Payroll" type="object" class="oe_highlight" groups="base.group_hr_manager"/>
	                <button name="reject_payroll" states = 'draft' string="Reject Payroll" type="object" class="oe_highlight" groups="base.group_hr_manager"/>
	           		<field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","done":"blue"}'/>
	            </header>    
	            <sheet>
		           <group col = '4' colspan = '2'>    
						<field name="year" />
						<field name="month" />
		           </group> 
		        </sheet>
		        </form>
		     </field>   
       </record>
       
       <record id="action_tpt_hr_payroll_approve_reject_form" model="ir.actions.act_window">
            <field name="name">Approve Reject Payroll</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.hr.payroll.approve.reject</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_hr_payroll_approve_reject_tree_vew"/>
        </record>       
       
            
       <menuitem id="menu_hr_payroll_management" parent="hr.menu_hr_root" name="Payroll Management" sequence="25"/>
       <menuitem action="action_tpt_hr_payroll_approve_reject_form"
            id="menu_action_tpt_hr_payroll_approve_reject_form"
            parent="menu_hr_payroll_management" sequence="7"/>    
		
       <record id="view_arul_hr_payroll_executions_tree_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.executions.tree</field>
			<field name="model">arul.hr.payroll.executions</field>
			<field name="arch" type="xml">
				<tree string="Payroll Executions">
					<field name="payroll_area_id" on_change="onchange_generate_payroll(payroll_area_id)"/>
					<field name="year"/>
					<field name="month"/>
					<field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"draft":"blue","done":"blue"}'/>  
				</tree>
			</field>
		</record>    
		
		<record id="view_arul_hr_payroll_executions_form_vew" model="ir.ui.view">
            <field name="name">arul.hr.payroll.executions.form</field>
            <field name="model">arul.hr.payroll.executions</field>
            <field name="arch" type="xml">
	            <form string="Payroll Executions" version="7.0">  
	            <header>
	                <button name="generate_payroll" states='draft' string="Generate Payroll" type="object" class="oe_highlight" groups="base.group_hr_manager"/>
	                <button name="rollback_payroll" states='draft' string="Roll Back Payroll" type="object" class="oe_highlight" groups="base.group_hr_manager"/>
	               	<button name="confirm_payroll" states='draft' string="Confirm Payroll" type="object" class="oe_highlight" groups="base.group_hr_manager"/>
	                <field name="state" widget="statusbar" statusbar_visible="draft,confirm,approve" statusbar_colors='{"draft":"blue","done":"blue"}'/>  
	            </header>    
	            	<sheet>
		                <group col = '4' colspan = '2'>    
			                <field name="payroll_area_id" options="{'create': false, 'create_edit': false}" />
							<field name="year" />
							<field name="month" />
		                </group> 
		                <notebook>
		                	<page string = "Payroll Executions Details">
		                		<field name="payroll_executions_details_line" >
									<form string="Payroll Executions Details" version="7.0">
										<group col = '4' colspan = '2'>
											<field name="company_id" options="{'create': false, 'create_edit': false}"/>
											<newline/>
											<field name="payroll_area_id" options="{'create': false, 'create_edit': false}"/>
											<field name="payroll_sub_area_id" options="{'create': false, 'create_edit': false}"/>
											<field name="employee_id" options="{'create': false, 'create_edit': false}"/>
											<newline/>
											<field name="department_id" on_change="onchange_department_from_id(department_id)" options="{'create': false, 'create_edit': false}"/>
											<field name="designation_id" options="{'create': false, 'create_edit': false}"/>
											<field name="year" />
											<field name="month" />
										</group>
										<group>
											<notebook>
												<page string = "Earning Structure">
													<field name="earning_structure_line" nolabel = '1'>
														<tree editable = 'bottom' >
															<field name="earning_parameters_id" options="{'create': false, 'create_edit': false}"/>
															<field name="float" />
														</tree>
													</field>
												</page>
												<page string = "Other Deduction">
													<field name="other_deduction_line" nolabel = '1' >
														<tree editable = 'bottom' >
															<field name="deduction_parameters_id" options="{'create': false, 'create_edit': false}"/>
															<field name="float" />
														</tree>
													</field>
												</page>
											</notebook>
										</group>
									</form>
									<tree>
										<field name="company_id" options="{'create': false, 'create_edit': false}"/>
										<field name="payroll_area_id" options="{'create': false, 'create_edit': false}"/>
										<field name="payroll_sub_area_id" options="{'create': false, 'create_edit': false}"/>
										<field name="employee_id" options="{'create': false, 'create_edit': false}"/>
										<field name="department_id" options="{'create': false, 'create_edit': false}"/>
										<field name="designation_id" options="{'create': false, 'create_edit': false}"/>
										<field name="year" />
										<field name="month" />
									</tree>
								</field>	                		
		                	</page>
		                </notebook>  	
		         	</sheet>
		         </form>
	     	 </field>
          </record>
                
		<record id="action_arul_hr_payroll_executions_form" model="ir.actions.act_window">
            <field name="name">Payroll Executions</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">arul.hr.payroll.executions</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_arul_hr_payroll_executions_tree_vew"/>
        </record>       
       
            
       <menuitem id="menu_hr_payroll_management" parent="hr.menu_hr_root" name="Payroll Management" sequence="25"/>
       <menuitem action="action_arul_hr_payroll_executions_form"
            id="menu_action_arul_hr_payroll_executions_form"
            parent="menu_hr_payroll_management" sequence="5"/>
            
		<record id="view_arul_hr_payroll_structure_configuration_tree_vew" model="ir.ui.view">
			<field name="name">arul.hr.payroll.structure.configuration.tree</field>
			<field name="model">arul.hr.payroll.structure.configuration</field>
			<field name="arch" type="xml">
				<tree string="Payroll Earning Structure Configuration">
						<field name="employee_category_id" options="{'create': false, 'create_edit': false}"/>
						<field name="sub_category_id" options="{'create': false, 'create_edit': false}"/>
				</tree>
			</field>
		</record>
		

		<record id="view_arul_hr_payroll_structure_configuration_form_vew" model="ir.ui.view">
            <field name="name">arul.hr.payroll.structure.configuration.form</field>
            <field name="model">arul.hr.payroll.structure.configuration</field>
            <field name="arch" type="xml">
	            <form string="Payroll Earning Structure Configuration" version="7.0">   
	            	<sheet>
		                <group col='4' colspan='2'>    
			                <field name="employee_category_id" options="{'create': false, 'create_edit': false}" on_change="onchange_employee_category_id(employee_category_id)"/>
			                <newline/>
							<field name="sub_category_id" context="{'check_employee_category_id':1,'employee_category_id':employee_category_id}" options="{'create': false, 'create_edit': false}"/>
						</group>
						<notebook>
							<page string = "Earning Configuration">
								<field name="payroll_structure_configuration_line" nolabel='1'>
									<tree editable="bottom" >
										<field name="earning_parameters_id" options="{'create': false, 'create_edit': false}"/>
										<field name="fixed_percentage"/>
										<field name="value"/>
									</tree>
								</field>
							</page>
						</notebook>
						
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_arul_hr_payroll_structure_configuration_form" model="ir.actions.act_window">
            <field name="name">Payroll Earning Structure Configuration</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">arul.hr.payroll.structure.configuration</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_arul_hr_payroll_structure_configuration_tree_vew"/>
        </record>
        
        <menuitem action="action_arul_hr_payroll_structure_configuration_form"
            id="menu_action_arul_hr_payroll_structure_configuration_form"
            parent="menu_hr_payroll_management" sequence="6"/>

            
    </data>
    
</openerp>
