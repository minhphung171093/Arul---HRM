<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
	   	<record id="view_tpt_purchase_indent_tree" model="ir.ui.view">
			<field name="name">tpt.purchase.indent.tree</field>
			<field name="model">tpt.purchase.indent</field>
			<field name="arch" type="xml">
				<tree string="Purchase Indent">
						<field name="name"/>
						<field name="date_indent"/>
						<field name="document_type"/>
						<field name="intdent_cate"/>
						<field name="raised_from_id"  />
						<field name="raised_by_id" options="{'create': false, 'create_edit': false}" />
						<field name="date_expect"/>
						<field name="reason"/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_purchase_indent_form" model="ir.ui.view">
            <field name="name">tpt.purchase.indent.form</field>
            <field name="model">tpt.purchase.indent</field>
            <field name="arch" type="xml">
	            <form string="Purchase Indent" version="7.0">   
	            	<sheet>
	            	<group col="1">
		                <group col="4" colspan="2" >    
							<field name="name"/>
							<field name="date_indent" on_change="onchange_date_expect(date_indent)" />
							<field name="document_type" />
							<field name="intdent_cate" />
							<field name="raised_from_id" options="{'create': false, 'create_edit': false}" />
							<field name="raised_by_id" options="{'create': false, 'create_edit': false}"  />
							<field name="date_expect"/>
						</group>
						<group >
							<field name="select_normal" widget = "radio" attrs="{'invisible': [('intdent_cate', '!=', 'normal')],'required':[('intdent_cate','=','normal')]}" />
							<field name="supplier_id" options="{'create': false, 'create_edit': false}" attrs="{'invisible': [('select_normal', '!=', 'special')],'required':[('select_normal','=','special')]}"   />
							<field name="reason" attrs="{'invisible': [('select_normal', '!=', 'special')]}" />
						</group>
						</group>
						<notebook>
							<page string = "Products">
								<field name="purchase_product_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="product_id" widget = "selection" on_change="onchange_indent_product_id(product_id)" options="{'create': false, 'create_edit': false}"/>
										<field name="product_uom_qty" />
										<field name="uom_po_id" edit='false' options="{'create': false, 'create_edit': false}"/>
									</tree>
								</field>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_purchase_indent_form" model="ir.actions.act_window">
            <field name="name">Purchase Indent</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.purchase.indent</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_purchase_indent_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_purchase_indent_form"
            id="menu_action_view_tpt_purchase_indent_form"
            parent="purchase.menu_procurement_management" sequence="13"/>
		
		<record id="tpt_supplier_purchase_form" model="ir.ui.view">
            <field name="name">tpt.supplier.purchase.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//field[@name='website']" position="after">
					<field name="supplier_code" />
				</xpath> 
			</field>
		</record>
		
		<record id="tpt_product_category_form" model="ir.ui.view">
            <field name="name">tpt.product.category.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="product.product_category_form_view"/>
            <field name="arch" type="xml">
				<xpath expr="//label[@for='name']" position="replace">
					<label for="name" string = 'Category Code' class="oe_edit_only"/>
				</xpath> 
				<xpath expr="//field[@name='parent_id']" position="after">
					<field name="cate_name"/>
				</xpath> 
				<xpath expr="//field[@name='type']" position="after">
					<field name="description"/>
				</xpath> 
			</field>
		</record>
		
		<record id="tpt_account_properties_product_category_form" model="ir.ui.view">
            <field name="name">tpt.account.properties.product.category.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="account.view_category_property_form"/>
            <field name="arch" type="xml">
				<xpath expr="//field[@name='property_account_income_categ']" position="replace">
					<field name="property_account_income_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_account_expense_categ']" position="replace">
					<field name="property_account_expense_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
			</field>
		</record>
		
		<record id="tpt_account_stock_properties_product_category_form" model="ir.ui.view">
            <field name="name">tpt.account.stock.properties.product.category.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="stock.view_category_property_form"/>
            <field name="arch" type="xml">
				<xpath expr="//field[@name='property_stock_account_input_categ']" position="replace">
					<field name="property_stock_account_input_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_stock_account_output_categ']" position="replace">
					<field name="property_account_expense_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_stock_valuation_account_id']" position="replace">
					<field name="property_stock_valuation_account_id" domain="[('type','&lt;&gt;','view'), ('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_stock_journal']" position="replace">
					<field name="property_stock_journal" options="{'create': false, 'create_edit': false}"/>
				</xpath>
			</field>
		</record>   
		
		<record id="tpt_product_form" model="ir.ui.view">
            <field name="name">tpt.product.form</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_normal_form_view"/>
            <field name="arch" type="xml">
				<xpath expr="//label[@for='sale_ok']" position="after">
					<field name="cate_name" invisible='1'/>
					<field name="batch_appli_ok" attrs="{'invisible':[('cate_name','!=','finish')]}"/>
					<label for = "batch_appli_ok" attrs="{'invisible':[('cate_name','!=','finish')]}"/>
				</xpath>
				<xpath expr="//div[@class='oe_title']" position="inside">
					<group>
                          <field name="description"/>
                     </group>
				</xpath>
				<xpath expr="//field[@name='categ_id']" position="replace">
					<field name="categ_id" on_change = "onchange_category_product_id(categ_id)" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//page[@string='Inventory']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
			</field>
		</record>
		
		<record id="view_tpt_gate_in_pass_tree" model="ir.ui.view">
			<field name="name">tpt.gate.in.pass.tree</field>
			<field name="model">tpt.gate.in.pass</field>
			<field name="arch" type="xml">
				<tree string="Gate In Pass">
					<field name="name"/>
					<field name="po_number"/>
					<field name="po_date"/>
					<field name="supplier_id"/>
					<field name="gate_date_time"/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_gate_in_pass_form" model="ir.ui.view">
            <field name="name">tpt.gate.in.pass.form</field>
            <field name="model">tpt.gate.in.pass</field>
            <field name="arch" type="xml">
	            <form string="Gate In Pass" version="7.0">   
	            	<sheet>
		                <group > 
			                <field name="po_number" options="{'create': false, 'create_edit': false}"/>
			                <field name="po_date"/>
			                <field name="supplier_id" domain="[('supplier','=',1)]" options="{'create': false, 'create_edit': false}"/>
							<field name="name"/>
							<field name="gate_date_time"/>
						</group>
						<notebook>
							<page string="Product details">
								<field name="gate_in_pass_line" nolabel='1'>
									<tree>
										<field name="po_indent_no" options="{'create': false, 'create_edit': false}"/>
										<field name="product_id" on_change="onchange_product_id(product_id)" options="{'create': false, 'create_edit': false}"/>
										<field name="product_qty"/>
										<field name="uom_po_id"/>
									</tree>
								</field>
							</page>
						</notebook>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="action_view_tpt_gate_in_pass_tree" model="ir.actions.act_window">
            <field name="name">Gate In Pass</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.gate.in.pass</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_gate_in_pass_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_gate_in_pass_tree"
            id="menu_action_view_tpt_gate_in_pass_tree"
            parent="purchase.menu_procurement_management" sequence="20"/>
    </data>
</openerp>
