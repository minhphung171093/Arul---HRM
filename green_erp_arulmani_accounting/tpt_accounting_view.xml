<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
	   	<record id="tpt_posting_configuration_tree_view" model="ir.ui.view">
			<field name="name">tpt.posting.configuration.tree</field>
			<field name="model">tpt.posting.configuration</field>
			<field name="arch" type="xml">
				<tree string="GL Posting Configuration">
					<field name="name"/>
					<field name="date"/>
					<field name="state"/>
				</tree>
			</field>
		</record>
		
		<record id="tpt_posting_configuration_form_view" model="ir.ui.view">
            <field name="name">tpt.posting.configuration.form</field>
            <field name="model">tpt.posting.configuration</field>
            <field name="arch" type="xml">
	            <form string="GL Posting Configuration" version="7.0">   
	            	<header>
	                    <button name="bt_confirm" states='draft' string="Confirm" type="object" class="oe_highlight" />
	                    <field name="state" widget="statusbar" statusbar_visible="draft,done"/>
		            </header>    
	            	<sheet>
		            	<group>
			                <group>    
								<field name="name"/>
							</group>
							<group >
								<field name="date"/>
							</group>
						</group>
						<notebook>
							<page string = "GL Account">
								<group col="4" colspan="2" attrs="{'invisible': [('name', '!=', 'cus_inv')]}" >
										<field name="cus_inv_vat_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_cst_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_ed_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_pf_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_fright_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_insurance_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_price_id" options="{'create': false, 'create_edit': false}"/>
								</group>
								<group col="4" colspan="2"  attrs="{'invisible': [('name', '!=', 'cus_pay')]}" >
										<field name="cus_pay_bank_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_pay_cash_id" options="{'create': false, 'create_edit': false}"/>
								</group>
								<group col="4" colspan="2" attrs="{'invisible': [('name', '!=', 'sup_inv')]}" >
										<field name="sup_inv_vat_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_cst_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_ed_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_pf_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_fright_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_price_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_tds_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_aed_id" options="{'create': false, 'create_edit': false}"/>
								</group>
								<group col="4" colspan="2" attrs="{'invisible': [('name', '!=', 'sup_pay')]}" >
										<field name="sup_pay_bank_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_pay_cash_id" options="{'create': false, 'create_edit': false}"/>
								</group>
								<group col="4" colspan="2" attrs="{'invisible': [('name', '!=', 'payroll')]}" >
										<field name="salari_id" options="{'create': false, 'create_edit': false}"/>
										<field name="pfp_id" options="{'create': false, 'create_edit': false}"/>
										<field name="vpf_id" options="{'create': false, 'create_edit': false}"/>
										<field name="esi_id" options="{'create': false, 'create_edit': false}"/>
										<field name="staff_welfare_id" options="{'create': false, 'create_edit': false}"/>
										<field name="canteen_expense_id" options="{'create': false, 'create_edit': false}"/>
										<field name="lic_id" options="{'create': false, 'create_edit': false}"/>
										<field name="profes_tax_id" options="{'create': false, 'create_edit': false}"/>
										<field name="lwf_id" options="{'create': false, 'create_edit': false}"/>
										<field name="staff_advance_id" options="{'create': false, 'create_edit': false}"/>
										<field name="salari_payable_id" options="{'create': false, 'create_edit': false}"/>
										<field name="wages_id" options="{'create': false, 'create_edit': false}"/>
										<field name="wages_payable_id" options="{'create': false, 'create_edit': false}"/>
										<field name="other_insu" options="{'create': false, 'create_edit': false}"/>
										<field name="vvti_id" options="{'create': false, 'create_edit': false}"/>
										<field name="lic_hfl_id" options="{'create': false, 'create_edit': false}"/>
										<field name="hdfc_id" options="{'create': false, 'create_edit': false}"/>
										<field name="tmb_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sbt_id" options="{'create': false, 'create_edit': false}"/>
										<field name="other_loan_id" options="{'create': false, 'create_edit': false}"/>
										<field name="it_id" options="{'create': false, 'create_edit': false}"/>
										<field name="shd_id" options="{'create': false, 'create_edit': false}"/>
								</group>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_tpt_posting_configuration_form_view" model="ir.actions.act_window">
            <field name="name">GL Posting Configuration</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.posting.configuration</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="tpt_posting_configuration_tree_view"/>
        </record>
        
        
        <menuitem id="menu_tpt_accounting" name="Accounting" parent="account.menu_finance" sequence="0" groups="green_erp_arulmani_sale.group_vvti_unit_account,green_erp_arulmani_sale.group_vvti_marketing_user"/>
        <menuitem action="action_tpt_posting_configuration_form_view"
            id="menu_action_tpt_posting_configuration_form_view"
            parent="menu_tpt_accounting" sequence="13"/>
            
       	<record id="tpt_account_tax_inherit_form" model="ir.ui.view">
            <field name="name">tpt.account.tax.inherit.form</field>
            <field name="model">account.tax</field>
            <field name="inherit_id" ref="account.view_tax_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//page[@string='Tax Definition']/group/group[@string='Invoices']/field[@name='tax_sign']" position="after">
					<field name="gl_account_id" options="{'create': false, 'create_edit': false}"/>
					<field name="section"/>
					<field name="is_swachh_bharat"/>
					<field name="is_stax_report"/>
					<field name="is_vat_report"/>
				</xpath>
			</field>
		</record>
		
		<record id="view_account_invoice_filter" model="ir.ui.view">
            <field name="name">account.invoice.select</field>
            <field name="model">account.invoice</field>
            <field name="arch" type="xml">
                <search string="Search Invoice">
                	<field name="name" string = 'Document No'/>
                	<field name="partner_id"/>
                	<field name="purchase_id"/>
                	<field name="grn_no"/>
                    <filter name="draft" string="Draft" domain="[('state','=','draft')]" help="Draft Invoices"/>
                    <filter name="proforma" string="Proforma" domain="[('state','=','proforma2')]" help="Proforma Invoices" groups="account.group_proforma_invoices"/>
                    <filter name="invoices" string="Invoices" domain="[('state','not in',['draft','cancel'])]" help="Proforma/Open/Paid Invoices"/>
                    <filter name="unpaid" string="Unpaid" domain="[('state','=','open')]" help="Unpaid Invoices"/>
                    <separator/>
                    <filter domain="[('user_id','=',uid)]" help="My Invoices" icon="terp-personal"/>
                    <group expand="0" string="Group By...">
                        <filter string="Partner" icon="terp-partner" domain="[]" context="{'group_by':'partner_id'}"/>
                        <filter string="Responsible" icon="terp-personal" domain="[]"  context="{'group_by':'user_id'}"/>
                        <filter string="Journal" icon="terp-folder-orange" domain="[]" context="{'group_by':'journal_id'}"/>
                        <filter string="Status" icon="terp-stock_effects-object-colorize" domain="[]"  context="{'group_by':'state'}"/>
                        <filter string="Period" icon="terp-go-month" domain="[]" context="{'group_by':'period_id'}"/>
                        <filter string="Invoice Date" icon="terp-go-month" domain="[]"  context="{'group_by':'date_invoice'}"/>
                        <filter string="Due Date" icon="terp-go-month" domain="[]"  context="{'group_by':'date_due'}"/>
                    </group>
               </search>
            </field>
        </record>
        
        <record id="view_customer_account_invoice_filter" model="ir.ui.view">
            <field name="name">account.invoice.select</field>
            <field name="model">account.invoice</field>
            <field name="arch" type="xml">
                <search string="Search Invoice">
                	<field name="name" string = 'Document No'/>
                	<field name="partner_id"/>
                	<field name="purchase_id"/>
                	<field name="delivery_order_id"/>
                    <filter name="draft" string="Draft" domain="[('state','=','draft')]" help="Draft Invoices"/>
                    
                    <separator/>
                    <filter domain="[('user_id','=',uid)]" help="My Invoices" icon="terp-personal"/>
                    <group expand="0" string="Group By...">
                        <filter string="Partner" icon="terp-partner" domain="[]" context="{'group_by':'partner_id'}"/>
                        <filter string="Responsible" icon="terp-personal" domain="[]"  context="{'group_by':'user_id'}"/>
                        <filter string="Journal" icon="terp-folder-orange" domain="[]" context="{'group_by':'journal_id'}"/>
                        <filter string="Status" icon="terp-stock_effects-object-colorize" domain="[]"  context="{'group_by':'state'}"/>
                        <filter string="Period" icon="terp-go-month" domain="[]" context="{'group_by':'period_id'}"/>
                        <filter string="Invoice Date" icon="terp-go-month" domain="[]"  context="{'group_by':'date_invoice'}"/>
                        <filter string="Due Date" icon="terp-go-month" domain="[]"  context="{'group_by':'date_due'}"/>
                    </group>
               </search>
            </field>
        </record>


		<record id="tpt_account_supplier_invoice_form" model="ir.ui.view">
            <field name="name">tpt.account.supplier.invoice.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_supplier_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//field[@name='partner_id']" position="before">
					<field name="name" string = "Document No" readonly = '1'/>
				</xpath>
				
				<xpath expr="//button[@name='invoice_open']" position="after">
					 <button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_invoice':True}"/>
				</xpath>
				
				<xpath expr="//field[@name='date_invoice']" position="attributes">
					<attribute name='string'>Posting Date</attribute>
					<attribute name='required'>1</attribute>
				</xpath>
				<xpath expr="//field[@name='date_invoice']" position="after">
					<field name='bill_number'/>
					<field name='bill_date'/>
					<field name='flag_bt_ed' invisible = '1'/>
				</xpath>
				<xpath expr="//button[@name='invoice_open']" position="after">
					 <button name="bt_post_ed" type="object" string="Post ED" attrs="{'invisible':['|', ('flag_bt_ed','=',False), ('state','in',['draft','cancel'])]}" groups="green_erp_arulmani_accounting.group_vvti_accounting_user"/>
				</xpath>
				<xpath expr="//field[@name='partner_id']" position="attributes">
					<attribute name='string'>Vendor</attribute>
				</xpath>
				<xpath expr="//field[@name='partner_id']" position="after">
					<field name="create_uid" options="{'create': false, 'create_edit': false}" />
					<field name="created_on" />
				</xpath>
				<xpath expr="//field[@name='date_due']" position="after">
					<field name="purchase_id" options="{'create': false, 'create_edit': false}"/>
					<field name="vendor_ref" required='1'/>
				</xpath>  
				<xpath expr="//field[@name='account_id']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//field[@name='currency_id']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//field[@name='currency_id']" position="attributes">
					<attribute name='required'>0</attribute>
				</xpath>
				<xpath expr="//page[@string='Invoice']/div/field[@name='tax_line']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//page[@string='Other Info']/group/group/field[@name='name']" position="replace">
				</xpath>
				<xpath expr="//page[@string='Invoice']/group/field[@name='amount_untaxed']" position="after">
					<field name="p_f_charge" widget="monetary" options="{'currency_field': 'currency_id'}"/>
					<field name="excise_duty" widget="monetary" options="{'currency_field': 'currency_id'}"/>
					<field name="aed" widget="monetary" options="{'currency_field': 'currency_id'}"/>
				</xpath>
				<xpath expr="//page[@string='Invoice']/group/field[@name='amount_tax']" position="after">
					<field name="fright" widget="monetary" options="{'currency_field': 'currency_id'}"/>
					<field name="amount_round_off" widget="monetary" options="{'currency_field': 'currency_id'}"/>
				</xpath>
				<xpath expr="//page[@string='Invoice']/group/field[@name='residual']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
			</field>
		</record>
		
	   	<record id="tpt_posting_verification_tree_view" model="ir.ui.view">
			<field name="name">tpt.posting.verification.tree</field>
			<field name="model">tpt.posting.verification</field>
			<field name="arch" type="xml">
				<tree string="GL Posting Verification - Approval">
					<field name="name"/>
					<field name="doc_type"/>
					<field name="date"/>
					<field name="fiscal_period_id"/>
					<field name="posting_date"/>
					<field name="create_uid"/>
					<field name="amount_debits"/>
					<field name="amount_credits"/>
					<field name="amount_difference"/> 
					<field name="state"/>
				</tree>
			</field>
		</record>
		
		<record id="tpt_posting_verification_form_view" model="ir.ui.view">
            <field name="name">tpt.posting.verification.form</field>
            <field name="model">tpt.posting.verification</field>
            <field name="arch" type="xml">
	            <form string="GL Posting Verification - Approval" version="7.0">   
	            	<header>
	                    <button name="bt_approve" states='draft' string="Approve" type="object" class="oe_highlight" />
	                    <field name="state" widget="statusbar" statusbar_visible="draft,done"/>
		            </header>    
	            	<sheet>
		            	<group col="4" colspan="2">
		            		<field name="doc_type" required = "1" on_change = "onchange_gl_entry(doc_type,fiscal_period_id)" /> 
		            		<field name="fiscal_period_id" on_change = "onchange_gl_entry(doc_type,fiscal_period_id)" required = "1" options="{'create': false, 'create_edit': false}" />
							<field name="name"/>
							<field name="posting_date"/>
							<field name="date" />
							<field name="create_uid" options="{'create': false, 'create_edit': false}" />
						</group>
						<notebook>
							<page string = "GL Entry">
							<field name="gl_entry_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="gl_code_id" on_change = "onchange_account_name(gl_code_id)" options="{'create': false, 'create_edit': false}" />
										<field name="description" />
										<field name="debit" />
										<field name="credit" /> 
									</tree>
								</field>
							</page>
						</notebook>
						<group col="4" colspan="2">
							<field name="amount_debits"/>
							<field name="amount_credits"/>
							<field name="amount_difference"/>
						</group>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_tpt_posting_verification_form_view" model="ir.actions.act_window">
            <field name="name">GL Posting Verification - Approval</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.posting.verification</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="tpt_posting_verification_tree_view"/>
        </record>
        
        
       <!-- <menuitem action="action_tpt_posting_verification_form_view"
            id="menu_action_tpt_posting_verification_form_view"
            parent="menu_tpt_accounting" sequence="20"/>-->

				
		<record id="tpt_view_invoice_customer_inherit_form" model="ir.ui.view">
            <field name="name">tpt.view.invoice.customer.inherit.form"</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account_voucher.view_invoice_customer"/>
            <field name="arch" type="xml">	
            	<xpath expr="//button[@name='invoice_pay_customer']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>	
			</field>
		</record>
		
		<record id="tpt_view_invoice_form_inherit_form" model="ir.ui.view">
            <field name="name">tpt.view.invoice.form.inherit.form"</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_form"/>
            <field name="arch" type="xml">
            
            	<xpath expr="//button[@name='invoice_open']" position="after">
            		<button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_invoice':True}"/>
            	</xpath>
            	
            	<xpath expr="//button[@name='%(account.action_account_invoice_refund)d']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//field[@name='date_invoice']" position="attributes">
					<attribute name='string'>Posting Date</attribute>
				</xpath>
				<xpath expr="//field[@name='date_invoice']" position="after">
					<field name='bill_number'/>
					<field name='bill_date'/>
				</xpath>
			</field>
		</record>
		
		<record id="tpt_account_product_product_inherit_form" model="ir.ui.view">
            <field name="name">tpt.account.product.product.inherit.form</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="account.product_normal_form_view"/>
            <field name="arch" type="xml">		
				<xpath expr="//page[@string='Accounting']/group[@name='properties']/group/field[@name='taxes_id']" position="after">
					<field name="purchase_acc_id" options="{'create': false, 'create_edit': false}"/>
					<field name="sale_acc_id" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//page[@string='Accounting']/group[@name='properties']/group/field[@name='supplier_taxes_id']" position="after">
					<field name="product_asset_acc_id" options="{'create': false, 'create_edit': false}"/>
					<field name="product_cose_acc_id" options="{'create': false, 'create_edit': false}"/>
					<field name="product_credit_id" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//page[@string='Information']/group/group/field[@name='default_code']" position="after">
					<field name="chapter" />
					<field name="warehouse_id" domain="[('usage','=','internal'),('chained_location_type','&lt;&gt;','customer')]" options="{'create': false, 'create_edit': false}" groups="base.user_root" />
					<field name="prod_dest_id" domain="[('usage','=','internal'),('chained_location_type','&lt;&gt;','customer')]" options="{'create': false, 'create_edit': false}" groups="base.user_root"/>
				</xpath>
					
			</field>
		</record>
				
		<record id="tpt_account_supplier_invoice_stock_inherit_form" model="ir.ui.view">
            <field name="name">tpt.account.supplier.invoice.stock.inherit.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="green_erp_arulmani_purchase.tpt_invoice_supplier_form"/>
            <field name="arch" type="xml">		
				<xpath expr="//page[@string='Invoice']/field[@name='invoice_line']/tree/field[@name='price_unit']" position="after">
					<field name="disc"/>
					<field name="p_f"/>
					<field name="p_f_type"/>
					<field name="ed"/>
					<field name="ed_type"/>
				</xpath> 
				<xpath expr="//page[@string='Invoice']/field/tree/field[@name='invoice_line_tax_id']" position="after">
					<field name="aed_id_1" />
					<field name="fright"/>
					<field name="fright_type"/>
					<field name="line_net"/>
				</xpath>
				<xpath expr="//page[@string='Invoice']/field/tree/field[@name='price_subtotal']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//page[@string='Invoice']/field/tree/field[@name='discount']" position="attributes">
					<attribute name='invisible'>0</attribute>
				</xpath>
				<xpath expr="//page[@string='Invoice']/field/tree/field[@name='product_id']" position="attributes">
					<attribute name='string'>Code</attribute>
				</xpath>
				
				
			</field>
		</record> 
		
		<record id="view_tpt_supplier_invoice_without_po_tree" model="ir.ui.view">
			<field name="name">view.tpt.supplier.invoice.without.po.tree</field>
			<field name="model">account.invoice</field>
			<field name="arch" type="xml">
				<tree string="Supplier Invoice">
                    <field name="partner_id" groups="base.group_user"/>
                    <field name="date_invoice"/>
                    <field name="number"/>
                    <field name="reference" invisible="1"/>
                    <field name="name" invisible="1"/>
                    <field name="journal_id" invisible="1"/>
                    <field name="period_id" invisible="1" groups="account.group_account_user"/>
                    <field name="company_id" groups="base.group_multi_company" widget="selection"/>
                    <field name="user_id"/>
                    <field name="is_tds_applicable"/>
                    <field name="tds_id" options="{'create': false, 'create_edit': false}"/>
                    <field name="date_due"/>
                    <field name="origin"/>
                    <field name="currency_id" groups="base.group_multi_currency"/>
                    <field name="residual" sum="Residual Amount"/>
                    <field name="amount_untaxed" sum="Untaxed Amount"/>
                    <field name="amount_total" sum="Total Amount"/>
                    <field name="state"/>
                </tree>
			</field>
		</record>
		
		<record id="view_tpt_supplier_invoice_without_po_form" model="ir.ui.view">
            <field name="name">view.tpt.supplier.invoice.without.po.form</field>
            <field name="model">account.invoice</field>
            <field name="arch" type="xml">
	            <form string="Supplier Invoice" version="7.0">
	            <header>
                        <button name="invoice_open" states="draft,proforma2" string="Validate" class="oe_highlight" groups="account.group_account_invoice"/>
                        
                        <button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_invoice':True}"/>
                        
                        <button name="%(account.action_account_invoice_refund)d" type='action' string='Ask Refund' states='open,paid' groups="account.group_account_invoice"/>
                        <button name="invoice_cancel" states="draft,proforma2" string="Cancel Invoice" groups="account.group_account_invoice"/>
                        <button name="action_cancel_draft" states="cancel" string="Set to Draft" type="object" groups="account.group_account_invoice"/>
                        <button name='%(account.action_account_state_open)d' type='action' string='Re-Open' groups="account.group_account_invoice" attrs="{'invisible':['|', ('state','&lt;&gt;','paid'), ('reconciled', '=', True)]}" help="This button only appears when the state of the invoice is 'paid' (showing that it has been fully reconciled) and auto-computed boolean 'reconciled' is False (depicting that it's not the case anymore). In other words, the invoice has been dereconciled and it does not fit anymore the 'paid' state. You should press this button to re-open it and let it continue its normal process after having resolved the eventual exceptions it may have created."/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,paid" statusbar_colors='{"proforma":"blue","proforma2":"blue"}'/>
                </header>
                <sheet string="Supplier Invoice">
                	<div class="oe_title">
                        <h1>
                            <label string="Draft Invoice" attrs="{'invisible': ['|',('state','&lt;&gt;','draft'), ('type','&lt;&gt;','in_invoice')]}"/>
                            <label string="Draft Refund" attrs="{'invisible': ['|',('state','&lt;&gt;','draft'), ('type','&lt;&gt;','in_refund')]}"/>
                            <label string="Invoice" attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','&lt;&gt;','in_invoice')]}"/>
                            <label string="Refund" attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','&lt;&gt;','in_refund')]}"/>
                            <field name="number" class="oe_inline"  attrs="{'invisible': [('state', '=', 'draft')]}"/>
                        </h1>
                    </div>
                    <field name="type" invisible="1" readonly='0'/>
                    <group>
                        <group>
                        	<field name="name" string="Document No" readonly="1"/>      
                        	<field string="Vendor" name="partner_id"
                              on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id)"
                              context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1}"
                              domain="[('supplier', '=', True)]" options="{'create': false, 'create_edit': false}"/>
                            <field name="vendor_ref" required='1'/>
                            <field name="is_tds_applicable" on_change="onchange_without_po_tds(is_tds_applicable)" invisible = '1'/>
                            <field name="tds_id" attrs="{'invisible': [('is_tds_applicable','=',False)]}" options="{'create': false, 'create_edit': false}" invisible = '1'/>
                            <field name="create_uid" options="{'create': false, 'create_edit': false}"/>
                            <field name="cost_center_id" required='1' options="{'create': false, 'create_edit': false}"/>
                            
                            <field name="doc_type" invisible = '1'/>
                            <field name="fiscal_position" widget="selection" invisible = '1'/>
                            <field name="origin" invisible = '1'/>
                            <field name="supplier_invoice_number" invisible = '1'/>
                            <label for="reference_type" invisible = '1'/>
                            <div invisible = '1'>
                                <field name="reference_type" class="oe_inline oe_edit_only" />
                                <field name="reference" class="oe_inline"/>
                            </div>
                        </group>
                        <group>
                            <field name="date_invoice" string="Posting Date" required='1' on_change="onchange_date_invoice(date_invoice)"/>
                            <field name='bill_number'/>
							<field name='bill_date'/>
                            <field name="date_due"/>
                            <field name="created_on"/>
                            <field domain="[('company_id', '=', company_id), ('type', '=', 'payable')]"
                                name="account_id" required = "0" groups="account.group_account_user" invisible = '1'/>
                            <field name="journal_id" groups="account.group_account_user"
                                on_change="onchange_journal_id(journal_id, context)" widget="selection" invisible = '1'/>
                            <field name="currency_id" options="{'create': false, 'create_edit': false}"/>
                            <field name="check_total" groups="account.group_supplier_inv_check_total" invisible = '1'/>
                       		
                        </group>
                    </group>
                    <notebook>
                        <page string="Invoice">
                            <field context="{'partner_id': partner_id, 'price_type': context.get('price_type') or False, 'type': type, 'default_p_f_type':'2', 'default_fright_type':'2'}" name="invoice_line">
                                <tree string="Invoice lines" editable="bottom">
                                    <field name="sequence" widget="handle" invisible = '1'/>
                            <!--        <field name="gl_code_id" required = '1' on_change="onchange_gl_code_id(gl_code_id)" options="{'create': false, 'create_edit': false}"/> -->
                                    <field name="account_id" string = 'GL Account' options="{'create': false, 'create_edit': false}" groups="account.group_account_user" />
                                    <field name="product_id" invisible = '1'
                                        on_change="product_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
                                    <field name="name" required = '0' invisible="1"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_analytic_id" invisible="1" groups="analytic.group_analytic_accounting"
                                        domain="[('type','!=','view'), ('company_id', '=', parent.company_id)]"/>
                                    <field name="quantity" readonly = '1'/>
                                    <field name="uos_id" invisible = '1' groups="product.group_uom"
                                        on_change="uos_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
                                    <field name="price_unit"/>
                                    <field name="disc"/>
                                    <field name="discount" invisible = '1' groups="sale.group_discount_per_so_line"/>
                                    <field name="tds_id" options="{'create': false, 'create_edit': false}"/>
                                    <field name="p_f"/>
                                    <field name="p_f_type" invisible = '1'/>
                                    <field name="ed"/>
                                    <field name="ed_type"/>
                                    <field name="tax_id"/>
                                    <!--  
                                    <field name="tax_id" on_change = "onchange_tax_id(tax_id)" context="{'type':parent.type}"
                                        domain="[('parent_id','=',False),('company_id', '=', parent.company_id)]" options="{'create': false, 'create_edit': false}"/>
                                    -->
                                    <field name="invoice_line_tax_id" string = 'tax many2many' widget="many2many_tags" context="{'type':parent.type}"
                                        domain="[('parent_id','=',False),('company_id', '=', parent.company_id)]" invisible = '1'/>
                                    <field name="fright"/>
                                    <field name="fright_type" invisible = '1'/>
                                    <field name="line_net"/>
                                    <field name="price_subtotal" invisible = '1'/>
                                </tree>
                            </field>
                            <group class="oe_subtotal_footer oe_right">
                                <field name="amount_untaxed" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <field name="p_f_charge" widget="monetary"/>
								<field name="excise_duty" widget="monetary"/>
                                <div>
                                    <label for="amount_tax"/>
                                    <button name="button_reset_taxes" states="draft,proforma2"
                                        string="(update)" class="oe_link oe_edit_only"
                                        type="object" help="Recompute taxes and total"/>
                                </div>
                                <field name="amount_tax" nolabel="1" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <field name="fright" widget="monetary"/>
                                <field name="amount_total_tds" widget="monetary"/>
                                <field name="amount_round_off" widget="monetary"/>
                                <field name="amount_total" class="oe_subtotal_footer_separator" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_total_inr" class="oe_subtotal_footer_separator" widget="monetary" attrs="{'invisible': [('amount_total','=','amount_total_inr')]}"/>
								<field name="residual" widget="monetary" options="{'currency_field': 'currency_id'}" invisible = '1'/>
                                <field name="reconciled" invisible="1"/>
                            </group>
                            <div style="width: 50%%" invisible = '1'>
                                <field name="tax_line">
                                    <tree editable="bottom" string="Taxes">
                                        <field name="name"/>
                                        <field name="account_id" groups="account.group_account_invoice"/>
                                        <field name="account_analytic_id" domain="[('type','&lt;&gt;','view'), ('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                        <field name="base" on_change="base_change(base,parent.currency_id,parent.company_id,parent.date_invoice)" readonly="1"/>
                                        <field name="amount" on_change="amount_change(amount,parent.currency_id,parent.company_id,parent.date_invoice)"/>

                                        <field invisible="True" name="base_amount"/>
                                        <field invisible="True" name="tax_amount"/>
                                        <field name="factor_base" invisible="True"/>
                                        <field name="factor_tax" invisible="True"/>
                                    </tree>
                                </field>
                            </div>
                            <div class="oe_clear">
                                <label for="comment"/>
                            </div>
                            <field name="comment"/>
                        </page>
                        <page string="Other Info">
                            <group>
                                <group>
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" on_change="onchange_partner_bank(partner_bank_id)"/>
                                    <field name="user_id"/>
                                    <field name="payment_term" widget="selection"/>
                                </group>
                                <group>
                                    <field name="move_id" groups="account.group_account_user"/>
                                    <field name="period_id" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" on_change="onchange_company_id(company_id,partner_id,type,invoice_line,currency_id)" widget="selection" groups="base.group_multi_company"/>
                                </group>
                            </group>
                            
                        </page>
                        <page string="Payments">
                            <field name="payment_ids">
                                <tree string="Payments">
                                    <field name="date" string="Payment Date"/>
                                    <field name="move_id"/>
                                    <field name="ref"/>
                                    <field name="name"/>
                                    <field name="journal_id"/>
                                    <field name="debit"/>
                                    <field name="credit"/>
                                    <field name="amount_currency"/>
                                    <field name="currency_id" groups="base.group_multi_currency"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" invisible = '1'/>
                    <field name="message_ids" widget="mail_thread" invisible = '1'/>
                </div>
                </form>
			</field>
		</record> 
		
		<record id="action_invoice_supplier_without_po" model="ir.actions.act_window">
            <field name="name">Supplier Invoices(without po)</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id" ref="view_tpt_supplier_invoice_without_po_tree"/>
            <!-- <field name="domain">[('type','=','in_invoice'),('purchase_id','=',False)]</field>  -->
            <field name="domain">[('doc_type','=','supplier_invoice_without'),('purchase_id','=',False)]</field>
            <field name="context">{'default_doc_type': 'supplier_invoice_without','default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase'}</field>
            <field name="search_view_id" ref="view_account_invoice_filter"/>
        </record>
        <record id="action_invoice_supplier_without_po1" model="ir.actions.act_window.view">
            <field eval="3" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tpt_supplier_invoice_without_po_tree"/>
            <field name="act_window_id" ref="action_invoice_supplier_without_po"/>
        </record>
        <record id="action_invoice_supplier_without_po2" model="ir.actions.act_window.view">
            <field eval="4" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tpt_supplier_invoice_without_po_form"/>
            <field name="act_window_id" ref="action_invoice_supplier_without_po"/>
        </record>
        
        <record id="view_tpt_service_invoice_tree" model="ir.ui.view">
			<field name="name">view.tpt.service.invoice.tree</field>
			<field name="model">account.invoice</field>
			<field name="arch" type="xml">
				<tree string="Service Invoice">
                    <field name="partner_id" groups="base.group_user"/>
                    <field name="date_invoice"/>
                    <field name="number"/>
                    <field name="reference" invisible="1"/>
                    <field name="name" invisible="1"/>
                    <field name="journal_id" invisible="1"/>
                    <field name="period_id" invisible="1" groups="account.group_account_user"/>
                    <field name="company_id" groups="base.group_multi_company" widget="selection"/>
                    <field name="user_id"/>
                    <field name="date_due"/>
                    <field name="origin"/>
                    <field name="currency_id" groups="base.group_multi_currency"/>
                    <field name="residual" sum="Residual Amount"/>
                    <field name="amount_untaxed" sum="Untaxed Amount"/>
                    <field name="amount_total" sum="Total Amount"/>
                    <field name="state"/>
                </tree>
			</field>
		</record>
		
		<record id="view_tpt_service_invoice_form" model="ir.ui.view">
            <field name="name">vview.tpt.service.invoice.form</field>
            <field name="model">account.invoice</field>
            <field name="arch" type="xml">
	            <form string="Service Invoice" version="7.0">
	            <header>
                        <button name="invoice_open" states="draft,proforma2" string="Validate" class="oe_highlight" groups="account.group_account_invoice,green_erp_arulmani_accounting.group_vvti_accounting_admin"/>
                        
                        <button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_invoice':True}"/>
                        
                        <button name="%(account.action_account_invoice_refund)d" type='action' string='Ask Refund' states='open,paid' groups="account.group_account_invoice"/>
                        <button name="invoice_cancel" states="draft,proforma2" string="Cancel Invoice" groups="account.group_account_invoice"/>
                        <button name="action_cancel_draft" states="cancel" string="Set to Draft" type="object" groups="account.group_account_invoice"/>
                        <button name='%(account.action_account_state_open)d' type='action' string='Re-Open' groups="account.group_account_invoice" attrs="{'invisible':['|', ('state','&lt;&gt;','paid'), ('reconciled', '=', True)]}" help="This button only appears when the state of the invoice is 'paid' (showing that it has been fully reconciled) and auto-computed boolean 'reconciled' is False (depicting that it's not the case anymore). In other words, the invoice has been dereconciled and it does not fit anymore the 'paid' state. You should press this button to re-open it and let it continue its normal process after having resolved the eventual exceptions it may have created."/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,paid" statusbar_colors='{"proforma":"blue","proforma2":"blue"}'/>
                </header>
                <sheet string="Service Invoice">
                	<div class="oe_title">
                        <h1>
                            <label string="Draft Invoice" attrs="{'invisible': ['|',('state','&lt;&gt;','draft'), ('type','&lt;&gt;','in_invoice')]}"/>
                            <label string="Draft Refund" attrs="{'invisible': ['|',('state','&lt;&gt;','draft'), ('type','&lt;&gt;','in_refund')]}"/>
                            <label string="Invoice" attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','&lt;&gt;','in_invoice')]}"/>
                            <label string="Refund" attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','&lt;&gt;','in_refund')]}"/>
                            <field name="number" class="oe_inline"  attrs="{'invisible': [('state', '=', 'draft')]}"/>
                        </h1>
                    </div>
                    <field name="type" invisible="1" readonly='0'/>
                    <group>
                        <group>
                        	<field name="name" string="Document No" readonly="1"/>
                        	
                        	<!--  <field name="purchase_id" context="{'search_po_document':True, 'purchase_id':purchase_id}" on_change = 'onchange_purchase_id(purchase_id)' string = 'Service PO' domain="[('po_document_type','=','service'), ('state','=','done')]" required = '1' readonly="0" options="{'create': false, 'create_edit': false}"/> -->
                        	
                        	<field name="purchase_id" context="{'search_po_document':True, 'purchase_id':purchase_id}" on_change = 'onchange_purchase_id(purchase_id)' string = 'Service PO' domain="[('po_document_type','=','service'), ('state','=','done'), ('state','not in',['invoice_raised'])]" required = '1' readonly="0" options="{'create': false, 'create_edit': false}"/>
                        	<!-- TPT-BM
                        	<field string="Vendor" name="partner_id" 
                              context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1}"
                              domain="[('supplier', '=', True)]" options="{'create': false, 'create_edit': false}"/>
                            -->
                            <field string="Vendor" name="partner_id"
                              on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id)"
                              context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1}"
                              domain="[('supplier', '=', True)]" options="{'create': false, 'create_edit': false}"/>
                             
                            <field name="vendor_ref" required='1'/>
                            <!-- <field name="is_tds_applicable" on_change="onchange_service_tds(is_tds_applicable, purchase_id)" invisible = '1'/>
                             -->
                             <field name="is_tds_applicable" invisible = '1'/>
                            <field name="tds_id" attrs="{'invisible': [('is_tds_applicable','=',False)]}" options="{'create': false, 'create_edit': false}" invisible = '1'/>
                            <field name="create_uid" options="{'create': false, 'create_edit': false}"/>
                            <field name="cost_center_id" required='1' options="{'create': false, 'create_edit': false}"/>
                            <field name="fiscal_position" widget="selection" invisible = '1'/>
                            <field name="origin" invisible = '1'/>
                            <field name="supplier_invoice_number" invisible = '1'/>
                            <label for="reference_type" invisible = '1'/>
                            <div invisible = '1'>
                                <field name="reference_type" class="oe_inline oe_edit_only" />
                                <field name="reference" class="oe_inline"/>
                            </div>
                        </group>
                        <group>
                            <field name="date_invoice" string="Posting Date" required='1' on_change="onchange_date_invoice(date_invoice)"/>
                            <field name='bill_number'/>
							<field name='bill_date'/>
                            <field name="date_due"/>
                            <field name="created_on"/>
                            <field domain="[('company_id', '=', company_id), ('type', '=', 'payable')]"
                                name="account_id" required = "0" groups="account.group_account_user" invisible = '1'/>
                            <field name="journal_id" groups="account.group_account_user"
                                on_change="onchange_journal_id(journal_id, context)" widget="selection" invisible = '1'/>
                            <field name="currency_id" options="{'create': false, 'create_edit': false}"/>
                            <field name="check_total" groups="account.group_supplier_inv_check_total" invisible = '1'/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Invoice">
	                            <field context="{'partner_id': partner_id, 'price_type': context.get('price_type') or False, 'type': type, 'default_p_f_type':'2', 'default_fright_type':'2'}" name="invoice_line">
	                                <tree string="Invoice lines" editable="bottom">
	                                    <field name="sequence" invisible = '1'/>
	                            <!--        <field name="gl_code_id" required = '1' on_change="onchange_gl_code_id(gl_code_id)" options="{'create': false, 'create_edit': false}"/> -->
	                                    <field name="product_id" string = 'Code'
	                                        on_change="product_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
	                                    <field name="name" required = '0'/>
	                                    <field name="company_id" invisible="1"/>
	                                    <field name="account_analytic_id" invisible="1" groups="analytic.group_analytic_accounting"
	                                        domain="[('type','!=','view'), ('company_id', '=', parent.company_id)]"/>
	                                    <field name="quantity"/>
	                                    <field name="uos_id" groups="product.group_uom"
	                                        on_change="uos_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
	                                    <field name="price_unit"/>
	                                    <field name="disc"/>
	                                    <field name="discount" invisible = '1' groups="sale.group_discount_per_so_line"/>
	                                    <field name="tds_id" options="{'create': false, 'create_edit': false}"/>
	                                    <field name="p_f"/>
	                                    <field name="p_f_type"/>
	                                    <field name="ed"/>
	                                    <field name="ed_type"/>
	                                    <field name="tax_id" on_change = "onchange_tax_id(tax_id)" context="{'type':parent.type}"
                                        domain="[('parent_id','=',False),('company_id', '=', parent.company_id)]" options="{'create': false, 'create_edit': false}"/>
                                    <field name="invoice_line_tax_id" string = 'Taxes' widget="many2many_tags" context="{'type':parent.type}"
                                        domain="[('parent_id','=',False),('company_id', '=', parent.company_id)]" invisible = '1'/>
                                    <field name="tax_service_credit" on_change = "onchange_tax_credit(tax_id, tax_service_credit)" options="{'create': false, 'create_edit': false}"/>
                                    <field name="fright"/>
                                    <field name="fright_type"/>
                                    <field name="line_net"/>
                                    <field name="price_subtotal" invisible = '1'/>
                                </tree>
                            </field>
                            <group class="oe_subtotal_footer oe_right">
                                <field name="amount_untaxed" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <field name="p_f_charge" widget="monetary"/>
								<field name="excise_duty" widget="monetary"/>
                                <div>
                                    <label for="amount_tax"/>
                                    <button name="button_reset_taxes" states="draft,proforma2"
                                        string="(update)" class="oe_link oe_edit_only"
                                        type="object" help="Recompute taxes and total"/>
                                </div>
                                <field name="amount_tax" nolabel="1" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_tax_credit" widget="monetary"/>
                                <field name="fright" widget="monetary"/>
                                <field name="amount_total_tds" widget="monetary"/>
                                <field name="amount_round_off" widget="monetary"/>
                                <field name="amount_total" class="oe_subtotal_footer_separator" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_total_inr" class="oe_subtotal_footer_separator" widget="monetary" attrs="{'invisible': [('amount_total','=','amount_total_inr')]}"/>
								<field name="residual" widget="monetary" options="{'currency_field': 'currency_id'}" invisible = '1'/>
                                <field name="reconciled" invisible="1"/>
                            </group>
                            <div style="width: 50%%" invisible = '1'>
                                <field name="tax_line">
                                    <tree editable="bottom" string="Taxes">
                                        <field name="name"/>
                                        <field name="account_id" groups="account.group_account_invoice"/>
                                        <field name="account_analytic_id" domain="[('type','&lt;&gt;','view'), ('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                        <field name="base" on_change="base_change(base,parent.currency_id,parent.company_id,parent.date_invoice)" readonly="1"/>
                                        <field name="amount" on_change="amount_change(amount,parent.currency_id,parent.company_id,parent.date_invoice)"/>

                                        <field invisible="True" name="base_amount"/>
                                        <field invisible="True" name="tax_amount"/>
                                        <field name="factor_base" invisible="True"/>
                                        <field name="factor_tax" invisible="True"/>
                                    </tree>
                                </field>
                            </div>
                            <div class="oe_clear">
                                <label for="comment"/>
                            </div>
                            <field name="comment"/>
                        </page>
                        <page string="Other Info">
                            <group>
                                <group>
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" on_change="onchange_partner_bank(partner_bank_id)"/>
                                    <field name="user_id"/>
                                    <field name="payment_term" widget="selection"/>
                                </group>
                                <group>
                                    <field name="move_id" groups="account.group_account_user"/>
                                    <field name="period_id" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" on_change="onchange_company_id(company_id,partner_id,type,invoice_line,currency_id)" widget="selection" groups="base.group_multi_company"/>
                                </group>
                            </group>
                            
                        </page>
                        <page string="Payments">
                            <field name="payment_ids">
                                <tree string="Payments">
                                    <field name="date" string="Payment Date"/>
                                    <field name="move_id"/>
                                    <field name="ref"/>
                                    <field name="name"/>
                                    <field name="journal_id"/>
                                    <field name="debit"/>
                                    <field name="credit"/>
                                    <field name="amount_currency"/>
                                    <field name="currency_id" groups="base.group_multi_currency"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" invisible = '1'/>
                    <field name="message_ids" widget="mail_thread" invisible = '1'/>
                </div>
                </form>
			</field>
		</record> 
		
		<record id="action_invoice_service" model="ir.actions.act_window">
            <field name="name">Service Invoice</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id" ref="view_tpt_service_invoice_tree"/>
            <field name="domain">[('type','=','in_invoice'), ('purchase_id.po_document_type','=', 'service'), ('doc_type','=', 'service_invoice')]</field>
            <field name="context">{'default_doc_type': 'service_invoice','default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase'}</field>
            <field name="search_view_id" ref="view_account_invoice_filter"/>
        </record>
        <record id="action_invoice_service1" model="ir.actions.act_window.view">
            <field eval="5" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tpt_service_invoice_tree"/>
            <field name="act_window_id" ref="action_invoice_service"/>
        </record>
        <record id="action_invoice_service2" model="ir.actions.act_window.view">
            <field eval="6" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tpt_service_invoice_form"/>
            <field name="act_window_id" ref="action_invoice_service"/>
        </record>
        
        <menuitem action="action_invoice_service" id="menu_action_invoice_service" parent="account.menu_finance_payables"
        	groups="green_erp_arulmani_sale.group_vvti_unit_account,account.group_account_manager"/>
        	
       	<record id="view_tpt_freight_invoice_tree" model="ir.ui.view">
			<field name="name">view.tpt.freight.invoice.tree</field>
			<field name="model">account.invoice</field>
			<field name="arch" type="xml">
				<tree string="Freight Invoice">
                    <field name="partner_id" groups="base.group_user"/>
                    <field name="date_invoice"/>
                    <field name="number"/>
                    <field name="reference" invisible="1"/>
                    <field name="name" invisible="1"/>
                    <field name="journal_id" invisible="1"/>
                    <field name="period_id" invisible="1" groups="account.group_account_user"/>
                    <field name="company_id" groups="base.group_multi_company" widget="selection"/>
                    <field name="user_id"/>
                    <field name="is_tds_applicable"/>
                    <field name="tds_id" options="{'create': false, 'create_edit': false}"/>
                    <field name="date_due"/>
                    <field name="origin"/>
                    <field name="currency_id" groups="base.group_multi_currency"/>
                    <field name="residual" sum="Residual Amount"/>
                    <field name="amount_untaxed" sum="Untaxed Amount"/>
                    <field name="amount_total" sum="Total Amount"/>
                    <field name="state"/>
                </tree>
			</field>
		</record>
		
		<record id="view_tpt_freight_invoice_form" model="ir.ui.view">
            <field name="name">vview.tpt.freight.invoice.form</field>
            <field name="model">account.invoice</field>
            <field name="arch" type="xml">
	            <form string="Freight Invoice" version="7.0">
	            <header>
                        <button name="invoice_open" states="draft,proforma2" string="Validate" class="oe_highlight" groups="account.group_account_invoice"/>
                        
                        <button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_invoice':True}"/>
                        
                        <button name="%(account.action_account_invoice_refund)d" type='action' string='Ask Refund' states='open,paid' groups="account.group_account_invoice"/>
                        <button name="invoice_cancel" states="draft,proforma2,sale,open" string="Cancel Invoice" groups="account.group_account_invoice"/>
                        <button name="action_cancel_draft" states="cancel" string="Set to Draft" type="object" groups="account.group_account_invoice"/>
                        <button name='%(account.action_account_state_open)d' type='action' string='Re-Open' groups="account.group_account_invoice" attrs="{'invisible':['|', ('state','&lt;&gt;','paid'), ('reconciled', '=', True)]}" help="This button only appears when the state of the invoice is 'paid' (showing that it has been fully reconciled) and auto-computed boolean 'reconciled' is False (depicting that it's not the case anymore). In other words, the invoice has been dereconciled and it does not fit anymore the 'paid' state. You should press this button to re-open it and let it continue its normal process after having resolved the eventual exceptions it may have created."/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,paid" statusbar_colors='{"proforma":"blue","proforma2":"blue"}'/>
                </header>
                <sheet string="Freight Invoice">
                	<div class="oe_title">
                        <h1> 
                            <label string="Draft Invoice" attrs="{'invisible': ['|',('state','&lt;&gt;','draft'), ('type','&lt;&gt;','in_invoice')]}"/>
                            <label string="Draft Refund" attrs="{'invisible': ['|',('state','&lt;&gt;','draft'), ('type','&lt;&gt;','in_refund')]}"/>
                            <label string="Invoice" attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','&lt;&gt;','in_invoice')]}"/>
                            <label string="Refund" attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','&lt;&gt;','in_refund')]}"/>
                            <field name="number" class="oe_inline"  attrs="{'invisible': [('state', '=', 'draft')]}"/>
                        </h1> 
                    </div>
                    <field name="type" invisible="1" readonly='0'/>
                    <group>
                        <group>
                        	<field name="name" string="Document No" readonly="1"/>
                        	<field name="sup_inv_id" on_change = "onchange_sup_inv_id(sup_inv_id)" context="{'search_sup_inv_id':1}" options="{'create': false, 'create_edit': false}"/>
                        	<field string="Vendor" name="partner_id"
                              on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id)"
                              context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1}"
                              domain="[('supplier', '=', True)]" options="{'create': false, 'create_edit': false}"/>
                            <field name="vendor_ref" required='1'/>
                            <field name="is_tds_applicable" invisible = '1'/>
                            <field name="tds_id" attrs="{'invisible': [('is_tds_applicable','=',False)]}" options="{'create': false, 'create_edit': false}" invisible = '1'/>
                            <field name="create_uid" options="{'create': false, 'create_edit': false}"/>
                            <field name="fiscal_position" widget="selection" invisible = '1'/>
                            <field name="origin" invisible = '1'/>
                            <field name="supplier_invoice_number" invisible = '1'/>
                            <label for="reference_type" invisible = '1'/>
                            <div invisible = '1'>
                                <field name="reference_type" class="oe_inline oe_edit_only" />
                                <field name="reference" class="oe_inline"/>
                            </div>
                        </group>
                        <group>
                            <field name="date_invoice" string="Posting Date" required='1' on_change="onchange_date_invoice(date_invoice)"/>
                            <field name='bill_number'/>
							<field name='bill_date'/>
                            <field name="date_due"/>
                            <field name="created_on"/>
                            <field domain="[('company_id', '=', company_id), ('type', '=', 'payable')]"
                                name="account_id" required = "0" groups="account.group_account_user" invisible = '1'/>
                            <field name="journal_id" groups="account.group_account_user"
                                on_change="onchange_journal_id(journal_id, context)" widget="selection" invisible = '1'/>
                            <field name="currency_id" groups="base.group_multi_currency" invisible = '1'/>
                            <field name="check_total" groups="account.group_supplier_inv_check_total" invisible = '1'/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Invoice">
	                            <field context="{'partner_id': partner_id, 'price_type': context.get('price_type') or False, 'type': type, 'default_p_f_type':'2', 'default_fright_type':'2'}" name="invoice_line">
	                                <tree string="Invoice lines" editable="bottom">
	                                    <field name="sequence" widget="handle" invisible = '1'/>
	                            <!--        <field name="gl_code_id" required = '0' on_change="onchange_gl_code_id(gl_code_id)" options="{'create': false, 'create_edit': false}"/> -->
	                                    <field name="account_id" invisible = '1' required = '0' string = 'GL Account' options="{'create': false, 'create_edit': false}" groups="account.group_account_user" />
	                                    <field name="product_id" readonly='1' string = 'Code'
	                                        on_change="product_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
	                                    <field name="name" required = '0' readonly='1'/>
	                                    <field name="company_id" invisible="1"/>
	                                    <field name="account_analytic_id" invisible="1" groups="analytic.group_analytic_accounting"
	                                        domain="[('type','!=','view'), ('company_id', '=', parent.company_id)]"/>
	                                    <field name="quantity" readonly='1'/>
	                                    <field name="uos_id" groups="product.group_uom" readonly='1'
	                                        on_change="uos_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
	                                    <field name="price_unit" readonly='1'/>
	                                    <field name="disc" invisible = '1'/>
	                                    <field name="discount" invisible = '1' groups="sale.group_discount_per_so_line"/>
	                                    <field name="p_f" invisible = '1'/>
	                                    <field name="p_f_type" invisible = '1'/>
	                                    <field name="ed" invisible = '1'/>
	                                    <field name="ed_type" invisible = '1'/>
	                                    <field name="tax_id" invisible = '0' on_change = "onchange_tax_id(tax_id)" context="{'type':parent.type}"
                                        domain="[('parent_id','=',False),('company_id', '=', parent.company_id)]" options="{'create': false, 'create_edit': false}"/>
                                    <field name="invoice_line_tax_id" string = 'Tax (Debit)' widget="many2many_tags" context="{'type':parent.type}"
                                        domain="[('parent_id','=',False),('company_id', '=', parent.company_id)]" invisible='1'/>
                                    <field name="tax_credit" invisible = '0' on_change="onchange_tax_credit(tax_id,tax_credit)" options="{'create': false, 'create_edit': false}"/>
                                    <field name="tds_id_2" invisible = '0' options="{'create': false, 'create_edit': false}" />
                                    <field name="fright" invisible = '0'/>
                                    <field name="fright_fi_type" invisible = '0' required='1'/>
                                    <field name="line_net"/>
                                    <field name="price_subtotal" invisible = '1'/>
                                </tree>
                            </field>
                            <group class="oe_subtotal_footer oe_right">
                                <field name="amount_untaxed" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <field name="p_f_charge" widget="monetary" invisible = '1'/>
								<field name="excise_duty" widget="monetary" invisible = '1'/>
                                <div invisible='1'>
                                    <label for="amount_tax"/>
                                    <button name="button_reset_taxes" states="draft,proforma2"
                                        string="(update)" class="oe_link oe_edit_only"
                                        type="object" help="Recompute taxes and total"/>
                                </div>
                                <field name="amount_tax" nolabel="1" widget="monetary" invisible = '1' options="{'currency_field': 'currency_id'}"/>
                                <field name="fright" widget="monetary" invisible = '1' options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_tax_debit" widget="monetary" invisible = '0' options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_tax_credit" widget="monetary" invisible = '0' options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_total_tds_2" widget="monetary" invisible = '0' options="{'currency_field': 'currency_id'}" />
                                <field name="amount_round_off" widget="monetary"/>
                                <field name="amount_total" class="oe_subtotal_footer_separator" widget="monetary" options="{'currency_field': 'currency_id'}"/>
								<field name="residual" widget="monetary" options="{'currency_field': 'currency_id'}" invisible = '1'/>
                                <field name="reconciled" invisible="1"/>
                            </group>
                            <div style="width: 50%%" invisible = '1'>
                                <field name="tax_line">
                                    <tree editable="bottom" string="Taxes">
                                        <field name="name"/>
                                        <field name="account_id" groups="account.group_account_invoice"/>
                                        <field name="account_analytic_id" domain="[('type','&lt;&gt;','view'), ('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                        <field name="base" on_change="base_change(base,parent.currency_id,parent.company_id,parent.date_invoice)" readonly="1"/>
                                        <field name="amount" on_change="amount_change(amount,parent.currency_id,parent.company_id,parent.date_invoice)"/>

                                        <field invisible="True" name="base_amount"/>
                                        <field invisible="True" name="tax_amount"/>
                                        <field name="factor_base" invisible="True"/>
                                        <field name="factor_tax" invisible="True"/>
                                    </tree>
                                </field>
                            </div>
                            <div class="oe_clear">
                                <label for="comment"/>
                            </div>
                            <field name="comment"/>
                        </page>
                        <page string="Other Info">
                            <group>
                                <group>
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" on_change="onchange_partner_bank(partner_bank_id)"/>
                                    <field name="user_id"/>
                                    <field name="payment_term" widget="selection"/>
                                </group>
                                <group>
                                    <field name="move_id" groups="account.group_account_user"/>
                                    <field name="period_id" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" on_change="onchange_company_id(company_id,partner_id,type,invoice_line,currency_id)" widget="selection" groups="base.group_multi_company"/>
                                </group>
                            </group>
                            
                        </page>
                        <page string="Payments">
                            <field name="payment_ids">
                                <tree string="Payments">
                                    <field name="date" string="Payment Date"/>
                                    <field name="move_id"/>
                                    <field name="ref"/>
                                    <field name="name"/>
                                    <field name="journal_id"/>
                                    <field name="debit"/>
                                    <field name="credit"/>
                                    <field name="amount_currency"/>
                                    <field name="currency_id" groups="base.group_multi_currency"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" invisible = '1'/>
                    <field name="message_ids" widget="mail_thread" invisible = '1'/>
                </div>
                </form>
			</field>
		</record> 
		
		<record id="action_invoice_freight" model="ir.actions.act_window">
            <field name="name">Freight Invoice</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id" ref="view_tpt_freight_invoice_tree"/>
            <field name="domain">[('type','=','in_invoice'), ('sup_inv_id','!=',False), ('doc_type','=', 'freight_invoice')]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase'}</field>
            <field name="search_view_id" ref="view_account_invoice_filter"/>
        </record>
        <record id="action_invoice_freight1" model="ir.actions.act_window.view">
            <field eval="7" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tpt_freight_invoice_tree"/>
            <field name="act_window_id" ref="action_invoice_freight"/>
        </record>
        <record id="action_invoice_freight2" model="ir.actions.act_window.view">
            <field eval="8" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tpt_freight_invoice_form"/>
            <field name="act_window_id" ref="action_invoice_freight"/>
        </record>
        
        <menuitem action="action_invoice_freight" id="menu_action_invoice_freight" parent="account.menu_finance_payables"
        	groups="green_erp_arulmani_sale.group_vvti_unit_account,account.group_account_manager"/>
        
        
        
        
        
        <record model="ir.ui.view" id="bank_transaction_tree">
            <field name="name">bank.transaction.tree</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';gray:state == 'cancel';red:audit" string="Bank Transaction">
                    <field name="date"/>
                    <field name="number"/>
                    <field name="reference"/>
                    <field name="partner_id"/>
                    <field name="journal_id" groups="account.group_account_user"/>
                    <field name="period_id" invisible="context.get('visible', True)"/>
                    <field name="type_trans" invisible="context.get('visible', True)"/>
                    <field name="amount" sum="Total Amount"/>
                    <field name="audit" invisible="1"/>
                    <field name="state"/>
                    
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="bank_transaction_form">
            <field name="name">bank.transaction.form</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <form string="Bank Transaction" version="7.0">
                  <header>
                      <button name="proforma_voucher" string="Post" states="draft" class="oe_highlight"/>
                      <button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_voucher':True}"/>
                      <button name="cancel_voucher" string="Cancel Voucher" type="object" states="posted" confirm="Are you sure you want to unreconcile this record?"/>
                      <button name="cancel_voucher" string="Cancel Voucher" states="draft,proforma" />
                      <button name="print_voucher" type="object" states="posted" class="oe_highlight" string="Print Voucher"/>
                      <button name="action_cancel_draft" type="object" states="cancel" string="Set to Draft"/>
                      <field name="state" widget="statusbar" statusbar_visible="draft,posted" statusbar_colors='{"proforma":"blue"}'/>
                  </header>
                  <sheet string="Bank Transaction">
                    <group col="4" colspan="4">
                        <field name="name" string = "Document No" readonly = '1'/>
                        <field name="date" required='1' on_change="onchange_date(date, currency_id, payment_rate_currency_id, amount, company_id)"/>
                        <field name="journal_id" domain="[('type','=','bank')]" widget="selection" readonly = '1' on_change="onchange_journal_voucher(line_ids, tax_id, amount, partner_id, journal_id, type)" options="{'create': false, 'create_edit': false}"/>
                        <field name="type_trans" required="1"/>
                        <field name="account_id" string = "Bank GL Account" domain = "[('user_type.name','=','Bank')]" options="{'create': false, 'create_edit': false}"/>
                        <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                        <field name="reference" required='1'/>
                        <field name="sum_amount"/>
                        <field name="cheque_date"/>
                        <field name="cheque_no"/>
                        <field name="employee_id" required='0' options="{'create': false, 'create_edit': false}" />
                        <field name="cost_center_id" required="1" options="{'create': false, 'create_edit': false}" />
                        <field name="payee" required='1'/>
                        <!-- <field name="reconciliation_date"/>  TPT-BM-->
                        <field name="payment_rate_currency_id" invisible="1"/>
                        <field name="partner_id" invisible = '1' on_change="onchange_journal_voucher(line_ids, tax_id, amount, partner_id, journal_id, type)"/>
                    	<field name="type" required="0" invisible = '1'/>
                    	<field name="number" invisible = '1'/>
                    	<field name="currency_id" invisible = '1' groups="base.group_multi_currency"/>
                    	<field name="type_cash_bank" invisible = '1'/>
                    </group>
                    <notebook colspan="4">
                        <page string="Voucher Entry">
                            <field name="line_ids" on_change="onchange_price(line_ids, tax_id, partner_id)" context="{'journal_id':journal_id, 'type':type, 'partner_id':partner_id}">
                                <tree string="Voucher Items" editable="bottom">
                                    <field name="account_id" options="{'create': false, 'create_edit': false}"/>
                                    <field name="name"/>
                                    <field name="amount" sum="Total Amount"/>
                                    <field name="type" invisible = '1'/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting"/>
                                </tree>
                            </field>
                            <group>
                                <field name="narration" required='1' nolabel="1" placeholder="Internal Notes"/>
                                <group class="oe_subtotal_footer oe_right" attrs="{'invisible':[('type','in',['payment', 'receipt', False])]}">
                                    <field name="tax_id" on_change="onchange_price(line_ids, tax_id, partner_id)" widget="selection" nolabel="1"/>
                                    <field name="tax_amount" nolabel="1"/>
                                    <div class="oe_subtotal_footer_separator">
                                        <label for="amount"/>
                                        <button type="object" icon="terp-stock_format-scientific"   name="compute_tax" class="oe_link oe_edit_only" string="(Update)" attrs="{'invisible': [('state','!=','draft')]}"/>
                                    </div>
                                    <field name="amount" class="oe_subtotal_footer_separator" nolabel="1"/>
                                </group>
                            </group>
                        </page>
                        <page string="Journal Items" attrs="{'invisible': [('state','!=','posted')]}">
                            <group col="4">
                                <field name="period_id"/>
                                <field name="audit"/>
                            </group>
                            <field name="move_ids" readonly="1">
                               <tree string="Journal Items">
                                   <field name="move_id"/>
                                   <field name="ref"/>
                                   <field name="date"/>
                                   <field name="statement_id"/>
                                   <field name="partner_id"/>
                                   <field name="account_id"/>
                                   <field name="name"/>
                                   <field name="debit"/>
                                   <field name="credit"/>
                                   <field name="state"/>
                                   <field name="reconcile_id"/>
                               </tree>
                            </field>
                        </page>
                    </notebook>
                  </sheet>
                  <div class="oe_chatter">
                      <field name="message_follower_ids" widget="mail_followers"/>
                      <field name="message_ids" widget="mail_thread"/>
                  </div>
                </form>
            </field>
        </record>
          
       <record id="action_bank_transaction" model="ir.actions.act_window">
            <field name="name">Bank Transaction</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="view_id" eval="bank_transaction_tree"/>
            <field name="domain">[('journal_id.type', '=', 'bank')]</field>
            <field name="context">{'journal_type':'bank'}</field>
            <field name="search_view_id" ref="account_voucher.view_voucher_filter"/>
        </record>
        <record id="action_bank_transaction1" model="ir.actions.act_window.view">
            <field eval="3" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="bank_transaction_tree"/>
            <field name="act_window_id" ref="action_bank_transaction"/>
        </record>
        <record id="action_bank_transaction2" model="ir.actions.act_window.view">
            <field eval="4" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="bank_transaction_form"/>
            <field name="act_window_id" ref="action_bank_transaction"/>
        </record>
  
        <menuitem action="action_bank_transaction" id="menu_action_bank_transaction" parent="account.menu_finance_entries" sequence="10" groups="base.group_no_one,green_erp_arulmani_accounting.group_vvti_accounting_admin"/>  
        
        <record model="ir.ui.view" id="cash_transaction_tree">
            <field name="name">cash.transaction.tree</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';gray:state == 'cancel';red:audit" string="Bank Transaction">
                    <field name="date"/>
                    <field name="number"/>
                    <field name="reference"/>
                    <field name="partner_id"/>
                    <field name="journal_id" groups="account.group_account_user"/>
                    <field name="period_id" invisible="context.get('visible', True)"/>
                    <field name="type" invisible="context.get('visible', True)"/>
                    <field name="amount" sum="Total Amount"/>
                    <field name="audit" invisible="1"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>        
       
        <record model="ir.ui.view" id="cash_transaction_form">
            <field name="name">cash.transaction.form</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <form string="Cash Transaction" version="7.0">
                  <header>
                      <button name="proforma_voucher" string="Post" states="draft" class="oe_highlight"/>
                      <button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_voucher':True}"/>
                      <button name="cancel_voucher" string="Cancel Voucher" type="object" states="posted" confirm="Are you sure you want to unreconcile this record?"/>
                      <button name="cancel_voucher" string="Cancel Voucher" states="draft,proforma" />
                      <button name="print_voucher" type="object" states="posted" class="oe_highlight" string="Print Voucher"/>
                      <button name="action_cancel_draft" type="object" states="cancel" string="Set to Draft"/>
                      <field name="state" widget="statusbar" statusbar_visible="draft,posted" statusbar_colors='{"proforma":"blue"}'/>
                  </header>
                  <sheet string="Cash Transaction">
                    <group col="4" colspan="4">
                        <field name="name" string = "Document No" readonly = '1'/>
                        <field name="date" required='1' on_change="onchange_date(date, currency_id, payment_rate_currency_id, amount, company_id)"/>
                        <field name="journal_id" domain="[('type','=','cash')]" widget="selection" readonly = '1' on_change="onchange_journal_voucher(line_ids, tax_id, amount, partner_id, journal_id, type)" options="{'create': false, 'create_edit': false}"/>
                        <field name="type_trans" required="1"/>
                        <field name="account_id" string = "Cash GL Account" domain = "[('user_type.name','=','Cash')]" options="{'create': false, 'create_edit': false}"/>
                        <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                        <field name="reference" required='1'/>
                        <field name="sum_amount"/>
                        <field name="cheque_date"/>
                        <field name="cheque_no"/>
                        <field name="employee_id" options="{'create': false, 'create_edit': false}" />
                        <field name="cost_center_id" options="{'create': false, 'create_edit': false}" />
                        <field name="payee" required='1'/>
                        <field name="payment_rate_currency_id" invisible="1"/>
                        <field name="partner_id" invisible = '1' on_change="onchange_journal_voucher(line_ids, tax_id, amount, partner_id, journal_id, type)"/>
                    	<field name="type" required="0" invisible = '1'/>
                    	<field name="number" invisible = '1'/>
                    	<field name="currency_id" invisible = '1' groups="base.group_multi_currency"/>
                    	<field name="type_cash_bank" invisible = '1'/>
                    </group>
                    <notebook colspan="4">
                        <page string="Voucher Entry">
                            <field name="line_ids" on_change="onchange_price(line_ids, tax_id, partner_id)" context="{'journal_id':journal_id, 'type':type, 'partner_id':partner_id}">
                                <tree string="Voucher Items" editable="bottom">
                                    <field name="account_id" options="{'create': false, 'create_edit': false}"/>
                                    <field name="name"/>
                                    <field name="amount" sum="Total Amount"/>
                                    <field name="type" invisible = '1'/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting"/>
                                </tree>
                            </field>
                            <group>
                                <field name="narration" nolabel="1" placeholder="Internal Notes"/>
                                <group class="oe_subtotal_footer oe_right" attrs="{'invisible':[('type','in',['payment', 'receipt', False])]}">
                                    <field name="tax_id" on_change="onchange_price(line_ids, tax_id, partner_id)" widget="selection" nolabel="1"/>
                                    <field name="tax_amount" nolabel="1"/>
                                    <div class="oe_subtotal_footer_separator">
                                        <label for="amount"/>
                                        <button type="object" icon="terp-stock_format-scientific"   name="compute_tax" class="oe_link oe_edit_only" string="(Update)" attrs="{'invisible': [('state','!=','draft')]}"/>
                                    </div>
                                    <field name="amount" class="oe_subtotal_footer_separator" nolabel="1"/>
                                </group>
                            </group>
                        </page>
                        <page string="Journal Items" attrs="{'invisible': [('state','!=','posted')]}">
                            <group col="4">
                                <field name="period_id"/>
                                <field name="audit"/>
                            </group>
                            <field name="move_ids" readonly="1">
                               <tree string="Journal Items">
                                   <field name="move_id"/>
                                   <field name="ref"/>
                                   <field name="date"/>
                                   <field name="statement_id"/>
                                   <field name="partner_id"/>
                                   <field name="account_id"/>
                                   <field name="name"/>
                                   <field name="debit"/>
                                   <field name="credit"/>
                                   <field name="state"/>
                                   <field name="reconcile_id"/>
                               </tree>
                            </field>
                        </page>
                    </notebook>
                  </sheet>
                  <div class="oe_chatter">
                      <field name="message_follower_ids" widget="mail_followers"/>
                      <field name="message_ids" widget="mail_thread"/>
                  </div>
                </form>
            </field>
        </record>
        <!-- 
       <report id="report_account_voucher_print" string="Voucher" 
       model="account.voucher" name="voucher1.print" 
       rml="green_erp_arulmani_accounting/report/account_voucher_print.rml" 
       auto="False" header = "False" menu="True" multi="True"/>   
        -->
       <record id="action_cash_transaction" model="ir.actions.act_window">
            <field name="name">Cash Transaction</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="view_id" ref="cash_transaction_tree"/>
            <field name="search_view_id" ref="account_voucher.view_voucher_filter"/>
            <field name="domain">[('journal_id.type', '=', 'cash')]</field>
            <field name="context">{'journal_type':'cash'}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a new cash log.
              </p><p>
                A Cash Register allows you to manage cash entries in your cash
                journals. This feature provides an easy way to follow up cash
                payments on a daily basis. You can enter the coins that are in
                your cash box, and then post entries when money comes in or
                goes out of the cash box.
              </p>
            </field>
        </record>
        <record id="action_cash_transaction1" model="ir.actions.act_window.view">
            <field eval="5" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="cash_transaction_tree"/>
            <field name="act_window_id" ref="action_cash_transaction"/>
        </record>
        <record id="action_cash_transaction2" model="ir.actions.act_window.view">
            <field eval="6" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="cash_transaction_form"/>
            <field name="act_window_id" ref="action_cash_transaction"/>
        </record>
  
        <menuitem action="action_cash_transaction" id="menu_action_cash_transaction" parent="account.menu_finance_entries" sequence="15" groups="base.group_no_one,green_erp_arulmani_accounting.group_vvti_accounting_admin"/>  
        
        <record id="view_tpt_supplier_invoice_with_po_tree" model="ir.ui.view">
			<field name="name">view.tpt.supplier.invoice.without.po.tree</field>
			<field name="model">account.invoice</field>
			<field name="arch" type="xml">
				<tree string="Supplier Invoice">
					<field name="name" invisible="0"/>
                    <field name="partner_id" groups="base.group_user"/>
                    <field name="date_invoice"/>
                    <field name="purchase_id"/>
                	<field name="grn_no"/>
                    <field name="amount_untaxed" sum="Untaxed Amount"/>
                    <field name="amount_total" sum="Total Amount"/>
                    <field name="state" invisible="1"/>
                </tree>
			</field>
		</record>
        
        <record id="account.action_invoice_tree2" model="ir.actions.act_window">
            <field name="name">Supplier Invoices(with po)</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field eval="False" name="view_id"/>
             <!--<field name="domain">[('type','=','in_invoice'),('purchase_id','!=',False)]</field> -->
            <field name="domain">[('doc_type','=','supplier_invoice'),('purchase_id','!=',False)]</field>
            <!-- <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase'}</field>
             -->
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase'}</field>
             <field name="search_view_id" ref="view_account_invoice_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to record a new supplier invoice.
              </p><p>
                You can control the invoice from your supplier according to
                what you purchased or received. OpenERP can also generate
                draft invoices automatically from purchase orders or receipts.
              </p>
            </field>
        </record>
        <record id="action_invoice_tree21" model="ir.actions.act_window.view">
            <field eval="5" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tpt_supplier_invoice_with_po_tree"/>
            <field name="act_window_id" ref="account.action_invoice_tree2"/>
        </record>
        <record id="action_invoice_tree22" model="ir.actions.act_window.view">
            <field eval="6" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="account.invoice_supplier_form"/>
            <field name="act_window_id" ref="account.action_invoice_tree2"/>
        </record>

        <record id="account.action_invoice_tree1_view1" model="ir.actions.act_window.view">
            <field eval="7" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="account.invoice_tree"/>
            <field name="act_window_id" ref="account.action_invoice_tree1"/>
        </record>
        <record id="account.action_invoice_tree1_view2" model="ir.actions.act_window.view">
            <field eval="8" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="account.invoice_form"/>
            <field name="act_window_id" ref="account.action_invoice_tree1"/>
        </record>
        
        <menuitem action="action_invoice_supplier_without_po" id="menu_action_invoice_supplier_without_po" parent="account.menu_finance_payables"
        	groups="green_erp_arulmani_sale.group_vvti_unit_account,account.group_account_manager,green_erp_arulmani_purchase.group_vvti_purchase_store_user"/>
        
        <record id="tpt_account_supplier_voucher_pay_form" model="ir.ui.view">
            <field name="name">tpt.account.supplier.voucher.pay.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account_voucher.view_invoice_supplier"/>
            <field name="arch" type="xml">
            	<xpath expr="//button[@name='invoice_pay_customer']" position="attributes">
					 <attribute name='invisible'>1</attribute>
				</xpath>
			</field>
		</record>
        
        <record id="view_voucher_form_inherit" model="ir.ui.view">
            <field name="name">view.voucher.form.inherit</field>
            <field name="model">account.voucher</field>
            <field name="inherit_id" ref="account_voucher.view_voucher_form"/>
            <field name="arch" type="xml">
                <data>
                	<xpath expr="//button[@name='proforma_voucher']" position="after" >
                		<button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_voucher':True}"/>
                    </xpath>
                    <xpath expr="//form[@string='Accounting Voucher']/sheet[@string='Accounting Voucher']/group/field[@name='name']" position="replace">
                       <field name="memo"  />
                       <field name="employee_id" options="{'create': false, 'create_edit': false}" />
                       <field name="cost_center_id" required="0" options="{'create': false, 'create_edit': false}" />
                    </xpath>
              		<xpath expr="//form[@string='Accounting Voucher']/sheet[@string='Accounting Voucher']/group/field[@name='partner_id']" position="before">
                       <field name="name" readonly = "1" />
                    </xpath>

                    <xpath expr="//form[@string='Accounting Voucher']/sheet/group/field[@name='partner_id']" position="attributes" >
                       <attribute name='options'>{'create': false, 'create_edit': false}</attribute>
                    </xpath>
                    <xpath expr="//form[@string='Accounting Voucher']/sheet/notebook/page/field/tree/field[@name='account_id']" position="attributes" >
                       <attribute name='options'>{'create': false, 'create_edit': false}</attribute>
                    </xpath>
                    <xpath expr="//form[@string='Accounting Voucher']/sheet/group/field[@name='currency_id']" position="attributes" >
                       <attribute name='invisible'>1</attribute>
                    </xpath>
                    
                    <xpath expr="//button[@name='proforma_voucher']" position="attributes" >
                       <attribute name='context'>{'journal_entry_create':1}</attribute>
                    </xpath>
                    
                    <!--  -->
                    <xpath expr="//form/sheet/notebook/page[@string='Voucher Entry']/field/tree/field[@name='amount']"  position="replace">
					<field name="amount" />
					</xpath>
					
					<xpath expr="//form/sheet/notebook/page[@string='Voucher Entry']/group/group" position="attributes">
					<attribute name='invisible'>1</attribute>
				    </xpath>
				    
				    <xpath expr="//form/sheet/notebook/page[@string='Voucher Entry']/group/field[@name='narration']" position="after">  
	                     <div class="oe_subtotal_footer_separator" >
	                        <div col='4' colspan='4'>
	                        <label for="tpt_amount_total"/>
	                        <button type="object"  name="_tpt_sub_total" class="oe_link oe_edit_only" string="(Update)" attrs="{'invisible': [('state','!=','draft')]}"/>
	                        <!-- <field name="tpt_sub_total_amt" class="oe_subtotal_footer_separator" nolabel="1" readonly='0'/>  -->
	                   		<field name="tpt_amount_total" class="oe_subtotal_footer_separator" nolabel="1"/>
	                   		
	                   		</div>
	                    </div>	
				    </xpath>

                </data>
            </field>
        </record>

        <record id="tpt_view_location_form" model="ir.ui.view">
            <field name="name">tpt.view.location.form</field>
            <field name="model">stock.location</field>
            <field name="inherit_id" ref="stock.view_location_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//form/group/group[@string='Additional Information']/field[@name='usage']" position="before">
					 <field name="gl_pos_verification_id"  options="{'create': false, 'create_edit': false}" />
				</xpath>
			</field>
		</record>
		
		<record id="view_vendor_receipt_form_inherit" model="ir.ui.view">
            <field name="name">view.voucher.form.inherit</field>
            <field name="model">account.voucher</field>
            <field name="inherit_id" ref="account_voucher.view_vendor_receipt_form"/>
            <field name="arch" type="xml">
                <data>
                	<xpath expr="//button[@name='proforma_voucher']" position="after" >
                		<button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_voucher':True}"/>
                    </xpath>
                    <xpath expr="//field[@name='account_id']" position="replace"/>
                    <xpath expr="//field[@name='partner_id']" position="attributes">
                    	<attribute name='options'>{'create': false, 'create_edit': false}</attribute>
                    	<attribute name='domain'>[('customer','=',True),('is_company','=',True),('customer_account_group_id','=','VVTI Sold to Party')]</attribute>
                    </xpath>
                   <!-- <xpath expr="//field[@name='journal_id']" position="replace">
                    	<field name="journal_id"
                                domain="[('type','in',['bank', 'cash'])]"
                                widget="selection"
                                string="Payment Method"/>
                    </xpath>-->
                    <xpath expr="//field[@name='journal_id']" position="after">
                    	<field name="account_id" string="GL Account" options="{'create': false, 'create_edit': false}"/>
                    	<field name="bank_name" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    	<field name="cheque_date" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    </xpath>
                    
                    <xpath expr="//field[@name='company_id']" position="after">
                    	<field name="cheque_number" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    	<!-- <field name="reconciliation_date"/>  TPT-BM-->
                    	<field name="tpt_journal" invisible = "1"/>
                    </xpath>
                    
                    <xpath expr="//field[@name='account_id']" position="attributes">
                    	<attribute name='options'>{'create': false, 'create_edit': false}</attribute>
                    </xpath>
                    
                    <xpath expr="//field[@name='account_id']" position="attributes">
                    	<attribute name='string'>Cash/Bank Account</attribute>
                    </xpath>
                    
                    <xpath expr="//field[@name='account_id']" position="attributes">
                    	<attribute name='domain'>[('user_type.name','in',('Bank', 'Cash'))]</attribute>
                    </xpath>
                    <xpath expr="//page[@string='Payment Information']" position="attributes">
						<attribute name='invisible'>0</attribute>
					</xpath> 
                    <xpath expr="//page[@string='Payment Information']/field/tree/field[@name='account_id']" position="attributes">
						<attribute name='invisible'>1</attribute>
					</xpath> 
					
					<xpath expr="//field[@name='amount']" position="replace">
                    	<field name="tpt_currency_id" required="1" on_change="onchange_tpt_currency(tpt_currency_id,currency_id,type)"/>
                    	<field name="is_tpt_currency" invisible='1'/>
                    	<field name="amount" attrs="{'invisible':[('is_tpt_currency','=',False)]}" class="oe_inline" string="Paid Amount" widget="monetary" options="{'currency_field': 'currency_id'}" on_change="onchange_amount(amount, payment_rate, partner_id, journal_id, currency_id, type, date, payment_rate_currency_id, company_id, context)"/>
                    	<field name="tpt_currency_amount" widget="monetary" options="{'currency_field': 'tpt_currency_id'}" on_change="onchange_tpt_currency_amount(tpt_currency_id,tpt_currency_amount,type,date,context)" attrs="{'invisible':[('is_tpt_currency','=',True)],'required':[('is_tpt_currency','=',False)]}"/>
                    	<!-- TPT START - BalamuruganPurushothaman ON 18/08/2015 - To enable this field when other currency choseen for exchange rate-->
                    	<field name="tpt_exchange_rate"  options="{'currency_field': 'tpt_currency_id'}"  attrs="{'invisible':[('is_tpt_currency','=',True)],'required':[('is_tpt_currency','=',False)]}"/>
                    	<!-- TPT END-->
                    	<field name="tpt_amount" attrs="{'invisible':[('is_tpt_currency','=',True)]}" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                    </xpath>
					
					<xpath expr="//field[@name='date']" position="attributes">
                    	<attribute name='on_change'>onchange_tpt_currency_amount(tpt_currency_id,tpt_currency_amount,type,date,context)</attribute>
                    </xpath>
                    <xpath expr="//field[@name='account_id']" position="after">
                    <!-- TPT-BM-12/11/2015 -->
                    	<field name="cost_center_id" required="0" options="{'create': false, 'create_edit': false}"/>
                    </xpath>
                    
                    <xpath expr="//button[@string='Unreconcile']" position="attributes">
                    	<attribute name='groups'>base.user_root</attribute>
                    </xpath>
                </data>
            </field>
        </record>
        
        <record id="account_voucher.action_vendor_receipt_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="account_voucher.view_voucher_tree"/>
            <field name="act_window_id" ref="account_voucher.action_vendor_receipt"/>
        </record>
        <record id="account_voucher.action_vendor_receipt_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_vendor_receipt_form_inherit"/>
            <field name="act_window_id" ref="account_voucher.action_vendor_receipt"/>
        </record>
        
        <record id="view_vendor_payment_form_inherit" model="ir.ui.view">
            <field name="name">view.voucher.form.inherit</field>
            <field name="model">account.voucher</field>
            <field name="inherit_id" ref="account_voucher.view_vendor_payment_form"/>
            <field name="arch" type="xml">
                <data>
                	<xpath expr="//button[@name='proforma_voucher']" position="after" >
                		<button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_voucher':True}"/>
                    </xpath>
                    <xpath expr="//field[@name='account_id']" position="replace"/>
                    
                    <xpath expr="//field[@name='partner_id']" position="attributes">
                    	<attribute name='domain'>[('supplier','=','True')]</attribute>
                    </xpath>
                    <xpath expr="//field[@name='partner_id']" position="attributes">
                    	<attribute name='options'>{'create': false, 'create_edit': false}</attribute>
                    </xpath>
                    
                    <xpath expr="//field[@name='journal_id']" position="after">
                    	<field name="account_id" string="GL Account" options="{'create': false, 'create_edit': false}"/>
                    	<field name="bank_name" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    	<field name="cheque_date" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    </xpath>
                    
                    <xpath expr="//field[@name='company_id']" position="after">
                    	<field name="cheque_number" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    	<!-- <field name="reconciliation_date"/> TPT-BM -->
                    	<field name="tpt_journal" invisible = "1"/>
                    </xpath>
                    
                    <xpath expr="//field[@name='account_id']" position="attributes">
                    	<attribute name='options'>{'create': false, 'create_edit': false}</attribute>
                    </xpath>
                    
                    <xpath expr="//field[@name='account_id']" position="attributes">
                    	<attribute name='string'>Cash/Bank Account</attribute>
                    </xpath>
                    
                    <xpath expr="//field[@name='account_id']" position="attributes">
                    	<attribute name='domain'>[('user_type.name','in',('Bank', 'Cash'))]</attribute>
                    </xpath>
                    
                    <xpath expr="//page[@string='Payment Information']/field/tree/field[@name='account_id']" position="attributes">
						<attribute name='invisible'>1</attribute>
					</xpath>
					
					<xpath expr="//field[@name='amount']" position="replace">
                    	<field name="purchase_id" domain="[('state','=','md'),('partner_id','=',partner_id)]" options="{'create': false, 'create_edit': false}"/>
                    	<field name="tpt_currency_id" required="1" on_change="onchange_tpt_currency(tpt_currency_id,currency_id,type)"/>
                    	<field name="is_tpt_currency" invisible='1'/>
                    	<field name="amount" attrs="{'invisible':[('is_tpt_currency','=',False)]}" class="oe_inline" string="Paid Amount" widget="monetary" options="{'currency_field': 'currency_id'}" on_change="onchange_amount(amount, payment_rate, partner_id, journal_id, currency_id, type, date, payment_rate_currency_id, company_id, context)"/>	
                    	<field name="tpt_currency_amount" widget="monetary" 
                    	options="{'currency_field': 'tpt_currency_id'}" 
                    	on_change="onchange_tpt_currency_amount(tpt_currency_id,tpt_currency_amount,type,date,context)" 
                    	attrs="{'invisible':[('is_tpt_currency','=',True)],'required':[('is_tpt_currency','=',False)]}"/>
                    	
                    	<field name="tpt_amount" attrs="{'invisible':[('is_tpt_currency','=',True)]}" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                    </xpath>
					
					<xpath expr="//field[@name='date']" position="attributes">
                    	<attribute name='on_change'>onchange_tpt_currency_amount(tpt_currency_id,tpt_currency_amount,type,date,context)</attribute>
                    </xpath>
                    <xpath expr="//field[@name='account_id']" position="after">
                    	<!-- TPT-BM-ON 12/11/2015 - non mandatory -->
                    	<field name="cost_center_id" required="0" options="{'create': false, 'create_edit': false}"/>
                    </xpath>
                    
                    <xpath expr="//button[@string='Unreconcile']" position="attributes">
                    	<attribute name='groups'>base.user_root</attribute>
                    </xpath>
                </data>
            </field>
        </record>
        
        <record id="account_voucher.action_vendor_payment_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="account_voucher.view_voucher_tree"/>
            <field name="act_window_id" ref="account_voucher.action_vendor_payment"/>
        </record>
        <record id="account_voucher.action_vendor_payment_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_vendor_payment_form_inherit"/>
            <field name="act_window_id" ref="account_voucher.action_vendor_payment"/>
        </record>
        
        <record id="view_tpt_material_issue_form_inherit" model="ir.ui.view">
            <field name="name">tpt.material.issue.form.inherit</field>
            <field name="model">tpt.material.issue</field>
            <field name="inherit_id" ref="green_erp_arulmani_purchase.view_tpt_material_issue_form"/>
            <field name="arch" type="xml">
	            <data>
	            
                    <xpath expr="//field[@name='department_id']" position="after">
                    	<field name="warehouse" required='1' domain="[('usage','=','internal'),('chained_location_type','&lt;&gt;','customer')]" options="{'create': false, 'create_edit': false}"/>
                    	<!--<field name="gl_account_id" options="{'create': false, 'create_edit': false}"/>   -->
                    	<field name="cost_center_id" required="1" options="{'create': false, 'create_edit': false}" />
                    	<field name="dest_warehouse_id" domain="[('usage','=','internal'),('chained_location_type','&lt;&gt;','customer')]" options="{'create': false, 'create_edit': false}" attrs="{'invisible':[('request_type','!=','production')], 'required':[('request_type','=','norm')]}"/>
                    </xpath>
                    
                </data>
			</field>
		</record>
		<record id="view_move_form_inherit" model="ir.ui.view">
            <field name="name">view.move.form.inherit</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form"/>
            <field name="arch" type="xml">
	            <data>
	            
                    <xpath expr="//form/sheet[@string='Journal Entries']/group/group/field[@name='period_id']" position="after">
                    	<field name="doc_type" />
                    </xpath>
                    
                    <xpath expr="//field[@name='to_check']" position="attributes">
                    	<attribute name='invisible'>1</attribute>
                    </xpath>
                    
                    <xpath expr="//field[@name='journal_id']" position="attributes">
                    	<attribute name='invisible'>1</attribute>
                    </xpath>
                    
                    <xpath expr="//page[@string='Journal Items']/field/tree/field[@name='reconcile_id']" position="attributes">
						<attribute name='invisible'>1</attribute>
					</xpath> 
					
					<xpath expr="//page[@string='Journal Items']/field/tree/field[@name='reconcile_partial_id']" position="attributes">
						<attribute name='invisible'>1</attribute>
					</xpath>
					
					<xpath expr="//field[@name='date']" position="attributes">
						<attribute name='on_change'>onchange_tpt_date(date)</attribute>
					</xpath>
					
                </data>
			</field>
		</record>
		
		<record id="view_move_tree_inherit" model="ir.ui.view">
            <field name="name">view.move.tree.inherit</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_tree"/>
            <field name="arch" type="xml">
	            <data>
                    <xpath expr="//field[@name='state']" position="after">
                    	<field name="doc_type" invisible='1'/>
                    </xpath>
                </data>
			</field>
		</record>
		
		<record id="view_move_filter_inherit" model="ir.ui.view">
            <field name="name">view.move.filter.inherit</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_account_move_filter"/>
            <field name="arch" type="xml">
	            <data>
                    <xpath expr="//field[@name='period_id']" position="after">
                    	<separator/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Customer Invoice" domain="[('doc_type','=','cus_inv')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Customer Payment" domain="[('doc_type','=','cus_pay')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Supplier Invoice(With PO)" domain="[('doc_type','=','sup_inv_po')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Supplier Invoice(Without PO)" domain="[('doc_type','=','sup_inv')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Supplier Payment" domain="[('doc_type','=','sup_pay')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Payroll for Executives" domain="[('doc_type','=','payroll')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Payroll for Staff" domain="[('doc_type','=','staff_payroll')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Payroll for Workers" domain="[('doc_type','=','worker_payroll')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="GRN" domain="[('doc_type','=','grn')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Good Issue" domain="[('doc_type','=','good')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="DO" domain="[('doc_type','=','do')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Inventory Transfer" domain="[('doc_type','=','inventory')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Manual Journal" domain="[('doc_type','=','manual')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Cash Payment" domain="[('doc_type','=','cash_pay')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Cash Receipt" domain="[('doc_type','=','cash_rec')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Bank Payment" domain="[('doc_type','=','bank_pay')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Bank Receipt" domain="[('doc_type','=','bank_rec')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Freight Invoice" domain="[('doc_type','=','freight')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Production" domain="[('doc_type','=','product')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Stock Adjustment - Increase" domain="[('doc_type','=','stock_adj_inc')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Stock Adjustment - Decrease" domain="[('doc_type','=','stock_adj_dec')]"/>
                    </xpath>
                    <xpath expr="//filter[@string='Date']" position="after">
                    	<filter string="Document Type" icon="terp-go-month" domain="[]" context="{'group_by':'doc_type'}"/>
                    </xpath>
                </data>
			</field>
		</record>
		
		<record id="view_move_tree_noedit" model="ir.ui.view">
            <field name="name">account.move.tree.noedit</field>
            <field name="model">account.move</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';black:state == 'posted'" string="Journal Entries" edit="false">
                    <field name="name"/>
                    <field name="ref"/>
                    <field name="date"/>
                    <field name="period_id"/>
                    <field name="journal_id"/>
                    <field name="partner_id"/>
                    <field name="amount" sum="Total Amount"/>
                    <field name="to_check"/>
                    <field name="state"/>
                    <field name="doc_type" invisible='1'/>
                </tree>
            </field>
        </record>
        
		<record id="view_move_form_noedit" model="ir.ui.view">
            <field name="name">account.move.form.noedit</field>
            <field name="model">account.move</field>
            <field name="arch" type="xml">
                <form string="Account Entry" version="7.0" edit="false">
                <header>
                    <button name="button_validate" states="draft" string="Post" type="object" class="oe_highlight" groups="account.group_account_invoice,green_erp_arulmani_accounting.group_vvti_accounting_user"/>
                    <button name="button_cancel" states="posted" string="Cancel Entry" type="object" groups="account.group_account_invoice,green_erp_arulmani_accounting.group_vvti_accounting_user"/>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet string="Journal Entries" >
                    <label for="name" class="oe_edit_only" attrs="{'invisible':[('name','=','/')]}"/>
                    <h1>
                        <field name="name" readonly="True" attrs="{'invisible':[('name','=','/')]}"/>
                    </h1>
                    <group>
                        <group>
                            <field name="journal_id" invisible="1"/>
                            <field name="period_id"/>
                            <field name="doc_type" />
                            <field name="company_id" required="1" groups="base.group_multi_company"/>
                            <field name="partner_id" invisible="1"/>
                        </group>
                        <group>
                            <field name="ref" required='1'/>
                            <field name="date"/>
                            <field name="to_check" invisible="1"/>
                            <field name="amount" invisible="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Journal Items">
                            <field name="line_id" widget="one2many_list"
                              context="{'line_id': line_id , 'journal_id': journal_id }">
                                <form string="Journal Item" version="7.0">
                                    <group col="6" colspan="4">
                                        <field name="name"/>
                                        <field name="ref"/>
                                        <field name="partner_id" on_change="onchange_partner_id(False, partner_id, account_id, debit, credit, date, journal_id, context)"/>

                                        <field name="journal_id"/>
                                        <field name="period_id"/>
                                        <field name="company_id" required="1" groups="base.group_multi_company"/>
                                    </group>
                                    <notebook colspan="4">
                                        <page string="Information">
                                            <group>
                                                <group string="Amount">
                                                    <field name="account_id" domain="[('company_id', '=', parent.company_id), ('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                                                    <field name="debit"/>
                                                    <field name="credit"/>
                                                    <field name="quantity"/>
                                                </group>

                                                <group string="Accounting Documents">
                                                    <field name="invoice"/>
                                                    <field name="move_id" required="False"/>
                                                    <field name="statement_id"/>
                                                </group>

                                                <group string="Dates">
                                                    <field name="date"/>
                                                    <field name="date_maturity"/>
                                                    <field name="date_created"/>
                                                </group>

                                                <group string="Taxes">
                                                    <field name="tax_code_id"/>
                                                    <field name="tax_amount"/>
                                                    <field name="account_tax_id" domain="[('parent_id','=',False)]"/>
                                                </group>

                                                <group string="Currency" groups="base.group_multi_currency">
                                                    <field name="currency_id"/>
                                                    <field name="amount_currency"/>
                                                </group>

                                                <group string="Reconciliation">
                                                    <field name="reconcile_id" invisible="1"/>
                                                    <field name="reconcile_partial_id" invisible="1"/>
                                                </group>

                                                <group string="States">
                                                    <field name="state"/>
                                                    <field name="blocked"/>
                                                </group>

                                                <group groups="analytic.group_analytic_accounting" string="Analytic">
                                                    <field name="analytic_account_id"/>
                                                </group>
                                            </group>
                                            <separator string="Internal Note"/>
                                            <field name="narration"/>
                                        </page>
                                        <page string="Analytic Lines" groups="analytic.group_analytic_accounting">
                                            <field colspan="4" name="analytic_lines" nolabel="1" context="{'default_general_account_id':account_id, 'default_name': name, 'default_date':date, 'amount': (debit or 0.0)-(credit or 0.0)}"/>
                                        </page>
                                    </notebook>
                                </form>
                                <tree colors="blue:state == 'draft';black:state == 'posted'" editable="top" string="Journal Items">
                                    <field name="invoice"/>
                                    <field name="name"/>
                                    <field name="partner_id" on_change="onchange_partner_id(False, partner_id, account_id, debit, credit, parent.date, parent.journal_id, context)"/>
                                    <field name="account_id" domain="[('journal_id','=',parent.journal_id),('company_id', '=', parent.company_id)]"/>
                                    <field name="date_maturity"/>
                                    <field name="debit" sum="Total Debit"/>
                                    <field name="credit" sum="Total Credit"/>
                                    <field name="analytic_account_id" groups="analytic.group_analytic_accounting"/>
                                    <field name="amount_currency"/>
                                    <field name="currency_id" groups="base.group_multi_currency"/>
                                    <field name="tax_code_id"/>
                                    <field name="tax_amount"/>
                                    <field name="state"/>
                                    <field name="reconcile_id"/>
                                    <field name="reconcile_partial_id"/>
                                </tree>
                            </field>
                            <field name="narration" required='0' colspan="4" placeholder="Add an internal note..." nolabel="1" height="50"/>
                        </page>
                    </notebook>
                    </sheet>
                </form>
            </field>
        </record>
		
        <record id="action_move_journal_line1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_move_tree_noedit"/>
            <field name="act_window_id" ref="account.action_move_journal_line"/>
        </record>
		
        <record id="action_move_journal_line2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_move_form_noedit"/>
            <field name="act_window_id" ref="account.action_move_journal_line"/>
        </record>
        
        <record id="action_move_journal_line_editable" model="ir.actions.act_window">
            <field name="name">Journal Entries (Editable)</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="account.view_move_tree"/>
            <field name="search_view_id" ref="account.view_account_move_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a journal entry.
              </p><p>
                A journal entry consists of several journal items, each of
                which is either a debit or a credit transaction.
              </p><p>
                OpenERP automatically creates one journal entry per accounting
                document: invoice, refund, supplier payment, bank statements,
                etc. So, you should record journal entries manually only/mainly
                for miscellaneous operations.
              </p>
            </field>
        </record>
        <record id="action_move_journal_line_editable1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="account.view_move_tree"/>
            <field name="act_window_id" ref="action_move_journal_line_editable"/>
        </record>
		
        <record id="action_move_journal_line_editable2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="account.view_move_form"/>
            <field name="act_window_id" ref="action_move_journal_line_editable"/>
        </record>
        
        <menuitem
            icon="STOCK_JUSTIFY_FILL"
            action="action_move_journal_line_editable"
            id="menu_action_move_journal_line_editable"
            parent="account.menu_configuration_misc"
            groups="base.group_no_one,green_erp_arulmani_accounting.group_vvti_accounting_user"
            sequence="5"/>
		
		<record id="view_move_line_tree_inherit" model="ir.ui.view">
            <field name="name">account.move.line.tree.inherit</field>
            <field name="model">account.move.line</field>
            <field name="inherit_id" ref="account.view_move_line_tree"/>
            <field name="arch" type="xml">
	            <data>
                    <xpath expr="//field[@name='state']" position="after">
                    	<field name="doc_type" invisible='1'/>
                    </xpath>
                </data>
			</field>
		</record>
		
		<record id="view_account_move_line_filter_inherit" model="ir.ui.view">
            <field name="name">account.move.line.filter.inherit</field>
            <field name="model">account.move.line</field>
            <field name="inherit_id" ref="account.view_account_move_line_filter"/>
            <field name="arch" type="xml">
	            <data>
                    <xpath expr="//field[@name='period_id']" position="after">
                    	<separator/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Customer Invoice" domain="[('doc_type','=','cus_inv')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Customer Payment" domain="[('doc_type','=','cus_pay')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Supplier Invoice(With PO)" domain="[('doc_type','=','sup_inv_po')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Supplier Invoice(Without PO)" domain="[('doc_type','=','sup_inv')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Supplier Payment" domain="[('doc_type','=','sup_pay')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Payroll for Executives" domain="[('doc_type','=','payroll')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Payroll for Staff" domain="[('doc_type','=','staff_payroll')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Payroll for Workers" domain="[('doc_type','=','worker_payroll')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="GRN" domain="[('doc_type','=','grn')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Good Issue" domain="[('doc_type','=','good')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="DO" domain="[('doc_type','=','do')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Inventory Transfer" domain="[('doc_type','=','inventory')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Manual Journal" domain="[('doc_type','=','manual')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Cash Payment" domain="[('doc_type','=','cash_pay')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Cash Receipt" domain="[('doc_type','=','cash_rec')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Bank Payment" domain="[('doc_type','=','bank_pay')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Bank Receipt" domain="[('doc_type','=','bank_rec')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Freight Invoice" domain="[('doc_type','=','freight')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Production" domain="[('doc_type','=','product')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Stock Adjustment - Increase" domain="[('doc_type','=','stock_adj_inc')]"/>
                    	<filter icon="terp-gtk-jump-to-ltr" string="Stock Adjustment - Decrease" domain="[('doc_type','=','stock_adj_dec')]"/>
                    </xpath>
                    <xpath expr="//filter[@string='Period']" position="after">
                    	<filter string="Document Type" icon="terp-go-month" domain="[]" context="{'group_by':'doc_type'}"/>
                    </xpath>
                </data>
			</field>
		</record>
		
		<record id="tpt_activities_form_view_inherit" model="ir.ui.view">
            <field name="name">tpt.activities.form.inherit</field>
            <field name="model">tpt.activities</field>
            <field name="inherit_id" ref="green_erp_arulmani_production.tpt_activities_form_view"/>
            <field name="arch" type="xml">
	            <data>
                    <xpath expr="//field[@name='description']" position="after">
                    	<field name="act_acc_id" options="{'create': false, 'create_edit': false}"/>
                    </xpath>
                </data>
			</field>
		</record>
		
		<record id="product_normal_form_view_tpt_accounting" model="ir.ui.view">
            <field name="name">product.product.form.tpt.accounting</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_normal_form_view"/>
            <field name="arch" type="xml">
            	<xpath expr="//page[@string='Accounting']" position="after">
					<page string="Total Cost">
                        <field name="avg_cost_line" nolabel = '1' readonly='1'>
                        	<tree editable='bottom'>
                                <field name="warehouse_id"/>
                                <field name="hand_quantity" />
                                <field name="avg_cost"/>
                                <field name="total_cost" />
                            </tree>
                        </field>
                    </page>
				</xpath>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_reconcile_tree">
            <field name="name">account.voucher.reconcile.tree</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';gray:state == 'cancel';red:audit" string="Voucher Entries">
                    <field name="partner_id"/>
                    <field name="period_id" invisible="context.get('visible', True)"/>
                    <field name="type" invisible="context.get('visible', True)"/>
                    <field name="audit" invisible="1"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
		<!-- Customer Reconciliation -->
		<record model="ir.ui.view" id="view_vendor_receipt_form_reconcile">
            <field name="name">account.voucher.receipt.form.reconcile</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <form string="Receipt" version="7.0">
                <header invisible="context.get('line_type', False)">
                    <button name="proforma_voucher" string="Reconcile" states="draft" class="oe_highlight"/>
            		<button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_voucher':True}"/>
                    <button name="cancel_voucher" string="Cancel" states="draft,proforma" invisible="1"/>
                    <button name="cancel_voucher" string="Unreconcile" type="object" states="posted" confirm="Are you sure to unreconcile and cancel this record ?" groups="green_erp_arulmani_accounting.group_vvti_accounting_admin"/>
                    <button name="action_cancel_draft" type="object" states="cancel" string="Set to Draft" invisible="1"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,posted" statusbar_colors='{"proforma":"blue"}'/>
                </header>
                <sheet>
                    <h1 attrs="{'invisible': [('number','=',False)]}"><field name="number"/></h1>
                    <group invisible="context.get('line_type', False)">
                        <group>
                            <field name="partner_id" domain="[('customer','=',True),('is_company','=',True),('customer_account_group_id','=','VVTI Sold to Party')]" required="1" on_change="onchange_partner_id(partner_id, journal_id, amount, currency_id, type, date, context)" string="Customer" context="{'search_default_customer': 1}" options="{'create': false, 'create_edit': false}"/>
                            <field name="currency_id" invisible="1"/>
                            <field name="amount" class="oe_inline"
                                string="Paid Amount" invisible="1"
                                widget="monetary" options="{'currency_field': 'currency_id'}"
                                on_change="onchange_amount(amount, payment_rate, partner_id, journal_id, currency_id, type, date, payment_rate_currency_id, company_id, context)"/>
                            <field name="journal_id"
                                domain="[('type','in',['bank', 'cash'])]" invisible="1"
                                widget="selection"
                                on_change="onchange_journal(journal_id, line_cr_ids, False, partner_id, date, amount, type, company_id, context)"
                                string="Payment Method"/>
                        </group>
                        <group>
                            <field name="date" invisible="1" on_change="onchange_date(date, currency_id, payment_rate_currency_id, amount, company_id, context)"/>
                            <field name="reference" string="Payment Ref" invisible="1" placeholder="e.g. 003/10"/>
                            <field name="name" invisible="1" colspan="2" placeholder="e.g. Invoice SAJ/0042"/>
                            <field name="company_id" invisible="1" widget="selection" groups="base.group_multi_company"/>

                            <field name="account_id"
                                widget="selection"
                                invisible="True"/>
                            <field name="pre_line" invisible="1"/>
                            <field name="type" invisible="True"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Payment Information" groups="base.group_user">
                            <label for="line_cr_ids" invisible="context.get('line_type', False)"/>
                            <field name="line_cr_ids" context="{'journal_id':journal_id, 'type':type, 'partner_id':partner_id}" on_change="onchange_line_ids(line_dr_ids, line_cr_ids, amount, currency_id, type, context)">
                                <tree string="Invoices and outstanding transactions" editable="bottom" colors="gray:amount==0" create='false'>
                                    <field name="move_line_id" context="{'journal_id':parent.journal_id, 'partner_id':parent.partner_id}"
                                        on_change="onchange_move_line_id(move_line_id)"
                                        domain="[('account_id.type','in',('receivable','payable')), ('reconcile_id','=', False), ('partner_id','=',parent.partner_id)]"
                                        required="1"
                                        groups="account.group_account_user"/>
                                    <field name="account_id" invisible="1" groups="base.group_no_one" domain="[('type','=','receivable')]"/>
                                    <field name="date_original" readonly="1"/>
                                    <field name="date_due" readonly="1"/>
                                    <field name="amount_original" readonly="1"/>
                                    <field name="amount_unreconciled" readonly="1" groups="account.group_account_user"/>
                                    <field name="reconcile" on_change="onchange_reconcile(reconcile, amount, amount_unreconciled, context)" groups="account.group_account_user"/>
                                    <field name="amount" sum="Total Allocation" on_change="onchange_amount(amount, amount_unreconciled, context)" string="Allocation"/>
                                </tree>
                            </field>
                            <label for="line_dr_ids" attrs="{'invisible': [('pre_line','=',False)]}"/>
                            <field name="line_dr_ids" attrs="{'invisible': [('pre_line','=',False)]}" context="{'journal_id':journal_id, 'partner_id':partner_id}" on_change="onchange_line_ids(line_dr_ids, line_cr_ids, amount, currency_id, type, context)">
                                <tree string="Credits" editable="bottom" colors="gray:amount==0" create='false'>
                                    <field name="move_line_id" context="{'journal_id':parent.journal_id, 'partner_id':parent.partner_id}"
                                        on_change="onchange_move_line_id(move_line_id)"
                                        domain="[('account_id.type','in',('receivable','payable')), ('reconcile_id','=', False), ('partner_id','=',parent.partner_id)]"
                                        required="1"/>
                                    <field name="account_id" invisible="1" groups="base.group_no_one" domain="[('type','=','receivable')]"/>
                                    <field name="date_original" readonly="1"/>
                                    <field name="date_due" readonly="1"/>
                                    <field name="amount_original" readonly="1"/>
                                    <field name="amount_unreconciled" readonly="1"/>
                                    <field name="reconcile" on_change="onchange_reconcile(reconcile, amount, amount_unreconciled, context)"/>
                                    <field name="amount" sum="Total Allocation" on_change="onchange_amount(amount, amount_unreconciled, context)" string="Allocation"/>
                                </tree>
                            </field>
                            <group col="3">
                                <group>
                                    <field name="narration" colspan="2" nolabel="1"/>
                                </group>
                                <group col="4" attrs="{'invisible':[('is_multi_currency','=',False)]}">
                                    <field name="is_multi_currency" invisible="1"/>
				    				<label for="payment_rate" colspan="1"/>
				    				<div>
                                        <field name="payment_rate" required="1" class="oe_inline" on_change="onchange_amount(amount, payment_rate, partner_id, journal_id, currency_id, type, date, payment_rate_currency_id, company_id, context)"/>
                                        <field name="payment_rate_currency_id" class="oe_inline" on_change="onchange_payment_rate_currency(currency_id, payment_rate, payment_rate_currency_id, date, amount, company_id, context)" groups="base.group_multi_currency"/>
                                    </div>
                                    <field name="currency_help_label" colspan="2" nolabel="1" class="oe_grey"/>
                                    <field name="paid_amount_in_company_currency" colspan="4" invisible="1"/>
                                </group>
                                <group>
	                                <field name="credit_total" widget="monetary"  options="{'currency_field': 'currency_id'}"/>
	                                <field name="debit_total" widget="monetary"  options="{'currency_field': 'currency_id'}"/>
	                                <field name="total_diff" widget="monetary"  options="{'currency_field': 'currency_id'}"/>
                                    <field name="writeoff_amount" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                    <field name="payment_option" required="1" attrs="{'invisible':[('writeoff_amount','=',0)]}"/>
                                    <field name="writeoff_acc_id"
                                           attrs="{'invisible':['|', ('payment_option','!=','with_writeoff'), ('writeoff_amount','=',0)], 'required':[('payment_option','=','with_writeoff')]}"
                                           domain="[('type','=','other')]"/>
                                    <field name="comment"
                                           attrs="{'invisible':['|', ('payment_option','!=','with_writeoff'), ('writeoff_amount','=',0)]}"/>
                                    <field name="analytic_id"
                                           groups="analytic.group_analytic_accounting"
                                           attrs="{'invisible':['|', ('payment_option','!=','with_writeoff'), ('writeoff_amount','=',0)]}"/>
                                </group>
                            </group>
                        </page>
                        <page string="Journal Items" attrs="{'invisible': [('state','!=','posted')]}">
                            <group col="4">
                                <field name="period_id"/>
                                <field name="audit"/>
                            </group>
                            <field name="move_ids" readonly="1">
                                <tree string="Journal Items">
                                    <field name="move_id"/>
                                    <field name="ref"/>
                                    <field name="date"/>
                                    <field name="statement_id"/>
                                    <field name="partner_id"/>
                                    <field name="account_id"/>
                                    <field name="name"/>
                                    <field name="debit"/>
                                    <field name="credit"/>
                                    <field name="state"/>
                                    <field name="reconcile_id"/>
                                    <field name="amount_currency"/>
                                    <field name="currency_id" groups="base.group_multi_currency"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                    </sheet>
                    <div class="oe_chatter" invisible="context.get('line_type', False)">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="action_vendor_reconcile" model="ir.actions.act_window">
            <field name="name">Customer Reconciliation</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('journal_id.type', 'in', ['bank', 'cash']), ('type','=','receipt'), ('tpt_cus_reconcile','=',True)]</field>
            <field name="context">{'type':'receipt','get_customer_reconcile':1}</field>
            <field name="view_id" eval="view_reconcile_tree"/>
            <field name="target">current</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to register a new reconcile. 
              </p>
            </field>
        </record>
        <record id="action_vendor_reconcile_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" eval="view_reconcile_tree"/>
            <field name="act_window_id" ref="action_vendor_reconcile"/>
        </record>
        <record id="action_vendor_reconcile_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_vendor_receipt_form_reconcile"/>
            <field name="act_window_id" ref="action_vendor_reconcile"/>
        </record>

        <menuitem action="action_vendor_reconcile" icon="STOCK_JUSTIFY_FILL" sequence="13"
            id="menu_action_vendor_reconcile"  parent="account.menu_finance_receivables"
            groups="green_erp_arulmani_sale.group_vvti_unit_account,account.group_account_manager"/>
            
        <!-- Supplier Reconciliation -->    
       	<record model="ir.ui.view" id="view_vendor_payment_form_reconcile">
            <field name="name">account.voucher.payment.form.reconcile</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <form string="Voucher Payment" version="7.0">
                <header>
                    <button name="proforma_voucher" string="Reconcile" states="draft" invisible="context.get('line_type', False)" class="oe_highlight"/>
                    <button name="%(action_review_posting_view)d" type="action" string="Review Posting" states="draft" context="{'tpt_voucher':True}"/>
                    <button name="cancel_voucher" string="Cancel" states="draft,proforma"  invisible="context.get('line_type', False)"/>
                    <button name="cancel_voucher" string="Unreconcile" type="object" states="posted" invisible="context.get('line_type', False)" confirm="Are you sure to unreconcile and cancel this record ?" groups="green_erp_arulmani_accounting.group_vvti_accounting_admin"/>
                    <button name="action_cancel_draft" type="object" states="cancel" string="Set to Draft" invisible="context.get('line_type', False)"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,posted" statusbar_colors='{"proforma":"blue"}'/>
                </header>
                <sheet>
                    <field name="account_id" invisible="True"/>
                    <field name="pre_line" invisible="1"/>
                    <field name="type" invisible="True"/>
                    <group>
                        <group>
                            <field name="partner_id" domain="[('supplier','=',True)]" required="1" invisible="context.get('line_type', False)" on_change="onchange_partner_id(partner_id, journal_id, amount, currency_id, type, date, context)" context="{'invoice_currency':currency_id, 'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1}"  string="Supplier" options="{'create': false, 'create_edit': false}"/>                        
                            <field name="currency_id" invisible="1"/>
                            <field name="amount" invisible="1" on_change="onchange_amount(amount, payment_rate, partner_id, journal_id, currency_id, type, date, payment_rate_currency_id, company_id, context)" class="oe_inline" widget='monetary' options='{"currency_field": "currency_id"}'/>
                            <field name="journal_id"
                                domain="[('type','in',['bank', 'cash'])]"
                                invisible="1"
                                widget="selection"
                                on_change="onchange_journal(journal_id, line_dr_ids, False, partner_id, date, amount, type, company_id, context)"
                                string="Payment Method"/>
                        </group>
                        <group>
                            <field name="date" invisible="1" on_change="onchange_date(date, currency_id, payment_rate_currency_id, amount, company_id, context)"/>
                            <field name="reference" invisible="1" string="Payment Ref" placeholder="e.g. 003/10"/>
                            <field name="name" colspan="2" invisible="1" placeholder="e.g. Invoice SAJ/0042"/>
                            <field name="company_id" invisible="1" widget="selection" groups="base.group_multi_company"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Payment Information">
                        	<label for="line_dr_ids"/>
                            <field name="line_dr_ids" context="{'journal_id':journal_id, 'type':type, 'partner_id':partner_id}" on_change="onchange_line_ids(line_dr_ids, line_cr_ids, amount, currency_id, type, context)">
                                <tree string="Supplier Invoices and Outstanding transactions" editable="bottom" colors="gray:amount==0" create='false'>
                                    <field name="move_line_id" context="{'journal_id':parent.journal_id, 'partner_id':parent.partner_id}"
                                        on_change="onchange_move_line_id(move_line_id)"
                                        domain="[('account_id.type','=','payable'), ('reconcile_id','=', False), ('partner_id','=',parent.partner_id)]"
                                        required="1"/>
                                    <field name="account_id" invisible="1" groups="base.group_no_one" domain="[('type','=','payable')]"/>
                                    <field name="date_original" readonly="1"/>
                                    <field name="date_due" readonly="1"/>
                                    <field name="amount_original" readonly="1"/>
                                    <field name="amount_unreconciled" readonly="1" groups="account.group_account_user"/>
                                    <field name="reconcile" on_change="onchange_reconcile(reconcile, amount, amount_unreconciled, context)" groups="account.group_account_user"/>
                                    <field name="amount" sum="Total Allocation" on_change="onchange_amount(amount, amount_unreconciled, context)"/>
                                </tree>
                            </field>
                            <label for="line_cr_ids" attrs="{'invisible': [('pre_line','=',False)]}"/>
                            <field name="line_cr_ids" attrs="{'invisible': [('pre_line','=',False)]}" context="{'journal_id':journal_id, 'partner_id':partner_id}" on_change="onchange_line_ids(line_dr_ids, line_cr_ids, amount, currency_id, type, context)">
                                <tree string="Credits" editable="bottom" colors="gray:amount==0" create='false'>
                                    <field name="move_line_id" context="{'journal_id':parent.journal_id, 'partner_id':parent.partner_id}"
                                        on_change="onchange_move_line_id(move_line_id)"
                                        domain="[('account_id.type','=','payable'), ('reconcile_id','=', False), ('partner_id','=',parent.partner_id)]"
                                        required="1"/>
                                    <field name="account_id" invisible="1" groups="base.group_no_one" domain="[('type','=','payable')]"/>
                                    <field name="date_original" readonly="1"/>
                                    <field name="date_due" readonly="1"/>
                                    <field name="amount_original" readonly="1"/>
                                    <field name="amount_unreconciled" readonly="1" groups="account.group_account_user"/>
                                    <field name="reconcile" on_change="onchange_reconcile(reconcile, amount, amount_unreconciled, context)" groups="account.group_account_user"/>
                                    <field name="amount" sum="Total Allocation" on_change="onchange_amount(amount, amount_unreconciled, context)"/>
                                </tree>
                            </field>
                            <group>
                                <group string="Internal Notes">
                                    <field name="narration" colspan="2" nolabel="1"/>
                                </group>
                                <group>
                                    <group col="2" attrs="{'invisible':[('is_multi_currency','=',False)]}">
                                        <separator string="Currency Options" colspan="2"/>
                                        <field name="is_multi_currency" invisible="1"/>
										<label for="payment_rate" colspan="1"/>
										<div>
                                            <field name="payment_rate" required="1" class="oe_inline" on_change="onchange_amount(amount, payment_rate, partner_id, journal_id, currency_id, type, date, payment_rate_currency_id, company_id, context)"/>
                                            <field name="payment_rate_currency_id" class="oe_inline" on_change="onchange_payment_rate_currency(currency_id, payment_rate, payment_rate_currency_id, date, amount, company_id, context)" groups="base.group_multi_currency"/>
                                        </div>
                                        <field name="currency_help_label" colspan="2" nolabel="1" class="oe_grey"/>
                                        <field name="paid_amount_in_company_currency" colspan="2" invisible="1"/>
                                    </group>
                                    <group col="2">
                                        <separator string="Payment Options" colspan="2"/>
                                        <field name="writeoff_amount" widget='monetary' options='{"currency_field": "currency_id"}'/>
                                        <field name="payment_option" required="1"/>
                                        <field name="writeoff_acc_id"
                                               attrs="{'invisible':[('payment_option','!=','with_writeoff')], 'required':[('payment_option','=','with_writeoff')]}"
                                               domain="[('type','=','other')]"/>
                                        <field name="comment"
                                               attrs="{'invisible':[('payment_option','!=','with_writeoff')]}"/>
                                        <field name="analytic_id"
                                               groups="analytic.group_analytic_accounting"/>
                                    </group>
                                </group>
                            </group>
                        </page>
                        <page string="Journal Items" attrs="{'invisible': [('state','!=','posted')]}">
                            <group col="4">
                                <field name="period_id"/>
                                <field name="audit"/>
                                <field name="number"/>
                            </group>
                            <field name="move_ids" readonly="1">
                               <tree string="Journal Items">
                                   <field name="move_id"/>
                                   <field name="ref"/>
                                   <field name="date"/>
                                   <field name="statement_id"/>
                                   <field name="partner_id"/>
                                   <field name="account_id"/>
                                   <field name="name"/>
                                   <field name="debit"/>
                                   <field name="credit"/>
                                   <field name="state"/>
                                   <field name="reconcile_id"/>
                                   <field name="amount_currency" groups="base.group_multi_currency"/>
                                   <field name="currency_id" groups="base.group_multi_currency"/>
                               </tree>
                            </field>
                        </page>
                    </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="action_supplier_reconcile" model="ir.actions.act_window">
            <field name="name">Supplier Reconciliation</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('journal_id.type', 'in', ['bank', 'cash']), ('type','=','payment'), ('tpt_sup_reconcile','=',True)]</field>
            <field name="context">{'type':'payment','get_supp_reconcile':1}</field>
            <field name="view_id" eval="view_reconcile_tree"/>
            <field name="target">current</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a new supplier reconcile.
              </p>
            </field>
        </record>
        <record id="action_supplier_reconcile_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" eval="view_reconcile_tree"/>
            <field name="act_window_id" ref="action_supplier_reconcile"/>
        </record>
        <record id="action_supplier_reconcile_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_vendor_payment_form_reconcile"/>
            <field name="act_window_id" ref="action_supplier_reconcile"/>
        </record>

        <menuitem action="action_supplier_reconcile" icon="STOCK_JUSTIFY_FILL" sequence="13"
            id="menu_action_supplier_reconcile"  parent="account.menu_finance_payables"
            groups="green_erp_arulmani_sale.group_vvti_unit_account,account.group_account_manager"/>
        
        <record id="account_voucher.action_vendor_receipt" model="ir.actions.act_window">
            <field name="name">Customer Payments</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <field name="domain">[('journal_id.type', 'in', ['bank', 'cash']), ('type','=','receipt'), ('tpt_cus_reconcile','=',False)]</field>
            <field name="context">{'type':'receipt','tpt_remove_dr_cr':1}</field>
            <field name="search_view_id" ref="account_voucher.view_voucher_filter_customer_pay"/>
            <field name="view_id" eval="False"/>
            <field name="target">current</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to register a new payment. 
              </p><p>
                Enter the customer and the payment method and then, either
                create manually a payment record or OpenERP will propose to you
                automatically the reconciliation of this payment with the open
                invoices or sales receipts.
              </p>
            </field>
        </record>
        
        <record id="account_voucher.action_vendor_payment" model="ir.actions.act_window">
            <field name="name">Supplier Payments</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <field name="domain">[('journal_id.type', 'in', ['bank', 'cash']), ('type','=','payment'), ('tpt_sup_reconcile','=',False)]</field>
            <field name="context">{'type':'payment','tpt_remove_dr_cr':1}</field>
            <field name="view_id" eval="False"/>
            <field name="search_view_id" ref="account_voucher.view_voucher_filter_vendor_pay"/>
            <field name="target">current</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a new supplier payment.
              </p><p>
                OpenERP helps you easily track payments you make and the remaining balances you need to pay your suppliers.
              </p>
            </field>
        </record>
        
        <!-- Journal Vouchers -->
        <record id="account_voucher.action_voucher_list" model="ir.actions.act_window">
            <field name="name">Journal Vouchers</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="context">{'journal_entry_create':1}</field>
            <field name="view_id" ref="account_voucher.view_voucher_tree"/>
            <field name="search_view_id" ref="account_voucher.view_voucher_filter"/>
        </record>
        
        <record id="account_voucher.action_journal_voucher_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="account_voucher.view_voucher_tree"/>
            <field name="act_window_id" ref="account_voucher.action_voucher_list"/>
        </record>
        <record id="account_voucher.action_journal_voucher_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_voucher_form_inherit"/>
            <field name="act_window_id" ref="account_voucher.action_voucher_list"/>
        </record>
        
        <record model="ir.ui.menu" id="account.periodical_processing_reconciliation">
	    	<field name="groups_id" eval="[(6,0, [ref('green_erp_arulmani_crm.group_invisible')])]"/>
		</record>
        <!--<menuitem id="account.periodical_processing_reconciliation" name="Reconciliation" parent="account.menu_finance_periodical_processing"/>-->
        
        <record id="tpt_accounting_view_partner_form" model="ir.ui.view">
            <field name="name">tpt.partner.view.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <data>
                     <xpath expr="//field[@name='email']" position="after">
                        <field name="is_tds_applicable" attrs="{'invisible': [('supplier','=',False)]}"/>
                        <field name="vendor_type" attrs="{'invisible': [('supplier','=',False)]}"/>
                        <field name="section" attrs="{'invisible': [('supplier','=',False)]}"/>
                        <field name="tds_id" attrs="{'invisible': [('is_tds_applicable','=',False)]}" options="{'create': false, 'create_edit': false}"/>
                    </xpath>
                </data>
            </field>
        </record>
        
        <record id="inher_tpt_view_res_partner_form" model="ir.ui.view">
            <field name="name">tpt.partner.view.form.inherit.2</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="green_erp_arulmani_sale.tpt_view_res_partner_form"/>
            <field name="arch" type="xml">
                <data>
                	<xpath expr="//page[@string='Consignee']" position="attributes">
						<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_user,green_erp_arulmani_sale.group_vvti_sale_user</attribute>
					</xpath>
					
					<xpath expr="//button[@name='approve_customer']" position="attributes">
						<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_mgr,green_erp_arulmani_purchase.group_vvti_purchase_user,green_erp_arulmani_sale.group_vvti_sale_manager</attribute>
					</xpath>
					<xpath expr="//field[@name='credit']" position="after">
						<field name='tpt_credit'/>
					</xpath>
					<xpath expr="//field[@name='credit']" position="attributes">
						<attribute name='invisible'>1</attribute>
					</xpath>
                </data>
            </field>
        </record>
        
        <record id="tpt_view_account_fiscalyear_form" model="ir.ui.view">
            <field name="name">tpt.account.fiscalyear.form</field>
            <field name="model">account.fiscalyear</field>
            <field name="inherit_id" ref="account.view_account_fiscalyear_form"/>
            <field name="arch" type="xml">
            	<data>
                	<xpath expr="//button[@name='create_period']" position="attributes">
						<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_mgr</attribute>
					</xpath>
					
					<xpath expr="//button[@name='create_period3']" position="attributes">
						<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_mgr</attribute>
					</xpath>
                </data>
            </field>
        </record>
        
        <record id="tpt_view_account_period_form" model="ir.ui.view">
            <field name="name">tpt.account.period.form</field>
            <field name="model">account.period</field>
            <field name="inherit_id" ref="account.view_account_period_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//button[@name='%(account.action_account_period_close)d']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_mgr</attribute>
				</xpath>
				
				<xpath expr="//button[@name='action_draft']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_mgr</attribute>
				</xpath>
            </field>
        </record>
        
        <record id="tpt_view_hr_department_customize" model="ir.ui.view">
            <field name="name">tpt.hr.department.customize</field>
            <field name="model">hr.department</field>
            <field name="inherit_id" ref="green_erp_arulmani_hrm.view_hr_department_customize"/>
            <field name="arch" type="xml">
            	<xpath expr="//page[@string='Designation and Resource Budgets']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_gm,green_erp_arulmani_hrm.group_vvti_hrm_hr_key_user,green_erp_arulmani_hrm.group_vvti_hrm_payroll_controller</attribute>
				</xpath>
            </field>
        </record> 
        
        <record id="inh_view_tpt_hr_payroll_approve_reject_form_vew" model="ir.ui.view">
            <field name="name">inh.tpt.hr.payroll.approve.reject.form</field>
            <field name="model">tpt.hr.payroll.approve.reject</field>
            <field name="inherit_id" ref="green_erp_arulmani_hrm.view_tpt_hr_payroll_approve_reject_form_vew"/>
            <field name="arch" type="xml">
            	<xpath expr="//button[@name='reject_payroll']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_gm,green_erp_arulmani_hrm.group_vvti_hrm_gm,green_erp_arulmani_accounting.group_vvti_accounting_mgr</attribute>
				</xpath>
				<xpath expr="//button[@name='approve_payroll']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_gm,green_erp_arulmani_hrm.group_vvti_hrm_gm,green_erp_arulmani_accounting.group_vvti_accounting_mgr</attribute>
				</xpath>
		     </field>   
       </record>
       
       <record id="inher_tpt_customer_invoice_form" model="ir.ui.view">
            <field name="name">inher.tpt.customer.invoice.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="green_erp_arulmani_sale.tpt_customer_invoice_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//button[@name='invoice_print' and @string='Print Invoice']" position="replace">
            		<button name='invoice_print' string="Print Invoice" type="object" groups="green_erp_arulmani_sale.group_vvti_sale_user,green_erp_arulmani_accounting.group_vvti_accounting_user"/>
            	</xpath>
            	
            	<xpath expr="//button[@name='invoice_open']" position="replace">
            		<button name="invoice_open" states="draft" string="Validate" class="oe_highlight" groups="green_erp_arulmani_sale.group_vvti_sale_manager,green_erp_arulmani_accounting.group_vvti_accounting_user"/>
            	</xpath>
            	
            </field>
       </record>
       
       <record id="inherit_view_tpt_test_report_form_vew" model="ir.ui.view">
            <field name="name">inherit.tpt.test.report.form</field>
            <field name="model">tpt.test.report</field>
            <field name="inherit_id" ref="green_erp_arulmani_sale.view_tpt_test_report_form_vew"/>
            <field name="arch" type="xml">
            	<xpath expr="//button[@name='test_report_print']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_sale.group_vvti_sale_user,green_erp_arulmani_sale.group_vvti_marketing_user,green_erp_arulmani_crm.group_qc_user</attribute>
				</xpath>
            </field>
       </record>    
       
       <report 
			auto="False" 
			menu="True"
			id="green_erp_arulmani_sale.form_are_1_report" 
			model="tpt.form.are.1" 
			name="form_are_1_report"
	        string="Print Form A.R.E - 1"
	        groups="green_erp_arulmani_sale.group_vvti_sale_user,green_erp_arulmani_accounting.group_vvti_accounting_user"
	        rml="green_erp_arulmani_sale/report/print_form_are_1.odt"/> 	
	        
	  <report 
			auto="False" 
			menu="True"
			id="green_erp_arulmani_sale.form_are_3_report" 
			model="tpt.form.are.3" 
			name="form_are_3_report"
	        string="Print Form A.R.E - 3"
	        groups="green_erp_arulmani_sale.group_vvti_sale_user,green_erp_arulmani_accounting.group_vvti_accounting_user"
	        rml="green_erp_arulmani_sale/report/print_form_are_3.odt"/> 	
	        
	        
	  <report 
			auto="False" 
			menu="True"
			id="green_erp_arulmani_sale.form_403_report" 
			model="tpt.form.403" 
			name="form_403_report"
	        string="Print Form 403"
	        groups="green_erp_arulmani_sale.group_vvti_sale_user,green_erp_arulmani_accounting.group_vvti_accounting_user"
	        rml="green_erp_arulmani_sale/report/print_form_403.odt"/> 	
	        
	  <record id="inher_tpt_stock_picking_in_form" model="ir.ui.view">
	       <field name="name">inher.stock.picking.in.form</field>
	       <field name="model">stock.picking.in</field>
	       <field name="inherit_id" ref="green_erp_arulmani_purchase.tpt_stock_picking_in_form"/>
	       <field name="arch" type="xml">
		    	<xpath expr="//button[@name='%(stock.action_stock_invoice_onshipping)d']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_store_user,green_erp_arulmani_accounting.group_vvti_accounting_user</attribute>
				</xpath>
				
				<xpath expr="//button[@name='%(stock.act_stock_return_picking)d']" position="attributes">
					<attribute name='groups'>base.user_root</attribute>
				</xpath>
				
				<xpath expr="//button[@name='button_cancel']" position="attributes">
					<attribute name='groups'>base.user_root</attribute>
				</xpath>
				
				<xpath expr="//button[@name='action_revert_done']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_store_mgr</attribute>
				</xpath>
				
				<xpath expr="//button[@name='action_process']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_store_user</attribute>
				</xpath>
				
	       </field>
	  </record>
	  
	  <record id="inher_view_arul_hr_employee_action_history" model="ir.ui.view">
            <field name="name">inher.view.arul.hr.employee.action.history</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="green_erp_arulmani_hrm.view_arul_hr_employee_action_history"/>
            <field name="arch" type="xml">
            	<xpath expr="//page[@string='Employee Action History']" position="attributes">
            		<attribute name="groups">green_erp_arulmani_hrm.group_vvti_hrm_hr_user,green_erp_arulmani_hrm.group_vvti_hrm_payroll_controller,green_erp_arulmani_hrm.group_vvti_hrm_gm,green_erp_arulmani_accounting.group_vvti_accounting_gm</attribute>
            	</xpath>
            </field>
	  </record>
	  
	  <record id="inher_tpt_purchase_order_form" model="ir.ui.view">
            <field name="name">inher.tpt.purchase.order.form</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="green_erp_arulmani_purchase.tpt_purchase_order_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//button[@name='purchase_gm_confirmed']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_accounting.group_vvti_mag_direct</attribute>
				</xpath>
				
				<xpath expr="//button[@string='Print']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_user,green_erp_arulmani_accounting.group_vvti_accounting_user</attribute>
				</xpath>
				
				<xpath expr="//button[@string='Print PO']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_user,green_erp_arulmani_accounting.group_vvti_accounting_user</attribute>
				</xpath>
            </field>
	  </record>
	        
	  <record id="inher_view_tpt_quanlity_inspection_spares_form" model="ir.ui.view">
            <field name="name">inher.tpt.quanlity.inspection.spares.form</field>
            <field name="model">tpt.quanlity.inspection</field>
            <field name="inherit_id" ref="green_erp_arulmani_purchase.view_tpt_quanlity_inspection_spares_form"/>
            <field name="arch" type="xml">
            	<!--<xpath expr="//button[@name='%(green_erp_arulmani_purchase.action_approve_reject_quanlity_inspection)d']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_store_user,green_erp_arulmani_accounting.group_vvti_mag_direct</attribute>
				</xpath>-->
				
				<xpath expr="//button[@string='Approve']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_store_user,green_erp_arulmani_accounting.group_vvti_mag_direct</attribute>
				</xpath>
				<xpath expr="//button[@string='Reject']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_store_user,green_erp_arulmani_accounting.group_vvti_mag_direct</attribute>
				</xpath>
            </field>
	  </record>
	  
	  <record id="tpt_auto_posting_tree_view" model="ir.ui.view">
			<field name="name">tpt.auto.posting.tree</field>
			<field name="model">tpt.auto.posting</field>
			<field name="arch" type="xml">
				<tree string="Auto Account Posting Configuration">
					<field name="name"/>
				</tree>
			</field>
		</record>
		
		<record id="tpt_auto_posting_form_view" model="ir.ui.view">
            <field name="name">tpt.auto.posting.form</field>
            <field name="model">tpt.auto.posting</field>
            <field name="arch" type="xml">
	            <form string="Auto Account Posting Configuration" version="7.0">   
	            	<sheet>
						<group col="4" colspan="2">
							<field name="grn"/>
							<field name="supplier_invoice"/>
							<field name="material_issue"/>
							<field name="delivery_order"/>
							<field name="customer_invoice"/>
							<field name="supplier_payment"/>
							<field name="customer_payment"/>
							<field name="cash_transactions"/>
							<field name="bank_transactions"/>
							<field name="supplier_invoice_without"/>
							<field name="service_invoice"/>
							<field name="freight_invoice"/>
							<field name="journal_vouchers"/>
							<field name="production_declaration"/>
							<field name="payroll"/>
						</group>
					</sheet>
		         </form>
			</field>
		</record>
		
	  <record id="view_tpt_ed_invoice_positing_tree" model="ir.ui.view">
			<field name="name">tpt.ed.invoice.positing.tree</field>
			<field name="model">tpt.ed.invoice.positing</field>
			<field name="arch" type="xml">
				<tree string="ED Invoice Posting">
						<field name="name"/>
						<field name="ed_type"/>
						<field name="supplier_id" options="{'create': false, 'create_edit': false}" />
						<field name="date"/>
						<field name="invoice_id" options="{'create': false, 'create_edit': false}" />
						<field name="created_on"  />
						<field name="create_uid" options="{'create': false, 'create_edit': false}" />
						<field name="state"/>
				</tree>
			</field>
	  </record>
	  
	  <record id="view_tpt_ed_invoice_positing_form" model="ir.ui.view">
            <field name="name">tpt.ed.invoice.positing.form</field>
            <field name="model">tpt.ed.invoice.positing</field>
            <field name="arch" type="xml">
	            <form string="ED Invoice Posting" version="7.0" create = 'false'>   
	            <header>
	            		<button name="bt_validate" states='draft' string="Validate" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_hrm_plant_mm_user"/>
	            		<button name="bt_cancel" states='draft' string="Cancel" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_hrm_plant_mm_user"/>
	                    <field name="state" widget="statusbar" statusbar_visible="draft,posted" statusbar_colors='{"posted":"blue"}'/>
	            </header> 
	            	<sheet>
						<group col="4" colspan="2">
							<field name="name"/>
							<field name="ed_type"/>
							<field name="supplier_id" options="{'create': false, 'create_edit': false}" />
							<field name="date"/>
							<field name="invoice_id" options="{'create': false, 'create_edit': false}" />
							<field name="created_on"  />
							<field name="create_uid" options="{'create': false, 'create_edit': false}" />
						</group>
						<notebook>
							<page string = "ED Invoice Posting - Line Tab">
								<field name="tpt_ed_invoice_positing_line" nolabel='1'>
									<tree editable='bottom' create = 'false'>
										<field name="gl_account_id" options="{'create': false, 'create_edit': false}" />
										<field name="gl_desc" />
										<field name="debit" sum = 'Total'/>
										<field name="credit" sum = 'Total'/>
									</tree>
								</field>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_tpt_auto_posting_form_view" model="ir.actions.act_window">
            <field name="name">Auto Account Posting Configuration</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.auto.posting</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="tpt_auto_posting_tree_view"/>
        </record>
        
        <menuitem action="action_tpt_auto_posting_form_view"
            id="menu_action_tpt_auto_posting_form_view"
            parent="menu_tpt_accounting" sequence="20"
            groups="base.user_root"/>
		
		<record id="action_view_tpt_ed_invoice_positing_form" model="ir.actions.act_window">
            <field name="name">ED Invoice Posting</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.ed.invoice.positing</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <field name="view_id" ref="view_tpt_ed_invoice_positing_tree"/>
        </record>
        <menuitem action="action_view_tpt_ed_invoice_positing_form"
            id="menu_action_view_tpt_ed_invoice_positing_form"
            parent="green_erp_arulmani_accounting.menu_tpt_accounting" sequence="10" />
            
       	<record id="inher_view_arul_hr_payroll_executions_form_vew" model="ir.ui.view">
            <field name="name">inher.arul.hr.payroll.executions.form</field>
            <field name="model">arul.hr.payroll.executions</field>
            <field name="inherit_id" ref="green_erp_arulmani_hrm.view_arul_hr_payroll_executions_form_vew"/>
            <field name="arch" type="xml">
            	<xpath expr="//button[@name='rollback_payroll']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_hrm.group_vvti_hrm_payroll_controller,green_erp_arulmani_accounting.group_vvti_accounting_mgr</attribute>
				</xpath>
				
				<xpath expr="//button[@name='confirm_payroll']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_hrm.group_vvti_hrm_payroll_controller,green_erp_arulmani_accounting.group_vvti_accounting_mgr</attribute>
				</xpath>
				
            </field>
	  </record>
	  
	  <record id="inher_view_tpt_purchase_indent_line_form_hod" model="ir.ui.view">
            <field name="name">inher.tpt.purchase.indent.line.form</field>
            <field name="model">tpt.purchase.product</field>
            <field name="inherit_id" ref="green_erp_arulmani_purchase.view_tpt_purchase_indent_line_form_hod"/>
            <field name="arch" type="xml">
            	<xpath expr="//button[@name='%(green_erp_arulmani_purchase.action_reject_pur_line_form)d']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_production.group_vvti_production_mgr</attribute>
				</xpath>
            </field>
	  </record>
	  
	  <record id="tpt_bank_reconciliation_tree" model="ir.ui.view">
            <field name="name">tpt.bank.reconciliation.tree</field>
            <field name="model">tpt.bank.reconciliation</field>
            <field name="arch" type="xml">
                <tree string="Bank Reconciliation">
                    <field name="name"/>
                    <field name="date"/>
                    <!--<field name="state"/>-->
                </tree>
            </field>
        </record>
        
        <record id="tpt_bank_reconciliation_form" model="ir.ui.view">
            <field name="name">tpt.bank.reconciliation.form</field>
            <field name="model">tpt.bank.reconciliation</field>
            <field name="arch" type="xml">
                <form string="Bank Reconciliation" version="7.0">
                  <header>
                  	  <button name="bt_load" string="Load" type='object' class="oe_highlight"/>
                      <button name="bt_confirm" string="Process" type='object' class="oe_highlight"/>
                      
                      <!--<field name="state" widget="statusbar" statusbar_visible="draft,done"/>-->
                  </header>
                  <sheet>
                    <group col="4" colspan="4">
                        <field name="name" domain="[('user_type.code','=','bank')]" options="{'create': false, 'create_edit': false}"/>
                    	<field name="date"/>
                    	<field name="action_type" string='Load Action Type' required='1'/>
                    </group>
                    <notebook colspan="4">
                        <page>
                        	<div col='4' colspan='4'>
	                            <field name="reconciliation_line" nolabel='1'>
	                                <tree string="Voucher Items" create='false' delete='false' editable="bottom">
	                                	<field name="date" string="Payment Date" readonly='1'/>
	                                	<field name="name" string="Voucher No" readonly='1'/>
	                                	<field name="partner_id" readonly='1'/>
	                         			<!-- <field name="reference" string="Payment Ref"  readonly='1'/>  
	                                    <field name="account_id" readonly='1'/>
	                                    <field name="amount" readonly='1'/>-->
	                                    <field name="cheque_no" readonly='1'/>
	                                    <field name="cheque_date" readonly='1'/>
	                                    <field name="debit" readonly='1'/>
	                                    <field name="credit" readonly='1'/>
	                                    <field name="doc_type" readonly='1'/>
	                                    <field name="reconciliation_date" attrs="{'readonly': [('cheque_no','in',['Total','Net Balance'])]}"
	                                    			required='0'/>
	                                    <field name="status"
	                                    required='0' attrs="{'readonly': [('is_confirmed','=',True)]}"/>
	                                    
	                                    <field name="is_reconciled" invisible="1"/>
	                                    <field name="is_unreconciled" invisible="1"/> 
	                                    <field name="is_confirmed" invisible="1"/>  
	                                    
	                                </tree>
	                            </field>
                            </div>
                        </page>
                    </notebook>
                  </sheet>
                </form>
            </field>
        </record>
          
       <record id="action_tpt_bank_reconciliation" model="ir.actions.act_window">
            <field name="name">Bank Reconciliation</field>
            <field name="res_model">tpt.bank.reconciliation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="view_id" eval="tpt_bank_reconciliation_tree"/>
        </record>
	  <!-- TPT-START: C-FORM -->
	  <record id="tpt_cform_invoice_tree" model="ir.ui.view">
            <field name="name">tpt.cform.invoice.tree</field>
            <field name="model">tpt.cform.invoice</field>
            <field name="arch" type="xml">
                <tree string="C-FORM Invoice">
                    <field name="name"/>
                    
                </tree>
            </field>
        </record>
        
        <record id="tpt_cform_invoice_form" model="ir.ui.view">
            <field name="name">tpt.cform.invoice.form</field>
            <field name="model">tpt.cform.invoice</field>
            <field name="arch" type="xml">
                <form string="C-Form" version="7.0">
                  <header>
                  	  <button name="bt_load" string="Reload" type='object' class="oe_highlight"/>
                      <button name="bt_confirm" string="Confirm" type='object' class="oe_highlight"/>
                      <!--<field name="state" widget="statusbar" statusbar_visible="draft,done"/>-->
                  </header>
                  <sheet>
                    
            			<div class="oe_text_center">
            				<b>CUSTOMER INVOICE ENTRIES</b>
            			</div>
            			<!-- 
                        <field name="name" />  -->
                        <!-- 
                        <field name="create_date" />
                        <field name="create_uid" />  -->
                    	
                    <!-- <field name="name"/>  -->
                    <notebook colspan="4">
                        <page>
                        	<div col='4' colspan='4'>
	                            <field name="cform_line" nolabel='1'>
	                                <tree string="Sales Invoice" create='false' delete='false' editable="bottom">
	                                    <field name="invoice_no" readonly='1'/>
	                                    <field name="customer_code" readonly='1'/>
	                                    <!-- <field name="partner_id" readonly='1'/>  -->
	                                    <field name="date_invoiced" readonly='1'/>
	                                    <field name="product_id" readonly='1'/>
	                                    <field name="uom_id" readonly='1'/>
	                                    <field name="bill_amount" readonly='1'/>
	                                    <field name="form_type" required='1' on_change="onchange_type(form_type)"/> 
	                                    <field name="form_number" required='1'/>    
	                                </tree>
	                            </field>
                            </div>
                        </page>
                    </notebook>
                  </sheet>
                </form>
            </field>
        </record>
          
       <record id="action_tpt_cform_invoice" model="ir.actions.act_window">
            <field name="name">C-Form</field>
            <field name="res_model">tpt.cform.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="view_id" eval="tpt_cform_invoice_tree"/>
        </record>
        <menuitem action="action_tpt_cform_invoice" id="menu_action_cform_invoice" parent="account.menu_finance_receivables"
        	groups="green_erp_arulmani_sale.group_vvti_unit_account,account.group_account_manager"/>
	  <!-- TPT-END -->
	  
	  <record id="inher_view_arul_hr_payroll_employee_structure_form_vew" model="ir.ui.view">
            <field name="name">inher.arul.hr.payroll.employee.structure.form</field>
            <field name="model">arul.hr.payroll.employee.structure</field>
            <field name="inherit_id" ref="green_erp_arulmani_hrm.view_arul_hr_payroll_employee_structure_form_vew"/>
            <field name="arch" type="xml">
				<xpath expr="//button[@name='bt_approve']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_accounting.group_vvti_accounting_user,green_erp_arulmani_hrm.group_vvti_hrm_payroll_controller</attribute>
				</xpath>
            </field>
        </record>
      <!-- TPT-By BalamuruganPurushothaman - ON 22/02/2016 - TO ADD RATE TYPE(BUYING/SELLING) IN CURRENCY MASTER -->
	  <record id="tpt_res_currency_inherit_form" model="ir.ui.view">
            <field name="name">tpt.res.currency.inherit.form</field>
            <field name="model">res.currency</field>
            <field name="inherit_id" ref="base.view_currency_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//field[@name='rate_ids']/tree/field[@name='name']" position="after">					
					<field name="rate_type"/>
				</xpath>
			</field>
		</record>
		<!-- TPT-END -->
    </data>
</openerp>
