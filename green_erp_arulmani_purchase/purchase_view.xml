<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
	   	<record id="view_tpt_purchase_indent_tree" model="ir.ui.view">
			<field name="name">tpt.purchase.indent.tree</field>
			<field name="model">tpt.purchase.indent</field>
			<field name="arch" type="xml">
				<tree string="Purchase Indent">
						<field name="name"/>
						<field name="date_indent"/>
						<field name="document_type"/>
						<field name="intdent_cate"/>
						<field name="department_id"  />
						<field name="create_uid" options="{'create': false, 'create_edit': false}" />
						<field name="date_expect"/>
						<field name="requisitioner"/>
						<field name="project_id"/>
						<field name="project_section_id"/>
						<field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
				</tree>
			</field>
		</record>
		<record id="view_tpt_purchase_indent_search_vew" model="ir.ui.view">
			<field name="name">tpt.purchase.indent.search</field>
			<field name="model">tpt.purchase.indent</field>
			<field name="arch" type="xml">
				<search string="Purchase Indent">
					<field name="department_id"/>	
					<field name="requisitioner"/>
					<field name="document_type"/>
					<filter string="Draft" name="draft" icon="terp-personal" domain="[('state','=','draft')]" context="{}"/>
        			<filter string="Closed" name="cancel" icon="terp-personal" domain="[('state','=','cancel')]" context="{}"/>
        			<filter string="Approve" name="done" icon="terp-personal" domain="[('state','=','done')]" context="{}"/>
        			<filter string="RFQ Raised" name="rfq_raised" icon="terp-personal" domain="[('state','=','rfq_raised')]" context="{}"/>
        			<filter string="Quotation Raised" name="quotation_raised" icon="terp-personal" domain="[('state','=','quotation_raised')]" context="{}"/>
        			<filter string="PO Raised" name="po_raised" icon="terp-personal" domain="[('state','=','po_raised')]" context="{}"/>
        			<separator/>
        			<filter string="VV Raw Material PR" name="raw" icon="terp-personal" domain="[('document_type','=','raw')]" context="{}"/>
        			<filter string="VV Consumable PR" name="consumable" icon="terp-personal" domain="[('document_type','=','consumable')]" context="{}"/>
        			<filter string="VV Spare (Project) PR" name="spare" icon="terp-personal" domain="[('document_type','=','spare')]" context="{}"/>
        			<filter string="VV Capital PR" name="capital" icon="terp-personal" domain="[('document_type','=','capital')]" context="{}"/>
        			<filter string="VV Local Purchase PR" name="local" icon="terp-personal" domain="[('document_type','=','local')]" context="{}"/>
        			<filter string="VV Normal PR" name="normal" icon="terp-personal" domain="[('document_type','=','normal')]" context="{}"/>
        			<group expand="0" string="Group By...">
                        <filter string='Status' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'state'}"/>
                        <filter string='Document Type' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'document_type'}"/>
                    </group>				
				</search>
			</field>
		</record>
	<record id="view_tpt_purchase_indent_form" model="ir.ui.view">
            <field name="name">tpt.purchase.indent.form</field>
            <field name="model">tpt.purchase.indent</field>
            <field name="arch" type="xml">
	            <form string="Purchase Indent" version="7.0">   
	             <header>
	            		<button name="bt_approve" states='draft' string="Confirm" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_hrm_plant_mm_user"/>
	                    <button name="bt_cancel" states='draft, done' string="Cancel" type="object" class="oe_highlight" /> 
	                    <field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
	            </header>    
	            	<sheet>
	            	<group col="1">
		                <group col="4" colspan="2" >    
							<field name="name"/>
							<field name="date_indent" on_change="onchange_date_expect(date_indent)" />
							<field name="document_type" on_change="onchange_document_type(document_type)" />
							<field name="intdent_cate" />
							<field name="department_id" required='1' options="{'create': false, 'create_edit': false}" />
							<field name="create_uid" options="{'create': false, 'create_edit': false}"  />
							<field name="section_id" required='1' domain="[('department_id','=',department_id)]" options="{'create': false, 'create_edit': false}" />
							<field name="date_expect"/>
							<field name="requisitioner" options="{'create': false, 'create_edit': false}" domain="[('department_id','=',department_id)]"  />
							
							<!-- TPT COMMENTED -02/04/2015- TO MAKE THIS FIELD AS NON-MANDATORY
							<field name="project_id" required = '1' options="{'create': false, 'create_edit': false}"/>
							<field name="project_section_id" required = '1' domain="[('project_id','=',project_id)]" options="{'create': false, 'create_edit': false}"/>
							-->
							<field name="project_id"  attrs="{'required': [('document_type', '=', 'spare')]}" options="{'create': false, 'create_edit': false}"/>
							<field name="project_section_id" attrs="{'required': [('document_type', '=', 'spare')]}" domain="[('project_id','=',project_id)]" options="{'create': false, 'create_edit': false}"/>
							
							
							<field name="header_text" attrs="{'readonly': [('document_type', 'not in', ('service','consumable','capital')),('state', '=', 'done')]}"/>
						</group>
						<group >
							<field name="select_normal" invisible = '1' widget = "radio" attrs="{'invisible': [('intdent_cate', '!=', 'normal')]}" />
							<field name="supplier_id" domain="[('supplier','=',1)]" options="{'create': false, 'create_edit': false}" attrs="{'invisible': [('select_normal', '!=', 'special')]}"   />
							<field name="reason" attrs="{'invisible': [('select_normal', '!=', 'special')]}" />
						</group>
						</group>
						<notebook>
							<page string = "Indent Lines">
								<field name="purchase_product_line" nolabel='1' context="{'default_doc_type_relate':document_type}">
									<tree editable='bottom'>
										<field name="doc_type_relate" invisible = '1'/>
										<field name="product_id" context="{'search_indent_type_cate':True,'document_type':parent.document_type}" on_change="onchange_product_id(product_id)"  required='1' options="{'create': false, 'create_edit': false}"/>
										<field name="description" required='1' attrs="{'readonly':[('flag','=',False)]}"/>
										<field name="item_text" />
										<field name="flag" invisible = '1'/>
										<field name="product_uom_qty" string = 'Indent Qty'/>
										<field name="recom_vendor" />
										<field name="pending_qty" invisible = '1'/>
										<field name="mrs_qty" readonly = '1'/>
										<field name="inspection_qty" invisible = '1'/> 
										<field name="on_hand_qty"/>
										<field name="uom_po_id" attrs="{'readonly':[('flag','=',False)]}" options="{'create': false, 'create_edit': false}"/>
										<!-- <field name="release_by" required='1'/>  -->
										<field name="state" required='1'/>
									</tree>
								</field>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_purchase_indent_form" model="ir.actions.act_window">
            <field name="name">Purchase Indent</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.purchase.indent</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_draft':1, 'search_default_cancel':1}</field>
            <field name="domain">[]</field>
            <field name="search_view_id" ref="view_tpt_purchase_indent_search_vew"/>
            <field name="view_id" ref="view_tpt_purchase_indent_tree"/>
        </record>
        <menuitem action="action_view_tpt_purchase_indent_form"
            id="menu_action_view_tpt_purchase_indent_form"
            parent="purchase.menu_procurement_management" sequence="11"
            groups="green_erp_arulmani_purchase.group_vvti_purchase_user,green_erp_arulmani_purchase.group_vvti_hrm_plant_mm_user"/>
            
	   	<record id="view_tpt_purchase_indent_line_tree" model="ir.ui.view">
			<field name="name">tpt.purchase.indent.line.tree</field>
			<field name="model">tpt.purchase.product</field>
			<field name="arch" type="xml">
				<tree string="Indent Release - By Store" edit = 'false' delete = 'false' create = 'false' >
						<field name="doc_type_relate"/> 
						<field name="pur_product_id"/> 
						<field name="product_id"/>
						<field name="description"/>
						<field name="item_text" />
						<field name="product_uom_qty" />
						<field name="recom_vendor" />
						<field name="mrs_qty" />
						<field name="uom_po_id" />
						<field name="on_hand_qty"/>
						<field name="section_id_relate"/> 
						<field name="department_id_relate"/> 
						<field name="date_indent_relate"/> 
						<field name="requisitioner_relate"/>  
						<field name="store_date" invisible = '1'/>  
						<field name="hod_date" invisible = '1' />  
						<field name="state"/>
				</tree>
			</field>
		</record>            

		<record id="view_tpt_purchase_indent_line_form" model="ir.ui.view">
            <field name="name">tpt.purchase.indent.line.form</field>
            <field name="model">tpt.purchase.product</field>
            <field name="arch" type="xml">
	            <form string="Indent Release - By Store" version="7.0" edit = 'false' delete = 'false' create = 'false' >   
	             <header>
	            		<button name="bt_approve" states='draft,confirm' string="Store Approve" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_store_mgr"/>
	                    <button name="%(action_reject_pur_line_form)d" states='draft,confirm' string="Store Reject" type="action" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_store_mgr"/> 
	                    <field name="state" widget="statusbar" statusbar_visible="confirm,+,x"/>
	            </header>  
	            <sheet> 
	            	<group col="4" colspan="2"> 
						<field name="doc_type_relate" />
						<field name="pur_product_id" readonly="1"  options="{'create': false, 'create_edit': false}"/> 
						<field name="recom_vendor" />
						<field name="product_id" readonly = "1" options="{'create': false, 'create_edit': false}" />
						<field name="description"/>
						<field name="product_uom_qty" />
						<field name="mrs_qty" />
						<field name="uom_po_id" edit='false' options="{'create': false, 'create_edit': false}" />
						<field name="on_hand_qty"/>
						<field name="section_id_relate" />
						<field name="department_id_relate" options="{'create': false, 'create_edit': false}" />
						<field name="requisitioner_relate" options="{'create': false, 'create_edit': false}"/>
						<field name="date_indent_relate" />  
						<field name="store_date" invisible = '1' />  
						<field name="hod_date" invisible = '1' />  
						<field name="state" required='1' />
						<field name="item_text" />
				</group>
				</sheet>  
		       </form>
			</field>
		</record>
		
		<record id="view_tpt_purchase_indent_release_store_search_vew" model="ir.ui.view">
			<field name="name">tpt.purchase.indent.release.store.search</field>
			<field name="model">tpt.purchase.product</field>
			<field name="arch" type="xml">
				<search string="Purchase Indent">
					<field name="pur_product_id"/>	
					<field name="product_id"/>
					<filter string="Draft" name="draft" icon="terp-personal" domain="[('state','=','draft')]" context="{}"/>
        			<filter string="Confirmed" name="confirm" icon="terp-personal" domain="[('state','=','confirm')]" context="{}"/>
        			<filter string="Closed" name="confirm" icon="terp-personal" domain="[('state','=','close')]" context="{}"/>
        			<filter string="Store Approved" name="+" icon="terp-personal" domain="[('state','=','+')]" context="{}"/>
        			<filter string="Store Rejected" name="x" icon="terp-personal" domain="[('state','=','x')]" context="{}"/>
        			<filter string="Store - HOD Approved" name="++" icon="terp-personal" domain="[('state','=','++')]" context="{}"/>
        			<filter string="Store - HOD Reject" name="xx" icon="terp-personal" domain="[('state','=','xx')]" context="{}"/>
        			<filter string="RFQ Raised" name="rfq_raised" icon="terp-personal" domain="[('state','=','rfq_raised')]" context="{}"/>
        			<filter string="PO Cancelled" name="cancel" icon="terp-personal" domain="[('state','=','cancel')]" context="{}"/>
        			<filter string="Quotation Raised" name="quotation_raised" icon="terp-personal" domain="[('state','=','quotation_raised')]" context="{}"/>
        			<filter string="PO Raised" name="po_raised" icon="terp-personal" domain="[('state','=','po_raised')]" context="{}"/>
        			<group expand="0" string="Group By...">
                        <filter string='Status' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>				
				</search>
			</field>
		</record>
           
        <record id="action_view_tpt_purchase_indent_line_form" model="ir.actions.act_window">
            <field name="name">Indent Release - By Store</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.purchase.product</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_confirm':1, 'search_default_x':1}</field>
            <field name="domain">[]</field>
            <field name="search_view_id" ref="view_tpt_purchase_indent_release_store_search_vew"/>
            <field name="view_id" ref="view_tpt_purchase_indent_line_tree"/>
        </record>
       <record id="action_view_tpt_purchase_indent_line_form1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tpt_purchase_indent_line_tree"/>
            <field name="act_window_id" ref="action_view_tpt_purchase_indent_line_form"/>
        </record>
        <record id="action_view_tpt_purchase_indent_line_form2" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tpt_purchase_indent_line_form"/>
            <field name="act_window_id" ref="action_view_tpt_purchase_indent_line_form"/>
        </record>

	   	<record id="view_tpt_purchase_indent_line_tree_hod" model="ir.ui.view">
			<field name="name">tpt.purchase.indent.line.tree</field>
			<field name="model">tpt.purchase.product</field>
			<field name="arch" type="xml">
				<tree string="Indent Release - By HOD" edit = 'false' delete = 'false' create = 'false' >
						<field name="doc_type_relate"/> 
						<field name="pur_product_id"/> 
						<field name="product_id"/>
						<field name="description"/>
						<field name="item_text" />
						<field name="product_uom_qty" />
						<field name="recom_vendor" />
						<field name="mrs_qty" />
						<field name="uom_po_id" />
						<field name="on_hand_qty"/>
						<field name="section_id_relate"/> 
						<field name="department_id_relate"/> 
						<field name="date_indent_relate"/> 
						<field name="requisitioner_relate"/>  
						<field name="store_date"/>  
						<field name="hod_date" invisible = '1' />  
						<field name="state"/>
				</tree>
			</field>
		</record>            

		<record id="view_tpt_purchase_indent_line_form_hod" model="ir.ui.view">
            <field name="name">tpt.purchase.indent.line.form</field>
            <field name="model">tpt.purchase.product</field>
            <field name="arch" type="xml">
	            <form string="Indent Release - By HOD" version="7.0" edit = 'false' delete = 'false' create = 'false' >   
	             <header>
	            		<button name="bt_approve" states='+' string="HOD Approve" type="object" class="oe_highlight" groups="green_erp_arulmani_hrm.group_vvti_unit_user"/>
	                    <button name="%(action_reject_pur_line_form)d" states='+' string="HOD Reject" type="action" class="oe_highlight" groups="green_erp_arulmani_hrm.group_vvti_unit_user"/> 
	                    <field name="state" widget="statusbar" statusbar_visible="confirm,+,x"/>
	            </header>  
	            <sheet> 
	            	<group col="4" colspan="2"> 
						<field name="doc_type_relate" />
						<field name="pur_product_id" readonly="1"  options="{'create': false, 'create_edit': false}"/> 
						<field name="recom_vendor" />
						<field name="product_id" readonly = "1" options="{'create': false, 'create_edit': false}" />
						<field name="description"/>
						<field name="product_uom_qty" />
						<field name="mrs_qty" />
						<field name="uom_po_id" edit='false' options="{'create': false, 'create_edit': false}" />
						<field name="on_hand_qty"/>
						<field name="section_id_relate" />
						<field name="department_id_relate" options="{'create': false, 'create_edit': false}" />
						<field name="requisitioner_relate" options="{'create': false, 'create_edit': false}"/>
						<field name="date_indent_relate" />  
						<field name="store_date"/>  
						<field name="hod_date" invisible = '1' />  
						<field name="state" required='1' />
						<field name="item_text" />
				</group>
				</sheet>  
		       </form>
			</field>
		</record>   
		
		<record id="view_tpt_purchase_indent_release_hod_search_vew" model="ir.ui.view">
			<field name="name">tpt.purchase.indent.release.hod.search</field>
			<field name="model">tpt.purchase.product</field>
			<field name="arch" type="xml">
				<search string="Purchase Indent">
					<field name="pur_product_id"/>	
					<field name="product_id"/>
					<filter string="Draft" name="draft" icon="terp-personal" domain="[('state','=','draft')]" context="{}"/>
        			<filter string="Confirmed" name="confirm" icon="terp-personal" domain="[('state','=','confirm')]" context="{}"/>
        			<filter string="Closed" name="confirm" icon="terp-personal" domain="[('state','=','close')]" context="{}"/>
        			<filter string="Store Approved" name="+" icon="terp-personal" domain="[('state','=','+')]" context="{}"/>
        			<filter string="Store Rejected" name="x" icon="terp-personal" domain="[('state','=','x')]" context="{}"/>
        			<filter string="Store - HOD Approved" name="++" icon="terp-personal" domain="[('state','=','++')]" context="{}"/>
        			<filter string="Store - HOD Reject" name="xx" icon="terp-personal" domain="[('state','=','xx')]" context="{}"/>
        			<filter string="RFQ Raised" name="rfq_raised" icon="terp-personal" domain="[('state','=','rfq_raised')]" context="{}"/>
        			<filter string="PO Cancelled" name="cancel" icon="terp-personal" domain="[('state','=','cancel')]" context="{}"/>
        			<filter string="Quotation Raised" name="quotation_raised" icon="terp-personal" domain="[('state','=','quotation_raised')]" context="{}"/>
        			<filter string="PO Raised" name="po_raised" icon="terp-personal" domain="[('state','=','po_raised')]" context="{}"/>
        			<group expand="0" string="Group By...">
                        <filter string='Status' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>				
				</search>
			</field>
		</record>
		     
        <record id="action_view_tpt_purchase_indent_line_form_hod" model="ir.actions.act_window">
            <field name="name">Indent Release - By HOD</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.purchase.product</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_+':1, 'search_default_xx':1, 'search_indent_hod':1}</field>
            <field name="domain">[]</field>
            <field name="search_view_id" ref="view_tpt_purchase_indent_release_hod_search_vew"/>
            <field name="view_id" ref="view_tpt_purchase_indent_line_tree_hod"/>
        </record>
        <record id="action_view_tpt_purchase_indent_line_form_hod1" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tpt_purchase_indent_line_tree_hod"/>
            <field name="act_window_id" ref="action_view_tpt_purchase_indent_line_form_hod"/>
        </record>
        <record id="action_view_tpt_purchase_indent_line_form_hod2" model="ir.actions.act_window.view">
            <field eval="3" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tpt_purchase_indent_line_form_hod"/>
            <field name="act_window_id" ref="action_view_tpt_purchase_indent_line_form_hod"/>
        </record>        
        
         <menuitem action="action_view_tpt_purchase_indent_line_form"
            id="menu_action_view_tpt_purchase_indent_line_form"
            parent="purchase.menu_procurement_management" sequence="12"/>
        <menuitem action="action_view_tpt_purchase_indent_line_form_hod"
            id="menu_action_view_tpt_purchase_indent_line_form_hod"
            parent="purchase.menu_procurement_management" sequence="13"/>

        <record model="ir.values" id="purchase_line_approve_reject">
            <field name="model_id" ref="model_tpt_purchase_product" />
            <field name="name">Approve or Reject</field>
            <field name="key2">client_action_multi</field>
            <field name="value" eval="'ir.actions.act_window,' + str(ref('action_aprove_or_reject_pur_line_form'))" />
            <field name="key">action</field>
            <field name="model">tpt.purchase.product</field>
        </record>

	   	<record id="view_tpt_pr_list_tree" model="ir.ui.view">
			<field name="name">tpt.pr.list.tree</field>
			<field name="model">tpt.purchase.product</field>
			<field name="arch" type="xml">
				<tree string="Pending PR List" delete = 'false' create = 'false' >
						<field name="doc_type_relate"/> 
						<field name="pur_product_id"/> 
						<field name="product_id"/>
						<field name="description"/>
						<field name="item_text" />
						<field name="product_uom_qty" />
						<field name="recom_vendor" />
						<field name="pending_qty" invisible="1" />
						<field name="mrs_qty" />
						<field name="inspection_qty" invisible="1" /> 
						<field name="uom_po_id" />
						<field name="section_id_relate"/> 
						<field name="department_id_relate"/> 
						<field name="date_indent_relate"/> 
						<field name="requisitioner_relate"/>  
						<field name="store_date"/>  
						<field name="hod_date"/>  
						<field name="state"/>
				</tree>
			</field>
		</record>            

		<record id="view_tpt_pr_list_form" model="ir.ui.view">
            <field name="name">tpt.pr.list.line.form</field>
            <field name="model">tpt.purchase.product</field>
            <field name="arch" type="xml">
	            <form string="Pending PR List" version="7.0" delete = 'false' create = 'false' edit = 'false' >   
	            <sheet> 
	            	<group col="4" colspan="2"> 
	            		<field name="doc_type_relate" />
						<field name="pur_product_id" readonly="1"  options="{'create': false, 'create_edit': false}"/> 
						<field name="recom_vendor" />
						<field name="product_id" readonly = "1" options="{'create': false, 'create_edit': false}" />
						<field name="description"/>
						<field name="product_uom_qty" />
						<field name="pending_qty" invisible="1" />
						<field name="mrs_qty" />
						<field name="inspection_qty" invisible="1" />  
						<field name="uom_po_id" edit='false' options="{'create': false, 'create_edit': false}" />
						<field name="section_id_relate" />
						<field name="department_id_relate" options="{'create': false, 'create_edit': false}" />
						<field name="requisitioner_relate" options="{'create': false, 'create_edit': false}"/>
						<field name="date_indent_relate" />  
						<field name="store_date"/>  
						<field name="hod_date"/>  
						<field name="state" required='1' />
						<field name="item_text" />
				</group>
				</sheet>  
		       </form>
			</field>
		</record>
		
		<record id="view_tpt_pr_list_search_vew" model="ir.ui.view">
			<field name="name">tpt.pr.list.search</field>
			<field name="model">tpt.purchase.product</field>
			<field name="arch" type="xml">
				<search string="Pending PR List">
					<field name="pur_product_id"/>	
					<field name="product_id"/>
					<filter string="Draft" name="draft" icon="terp-personal" domain="[('state','=','draft')]" context="{}"/>
        			<filter string="Confirmed" name="confirm" icon="terp-personal" domain="[('state','=','confirm')]" context="{}"/>
        			<filter string="Closed" name="confirm" icon="terp-personal" domain="[('state','=','close')]" context="{}"/>
        			<filter string="Store Approved" name="+" icon="terp-personal" domain="[('state','=','+')]" context="{}"/>
        			<filter string="Store Rejected" name="x" icon="terp-personal" domain="[('state','=','x')]" context="{}"/>
        			<filter string="Store - HOD Approved" name="++" icon="terp-personal" domain="[('state','=','++')]" context="{}"/>
        			<filter string="Store - HOD Reject" name="xx" icon="terp-personal" domain="[('state','=','xx')]" context="{}"/>
        			<filter string="RFQ Raised" name="rfq_raised" icon="terp-personal" domain="[('state','=','rfq_raised')]" context="{}"/>
        			<filter string="PO Cancelled" name="cancel" icon="terp-personal" domain="[('state','=','cancel')]" context="{}"/>
        			<filter string="Quotation Raised" name="quotation_raised" icon="terp-personal" domain="[('state','=','quotation_raised')]" context="{}"/>
        			<filter string="PO Raised" name="po_raised" icon="terp-personal" domain="[('state','=','po_raised')]" context="{}"/>
        			<filter string="Quotation Cancelled" name="quotation_cancel" icon="terp-personal" domain="[('state','=','quotation_cancel')]" context="{}"/>
        			<separator />
        			<filter string="VV Level Based PR" name="base" icon="terp-personal" domain="[('doc_type_relate','=','base')]" context="{}"/>
        			<filter string="VV Capital PR" name="capital" icon="terp-personal" domain="[('doc_type_relate','=','capital')]" context="{}"/>
        			<filter string="VV Local Purchase PR" name="local" icon="terp-personal" domain="[('doc_type_relate','=','local')]" context="{}"/>
        			<filter string="VV Maintenance PR" name="maintenance" icon="terp-personal" domain="[('doc_type_relate','=','maintenance')]" context="{}"/>
        			<filter string="VV Consumable PR" name="consumable" icon="terp-personal" domain="[('doc_type_relate','=','consumable')]" context="{}"/>
        			<filter string="VV Outside Service PR" name="outside" icon="terp-personal" domain="[('doc_type_relate','=','outside')]" context="{}"/>
        			<filter string="VV Spare (Project) PR" name="spare" icon="terp-personal" domain="[('doc_type_relate','=','spare')]" context="{}"/>
        			<filter string="VV Service PR" name="service" icon="terp-personal" domain="[('doc_type_relate','=','service')]" context="{}"/>
        			<filter string="VV Normal PR" name="normal" icon="terp-personal" domain="[('doc_type_relate','=','normal')]" context="{}"/>
        			<filter string="VV Raw Material PR" name="raw" icon="terp-personal" domain="[('doc_type_relate','=','raw')]" context="{}"/>
        			<group expand="0" string="Group By...">
                        <filter string='Status' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'state'}"/>
                        <filter string='Indent Type' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'doc_type_relate'}"/>
                        <filter string='Department' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'department_id_relate'}"/>
                        <filter string='Section' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'section_id_relate'}"/>
                        <filter string='Material Code' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'product_id'}"/>
                        <filter string='Material Name' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'description'}"/>
                        <filter string='Requisitioner' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'requisitioner_relate'}"/>
                    </group>				
				</search>
			</field>
		</record>

        <record id="action_view_tpt_pr_list_form" model="ir.actions.act_window">
            <field name="name">Pending PR List</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.purchase.product</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_++':1, 'search_default_rfq_raised':1, 'search_default_cancel':1, 'search_default_quotation_raised':1, 'search_default_po_raised':1, 'search_default_quotation_cancel':1}</field>
            <field name="domain">[]</field>
            <field name="search_view_id" ref="view_tpt_pr_list_search_vew"/>
            <field name="view_id" ref="view_tpt_pr_list_tree"/>
        </record>
        
        <record id="action_view_tpt_pr_list_form1" model="ir.actions.act_window.view">
            <field eval="4" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tpt_pr_list_tree"/>
            <field name="act_window_id" ref="action_view_tpt_pr_list_form"/>
        </record>
        <record id="action_view_tpt_pr_list_form2" model="ir.actions.act_window.view">
            <field eval="5" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tpt_pr_list_form"/>
            <field name="act_window_id" ref="action_view_tpt_pr_list_form"/>
        </record>        
        
         <menuitem action="action_view_tpt_pr_list_form"
            id="menu_action_view_tpt_pr_list_form"
            parent="purchase.menu_procurement_management" sequence="14"/>		
		
		<record id="tpt_purchase_order_form" model="ir.ui.view">
            <field name="name">tpt.purchase.order.form</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.purchase_order_form"/>
            <field name="arch" type="xml">
            
	            <xpath expr="//form/header/button[@name='print_quotation']" position="replace">
	            	<button name="print_quotation" string="Print" type="object"  class="oe_highlight" groups="base.group_user" invisible='1'/>
	            </xpath> 
	            <xpath expr="//form/header/button[@name='action_cancel_draft']" position="replace">
	            	<button name="action_cancel_draft" states="cancel,sent,confirmed,head" string="Set to Draft" type="object" groups="green_erp_arulmani_purchase.group_vvti_purchase_mgr,green_erp_arulmani_purchase.group_vvti_purchase_gm"/>
	            	<button name="action_cancel_draft" states="gm" string="Set to Draft" type="object" groups="green_erp_arulmani_purchase.group_vvti_purchase_gm"/>
	            </xpath> 
            
				<xpath expr="//form/header/button[@name='purchase_confirm']" position="replace">
					
					<button name="print_quotation" states="md" string="Print PO" type="object"  class="oe_highlight" groups="base.group_user"/>
					
					<button name="purchase_draft_head" states="draft" string="Purchase Head Approval" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_purchase_mgr"/>
					<button name="purchase_head_gm" states="head" string="GM Approval" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_purchase_gm"/>
					<!--<button name="purchase_gm_amendement" states="gm" string="Amendement" class="oe_highlight"/>-->
					<button name="purchase_md_amendement" states="md" string="Amendement" class="oe_highlight"/>
					<!--<button name="purchase_head_amendement" states="head" string="Amendement" class="oe_highlight"/>-->
					<button name="purchase_amendement_head" states="amendement" string="Purchase Head Approval" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_purchase_mgr"/>
					<button name="purchase_gm_confirmed" states="gm" string="MD Approval" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin"/>
					<button name="purchase_md_confirmed" states="md" string="Create GRN" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_purchase_store_mgr"/>
				</xpath>  
				<xpath expr="//form/header/button[@name='view_picking']" position="attributes">
					<attribute name='string'>View GRN</attribute>
				</xpath>
            	<xpath expr="//field[@name='partner_id']" position="before">
            		
            		<field name="po_document_type" />
					<field name="name" readonly = '1' string = 'PO Document No' />
		<!--			<field name="po_indent_no" domain="[('state','!=','cancel')]" on_change = "onchange_po_indent_no(quotation_no, po_indent_no)" context="{'search_po_indent_no':True, 'quotation_no':quotation_no, 'search_po_indent_no_emergency':True }" options="{'create': false, 'create_edit': false}"/>   -->
				</xpath> 
				<xpath expr="//field[@name='date_order']" position="after">
					<field name="quotation_no" context="{'search_quotation_no':True}" on_change = "onchange_quotation_no(quotation_no)" options="{'create': false, 'create_edit': false}"/>
					<field name="state_id" options="{'create': false, 'create_edit': false}"/>
					<!-- <field name="ecc_no" />  -->
					<field name="payment_term_id" options="{'create': false, 'create_edit': false}" widget="selection"/>
					<field name="deli_sche" />
		<!--			<field name="purchase_tax_id" options="{'create': false, 'create_edit': false}"/> -->
				</xpath> 
				<xpath expr="//field[@name='partner_ref']" position="after">
            		<field name="for_basis" />
					<field name="mode_dis" />
					<field name="freight_term"/>
					<!-- <field name="quotation_ref"/>  -->
					<field name="reason" attrs="{'required':[('state','=','amendement')]}" />
					<field name="check_amendement" />
				</xpath>
				<xpath expr="//page[@string='Incoming Shipments &amp; Invoices']/group/group/field[@name='payment_term_id']" position="replace">
				</xpath> 
				<xpath expr="//field[@name='warehouse_id']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath> 
				<xpath expr="//label[@string='Request for Quotation ']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath> 
				<xpath expr="//field[@name='partner_id']" position="attributes">
					<attribute name='options'>{'create': false, 'create_edit': false}</attribute>
				</xpath> 
				<xpath expr="//field[@name='partner_id']" position="attributes">
					<attribute name='string'>Vendor</attribute>
				</xpath> 
				<xpath expr="//page[@string='Purchase Order']" position="attributes">
					<attribute name='string'>PO Line</attribute>
				</xpath> 
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='name']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath> 
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='price_subtotal']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='name']" position="attributes">
					<attribute name='required'>0</attribute>
				</xpath>
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='date_planned']" position="attributes">
					<attribute name='required'>0</attribute>
				</xpath> 
				
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='date_planned']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath> 
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='taxes_id']" position="attributes">
					<attribute name='invisible'>0</attribute>
				</xpath> 
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='product_uom']" position="replace">
					<field name="product_uom" string = 'UOM' groups="product.group_uom" on_change="onchange_product_uom(parent.pricelist_id,product_id,product_qty,product_uom,parent.partner_id, parent.date_order,parent.fiscal_position,date_planned,name,price_unit,context)"/>
				</xpath> 
		<!--		<xpath expr="//page[@string='PO Line']/field/tree/field[@name='product_id']" position="before">
					<field name="po_indent_no" context="{'search_po_indent_no':True, 'quotation_no':parent.quotation_no }" on_change = "onchange_po_indent_no(po_indent_no)" options="{'create': false, 'create_edit': false}"/>
				</xpath> -->
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='product_id']" position="replace">
					<field name="product_id" required = '1' context="{'search_po_product':True, 'po_indent_no':parent.po_indent_no }" options="{'create': false, 'create_edit': false}" on_change="onchange_product_id(parent.pricelist_id,product_id,0,False,parent.partner_id, parent.date_order,parent.fiscal_position,date_planned,name,price_unit,po_indent_no,context)"/>
				</xpath>
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='product_id']" position="before">
					<field name="line_no" />
					<field name="po_indent_no" context="{'search_po_indent_no':True, 'quotation_no':parent.quotation_no}" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='product_qty']" position="replace">
					<field name="description" />
					<field name="product_qty" />
				</xpath>
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='product_qty']" position="after">
					<field name="state" invisible = '1' required = '0'/>
				</xpath>
				<xpath expr="//page[@string='PO Line']/group/field[@name='amount_untaxed']" position="after">
					<field name="p_f_charge" widget="monetary"/>
					<field name="excise_duty" widget="monetary"/>
				</xpath>
				<xpath expr="//page[@string='PO Line']/group/field[@name='amount_tax']" position="after">
					<field name="fright" widget="monetary"/>
				</xpath>
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='price_unit']" position="after">
					<field name="discount"/>
					<field name="p_f"/>
					<field name="p_f_type"/>
					<field name="ed"/>
					<field name="ed_type"/>
				</xpath> 
				<xpath expr="//page[@string='PO Line']/field/tree/field[@name='taxes_id']" position="after">
					<field name="fright"/>
					<field name="fright_type"/>
					<field name="short_qty"/>
					<field name="amount_basic"/>
					<field name="line_net"/>
					<button name="%(action_alert_warning_purchase)d" icon = "STOCK_APPLY" string="Show Current Stock" type="action" groups="green_erp_arulmani_purchase.group_vvti_purchase_mgr,green_erp_arulmani_purchase.group_vvti_purchase_gm"/>
				</xpath> 
				<xpath expr="//page[@string='PO Line']/field/tree[@string='Purchase Order Lines']" position="attributes">
					<attribute name="create">false</attribute>
				</xpath>
				<xpath expr="//button[@name='purchase_confirm']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_mgr</attribute>
				</xpath>
			</field>
		</record>
		
		<record id="tpt_product_category_form" model="ir.ui.view">
            <field name="name">tpt.product.category.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="product.product_category_form_view"/>
            <field name="arch" type="xml">
            	<xpath expr="//label[@for='name']" position="before">
            		<h1> <label string = 'Material Category' attrs="{'invisible':[('tpt_type','!=','purchase')]}" class="oe_edit_only"/> </h1>
            		<h1> <label string = 'Product Category' attrs="{'invisible':[('tpt_type','!=','sale')]}" class="oe_edit_only"/> </h1>
				</xpath>
				<xpath expr="//label[@for='name']" position="replace">
					<label for="name" string = 'Category Code' class="oe_edit_only"/>
					<field name="tpt_type" invisible="1"/>
				</xpath> 
				<xpath expr="//field[@name='parent_id']" position="before">
					
					<field name="cate_name"/>
					
				</xpath> 
				<xpath expr="//field[@name='type']" position="before">
					<newline/>
					<field name="description"/>
				</xpath> 
			</field>
		</record>
		
		<record id="tpt_account_properties_product_category_form" model="ir.ui.view">
            <field name="name">tpt.account.properties.product.category.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="account.view_category_property_form"/>
            <field name="arch" type="xml">
				<xpath expr="//field[@name='property_account_income_categ']" position="replace">
					<field name="property_account_income_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_account_expense_categ']" position="replace">
					<field name="property_account_expense_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
			</field>
		</record>
		
		<record id="tpt_account_stock_properties_product_category_form" model="ir.ui.view">
            <field name="name">tpt.account.stock.properties.product.category.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="stock.view_category_property_form"/>
            <field name="arch" type="xml">
				<!--<xpath expr="//field[@name='property_stock_account_input_categ']" position="replace">
					<field name="property_stock_account_input_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_stock_account_output_categ']" position="replace">
					<field name="property_account_expense_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>-->
				<xpath expr="//field[@name='property_stock_valuation_account_id']" position="replace">
					<field name="property_stock_valuation_account_id" domain="[('type','&lt;&gt;','view'), ('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_stock_journal']" position="replace">
					<field name="property_stock_journal" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				
				<xpath expr="//field[@name='property_stock_account_output_categ']" position="attributes">
					<attribute name='domain'>[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]</attribute>
					<attribute name='options'>{'create': false, 'create_edit': false}</attribute>
				</xpath>
				
				<xpath expr="//field[@name='property_stock_account_input_categ']" position="attributes">
					<attribute name='domain'>[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]</attribute>
					<attribute name='options'>{'create': false, 'create_edit': false}</attribute>
				</xpath>
				
			</field>
		</record>   
		
		<record id="view_normal_procurement_locations_form_inherit" model="ir.ui.view">
            <field name="name">product.normal.procurement.locations.inherit</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="stock.view_normal_procurement_locations_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//group[@name='delay']" position="before">
            		
					<group name="MRP">
                        <field name="mrp_control" on_change="onchange_mrp_control(mrp_control)"/>
                        <field name="min_stock" attrs="{'readonly': [('mrp_control','=',False)]}"/>
						<field name="max_stock" attrs="{'readonly': [('mrp_control','=',False)]}"/>
						<field name="re_stock" attrs="{'readonly': [('mrp_control','=',False)]}"/>
						<field name="po_text"/>
	                </group>
				</xpath>
				<xpath expr="//group[@string='Stock and Expected Variations']" position="replace"/>
            </field>
		</record>
		
		<record id="tpt_view_product_supplier_inherit_form" model="ir.ui.view">
            <field name="name">tpt.view.product.supplier.inherit.form</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="purchase.view_product_supplier_inherit"/>
            <field name="arch" type="xml">
				<xpath expr="//field[@name='purchase_ok']" position="replace">
					<field name="purchase_ok" attrs="{'invisible':[('cate_name','=','finish')]}"/>
				</xpath>
				<xpath expr="//label[@for='purchase_ok']" position="replace">
					<label for="purchase_ok" attrs="{'invisible':[('cate_name','=','finish')]}"/>
				</xpath>
			</field>
		</record>
            
		<record id="tpt_product_form" model="ir.ui.view">
            <field name="name">tpt.product.form</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_normal_form_view"/>
            <field name="arch" type="xml">
				<xpath expr="//label[@for='sale_ok']" position="after">
					<field name="cate_name" invisible='1'/>
					<field name="batch_appli_ok" on_change="onchange_batch_appli_ok(batch_appli_ok)" attrs="{'invisible':[('cate_name','!=','finish')]}"/>
					<label for = "batch_appli_ok" attrs="{'invisible':[('cate_name','!=','finish')]}"/>
				</xpath>
				<xpath expr="//label[@for='sale_ok']" position="replace">
					<label for = "sale_ok" attrs="{'invisible':[('cate_name','!=','finish')]}"/>
				</xpath>
				<xpath expr="//field[@name='sale_ok']" position="replace">
					<field name= "sale_ok" attrs="{'invisible':[('cate_name','!=','finish')]}"/>
				</xpath>
				<xpath expr="//div[@class='oe_title']" position="inside">
					<group>
                          <field name="tpt_description"/>
                          <!-- <field name="onhand_qty"/> -->
                     </group>
				</xpath>
				<xpath expr="//field[@name='categ_id']" position="replace">
					<field name="categ_id" on_change = "onchange_category_product_id(categ_id)" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				
				<xpath expr="//page[@string='Inventory']" position="attributes">
					<attribute name='string'>Source</attribute>
				</xpath>
				
				<xpath expr="//page[@string='Accounting']" position="before">
					<page string="Specification Parameters" attrs="{'invisible': [('cate_name', '!=', 'raw')]}">
                            <field name="spec_parameter_line" nolabel = '1'>
                            	<tree editable='bottom'>
                                    <field name="name" options="{'create': false, 'create_edit': false}"/>
                                    <field name="required_spec" />
                                    <field name="uom_po_id" options="{'create': false, 'create_edit': false}"/>
	                            </tree>
                            </field>
                    </page>
				</xpath>
				
				<!--<xpath expr="//page[@string='Information']" position="before">
					<page string="Purchase" attrs="{'invisible': [('cate_name', '!=', 'raw')]}">
						<group>
							<group>
								<field name="supplier_id" on_change = "onchange_supplier_id(supplier_id)" domain="[('supplier','=',1)]" options="{'create': false, 'create_edit': false}"/>
		                		<field name="po_price"/>
							</group>
							<group>
	                            <field name="invoice_address" placeholder="Street..."/>
		                		<field name="street2"/>
		                		<field name="city" placeholder="City"/>
		                		<field name="country_id" placeholder="Country" options="{'create': false, 'create_edit': false}"/>
		                		<field name="state_id" placeholder="State" options="{'create': false, 'create_edit': false}"/>
		                		<field name="zip" placeholder="ZIP"/> 
	                		</group>
	                		
	                	</group>
                    </page>
				</xpath>-->
				
				<xpath expr="//page[@string='Accounting']" position="after">
					<page string="Inventory">
                            <field name="inventory_line" >
                                <tree string="Inventory">
                                    <field name="warehouse_id" options="{'create': false, 'create_edit': false}"/>
                                    <field name="prodlot_id"  options="{'create': false, 'create_edit': false}"/>
                                    <field name="hand_quantity"/>
                                    <field name="uom_id" options="{'create': false, 'create_edit': false}"/>
                                </tree>
                            </field>
                    </page>
				</xpath>
				
				<xpath expr="//field[@name='uom_id']" position="before">
					<field name="tpt_product_type" attrs="{'invisible': [('cate_name','!=','finish')]}"/>
					<field name="tpt_mater_type" attrs="{'invisible': [('cate_name','=','finish')]}"/>
					<field name="tolerance_qty"/><!-- TPT -->
				</xpath>
				
				<xpath expr="//field[@name='default_code']" position="after">
                    <field name="old_no" attrs="{'invisible': [('cate_name','=','finish')]}"/>
                    <field name="bin_location"/>
				</xpath>
				
				<xpath expr="//page[@string='Procurements']" position="attributes">
					<attribute name='groups'>green_erp_arulmani_purchase.group_vvti_purchase_user,green_erp_arulmani_purchase.group_vvti_purchase_gm</attribute>
				</xpath>
				
				<xpath expr="//field[@name='list_price']" position="attributes">
					<attribute name='attrs'>{'invisible': [('purchase_ok','=',True),('sale_ok','=',False)]}</attribute>
				</xpath>
				
			</field>
		</record>
		
		<record id="view_tpt_gate_in_pass_tree" model="ir.ui.view">
			<field name="name">tpt.gate.in.pass.tree</field>
			<field name="model">tpt.gate.in.pass</field>
			<field name="arch" type="xml">
				<tree string="Gate In Pass">
					<field name="name"/>
					<field name="po_id"/>
					<field name="po_date"/>
					<field name="supplier_id"/>
					<field name="gate_date_time"/>
					<field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_gate_in_pass_form" model="ir.ui.view">
            <field name="name">tpt.gate.in.pass.form</field>
            <field name="model">tpt.gate.in.pass</field>
            <field name="arch" type="xml">
	            <form string="Gate In Pass" version="7.0">   
	            	<header>
			            	<button name="bt_approve" states='draft' string="Approve" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_user"/>
		                    <button name="bt_cancel" states='draft' string="Cancel" type="object" class="oe_highlight" />
		                    <field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
			        </header>
	            	<sheet>
		                <group > 
			                <field name="po_id" context="{'search_po_id':True}" domain="[('state','=','approved')]" on_change = "onchange_po_id(po_id)" options="{'create': false, 'create_edit': false}"/>
			                <field name="po_date"/>
			                <field name="supplier_id" domain="[('supplier','=',1)]" options="{'create': false, 'create_edit': false}"/>
							<field name="name"/>
							<field name="truck_no"/>
							<field name="invoice_no"/>
							<field name="requestioner_id" options="{'create': false, 'create_edit': false}" />
							<field name="gate_date_time"/>
						</group>
						<notebook>
							<page string="Product details">
								<field name="gate_in_pass_line" nolabel='1'>
									<tree editable='top'>
										<field name="po_indent_no" context="{'search_po_indent_no_gate_in_pass':True, 'po_id':parent.po_id}" options="{'create': false, 'create_edit': false}"/>
										<field name="product_id" context="{'search_rfq_product':True, 'po_indent_id':po_indent_no }" on_change="onchange_product_id(product_id)" options="{'create': false, 'create_edit': false}"/>
										<field name="description" readonly='1' />
										<field name="uom_po_id" readonly='1' options="{'create': false, 'create_edit': false}" />
										<field name="product_qty"/>
										
									</tree>
								</field>
							</page>
						</notebook>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="action_view_tpt_gate_in_pass_tree" model="ir.actions.act_window">
            <field name="name">Gate In Pass</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.gate.in.pass</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_gate_in_pass_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_gate_in_pass_tree"
            id="menu_action_view_tpt_gate_in_pass_tree"
            parent="purchase.menu_procurement_management" sequence="20"
            groups="green_erp_arulmani_purchase.group_vvti_purchase_user,green_erp_arulmani_purchase.group_vvti_purchase_store_user"/>


    <record id="view_tpt_purchase_quotation_tree" model="ir.ui.view">
			<field name="name">tpt.purchase.quotation.tree</field>
			<field name="model">tpt.purchase.quotation</field>
			<field name="arch" type="xml">
				<tree string="Purchase Quotation">
						<field name="name" />
						<field name="date_quotation" />
						<field name="rfq_no_id" />
						<field name="supplier_id" />
						<field name="supplier_name_id" />
						<field name="supplier_location_id" />
						<field name="quotation_cate" />
						<field name="quotation_ref" />
						<field name="state" />
				</tree>
			</field>
	</record>
		

		<record id="view_tpt_purchase_quotation_form" model="ir.ui.view">
            <field name="name">tpt.purchase.quotation.form</field>
            <field name="model">tpt.purchase.quotation</field>
            <field name="arch" type="xml">
	            <form string="Purchase Quotation" version="7.0">
	            <header>
	            		<button name = "bt_tick_mark" attrs="{'invisible': ['|',('quotation_cate','=','multiple'),('state','!=','draft')]}" icon = "STOCK_APPLY" string="Approve" type="object" />
						<button name = "bt_cross_mark" confirm = "Do you want to cancel the Quotation ?" icon = "STOCK_CANCEL" states = "draft" string="Cancel" type="object" /> 
	                    
	                    <button name = "bt_copy_quote" states='done' string="Copy Quotation" type="object" />
	                    <field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
	           	
	            </header>    
	            	<sheet>
                   	 <group col="4" colspan="2" >
                   	 	<field name="name" />
						<field name="date_quotation" />
						<field name="rfq_no_id" domain="[('state','=','done')]" on_change = "onchange_rfq_no_id(rfq_no_id)" options="{'create': false, 'create_edit': false}" />
						<field name="supplier_id" domain="[('supplier','=',1)]" options="{'create': false, 'create_edit': false}" on_change = "onchange_supplier_location(supplier_id)" context="{'search_supplier_code':1,'rfq_no_id':rfq_no_id}"/>
						<field name="supplier_name_id"/>
						<field name="supplier_location_id" options="{'create': false, 'create_edit': false}"  />
						<field name="quotation_cate" readonly = "1" />
						<field name="quotation_ref" />
                    </group >
						<notebook>
							<page string = "Quotation Lines">
								<field name="purchase_quotation_line" nolabel='1'>
									<tree editable='top' create = 'false'>
										<field name="line_no" />
										<field name="po_indent_id" on_change = "onchange_po_indent_id(po_indent_id)" options="{'create': false, 'create_edit': false}" />
										<field name="product_id" context="{'search_product':True, 'po_indent_id':po_indent_id }" on_change = "onchange_quotation_product_id(product_id, po_indent_id)" options="{'create': false, 'create_edit': false}" />
										<field name="description" />
										<field name="item_text" />
										<field name="product_uom_qty" />
										<field name="uom_id" edit='false' options="{'create': false, 'create_edit': false}"/>
										<field name="price_unit" />
										<field name="disc" /> 
										<field name="p_f" /> 
										<field name="p_f_type" /> 
										<field name="e_d" /> 
										<field name="e_d_type" /> 
										<field name="tax_id" domain="[('type_tax_use','=','purchase')]" options="{'create': false, 'create_edit': false}" /> 
										<field name="order_charge" /> 
										<field name="fright" />  
										<field name="fright_type" />
										<field name="line_net" />  
									</tree>
								</field>
							</page>
						</notebook>
						<group col="4" colspan="2" >
	                   	 	<field name="for_basis" />
							<field name="schedule" />
							<newline/>
							<field name="payment_term_id" options="{'create': false, 'create_edit': false}" />
							<!-- TPT START  -->
							<field name="freight_term" />
							<field name="mode_dis" />
							<!-- TPT END -->
							<field name="amount_line" />
							<field name="amount_basic" />
							<field name="amount_p_f" />
							<field name="amount_ed" />
							<field name="amount_total_tax" />
							<field name="amount_fright" />
							<field name="amount_gross" />
							<field name="amount_net" />
							<field name="amount_unit_net" />
                    </group >
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_purchase_quotation_form" model="ir.actions.act_window">
            <field name="name">Quotations</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.purchase.quotation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_supplier_code':1}</field>
            <field name="view_id" ref="view_tpt_purchase_quotation_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_purchase_quotation_form" id="purchase.menu_purchase_rfq"
            parent="purchase.menu_procurement_management"
            sequence="0"/>
            
		<record id="view_tpt_good_return_request_tree" model="ir.ui.view">
			<field name="name">tpt.good.return.request.tree</field>
			<field name="model">tpt.good.return.request</field>
			<field name="arch" type="xml">
				<tree string="Goods Return Request">
					<field name="grn_no_id"/>
					<field name="request_date"/>
					<field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"draft":"blue"}'/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_good_return_request_form" model="ir.ui.view">
            <field name="name">tpt.good.return.request.form</field>
            <field name="model">tpt.good.return.request</field>
            <field name="arch" type="xml">
	            <form string="Goods Return Request" version="7.0">   
	            <header>
	                    <button name="bt_approve" states='draft' string="Approve Request" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_hrm_plant_mm_user"/>
	                    <button name="bt_cancel" states='draft' string="Cancel Request" type="object" class="oe_highlight" />
	                    <field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue"}'/>
	            </header>
	            	<sheet>
		                <group > 
			                <field name="grn_no_id" on_change = "onchange_grn_no_id(grn_no_id)" context="{'search_grn_no_id':True}" domain="[('type','=','in')]" options="{'create': false, 'create_edit': false}"/>
							<field name="request_date"/>
						</group>
						<notebook>
							<page string="Product Details">
								<field name="product_detail_line" nolabel='1'>
									<tree editable='top'>
										<field name="product_id" options="{'create': false, 'create_edit': false}"/>
										<field name="product_qty"/>
										<field name="uom_po_id" options="{'create': false, 'create_edit': false}"/>
										<field name="state"/>
										<field name="reason"/>
									</tree>
								</field>
							</page>
						</notebook>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="action_view_tpt_good_return_request" model="ir.actions.act_window">
            <field name="name">Goods Return Request</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.good.return.request</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_good_return_request_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_good_return_request"
            id="menu_action_view_tpt_good_return_request"
            parent="purchase.menu_procurement_management" sequence="30"/>
       
		<record id="view_tpt_purchase_chart_tree" model="ir.ui.view">
			<field name="name">tpt.comparison.chart.tree</field>
			<field name="model">tpt.comparison.chart</field>
			<field name="arch" type="xml">
				<tree string="Comparison Chart" >
						<field name="name"/>
						<field name="date" />
						<field name="quotation_cate" />
						<field name="create_uid" />
				</tree>
			</field>
		</record>


		<record id="view_tpt_purchase_chart_form" model="ir.ui.view">
            <field name="name">tpt.comparison.chart.form</field>
            <field name="model">tpt.comparison.chart</field>
            <field name="arch" type="xml">
	            <form string="Comparison Chart" version="7.0" >
	            <header>
	            		<button name="bt_print" string="View/Print Comparison Chart" type="object" class="oe_highlight" />
	            		<button name="bt_load" string="Load Comparison Chart" type="object" class="oe_highlight" />
	            </header>    
	            	<sheet>
	                   	 <group col="4" colspan="2" >
	                   	 	<field name="name" on_change="onchange_request_quotation(name)" options="{'create': false, 'create_edit': false}" context="{'search_rfq_id':True}" />
							<field name="date" />
							<field name="quotation_cate" />
							<field name="create_uid" />
	                    </group >
	                    <notebook>
						<page>
							<div col='4' colspan='4' class="oe_green_erp_scroll">
							<field name="comparison_chart_line" nolabel='1'>
								<tree string="Comparison Chart" editable='top' create='false' delete='false'>
									<field name="select" readonly = '0'  />
									<field name="name"  readonly = '1'/>
									<field name="date_quotation" readonly = '1'/>
									<field name="supplier_id" readonly = '1'/>
									<field name="supplier_location_id" readonly = '1'/>
									<field name="amount_basic" readonly = '1'/>
									<field name="amount_p_f" readonly = '1'/>
									<field name="amount_ed" readonly = '1'/>
									<field name="amount_total_tax" readonly = '1'/>
									<field name="amount_fright" readonly = '1'/>
									<field name="amount_gross" readonly = '1'/>
									<field name="amount_net" readonly = '1'/>
									<field name="payment_term_id" readonly = '1'/>
									<field name="schedule" readonly = '1'/>
									<field name="state" invisible="1" />
									<button name = "bt_tick_mark" icon = "STOCK_APPLY" states = "draft" string="Tick" type="object" />
									<button name = "bt_cross_mark" confirm = "Do you want to cancel the Quotation ?" icon = "STOCK_CANCEL" states = "draft" string="Cross" type="object" /> 
								</tree>
								<form string="Purchase Quotation" version="7.0" create='false' edit='false'>
						            <header>
						                    <field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
						            </header>    
					            	<sheet>
					                   	 <group col="4" colspan="2" >
					                   	 	<field name="name" />
											<field name="date_quotation" />
											<field name="rfq_no_id" on_change = "onchange_rfq_no_id(rfq_no_id)" options="{'create': false, 'create_edit': false}" />
											<field name="supplier_id" domain="[('supplier','=',1)]" options="{'create': false, 'create_edit': false}" on_change = "onchange_supplier_location(supplier_id)" context="{'search_supplier_code':1,'rfq_no_id':rfq_no_id}"/>
											<field name="supplier_name_id"/>
											<field name="supplier_location_id" options="{'create': false, 'create_edit': false}"  />
											<field name="quotation_cate" />
											<field name="quotation_ref" />
					                    </group >
											<notebook>
												<page string = "Quotation Lines">
													<field name="purchase_quotation_line" nolabel='1'>
														<tree editable='top' create = 'false'>
															<field name="po_indent_id" on_change = "onchange_po_indent_id(po_indent_id)" options="{'create': false, 'create_edit': false}" />
															<field name="product_id" context="{'search_product':True, 'po_indent_id':po_indent_id }" on_change = "onchange_quotation_product_id(product_id, po_indent_id)" options="{'create': false, 'create_edit': false}" />
															<field name="product_uom_qty" />
															<field name="uom_id" edit='false' options="{'create': false, 'create_edit': false}"/>
															<field name="price_unit" />
															<field name="disc" /> 
															<field name="p_f" /> 
															<field name="p_f_type" /> 
															<field name="e_d" /> 
															<field name="e_d_type" /> 
															<field name="tax_id" options="{'create': false, 'create_edit': false}" /> 
															<field name="fright" />  
															<field name="fright_type" />
															<field name="line_net" />  
														</tree>
													</field>
												</page>
											</notebook>
											<group col="4" colspan="2" >
						                   	 	<field name="for_basis" />
												<field name="schedule" />
												<field name="amount_line" />
												<field name="amount_basic" />
												<field name="amount_p_f" />
												<field name="amount_ed" />
												<field name="amount_total_tax" />
												<field name="amount_fright" />
												<field name="amount_gross" />
												<field name="amount_net" />
												<field name="amount_unit_net" />
					                    </group >
						         	</sheet>
						         </form>
							</field>
							</div>
						</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_purchase_chart_form" model="ir.actions.act_window">
            <field name="name">Comparison Chart</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.comparison.chart</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_purchase_chart_form"/>
        </record>
        <record id="action_view_tpt_purchase_chart_form1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tpt_purchase_chart_tree"/>
            <field name="act_window_id" ref="action_view_tpt_purchase_chart_form"/>
        </record>
        <record id="action_view_tpt_purchase_chart_form2" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tpt_purchase_chart_form"/>
            <field name="act_window_id" ref="action_view_tpt_purchase_chart_form"/>
        </record>
        <menuitem action="action_view_tpt_purchase_chart_form"
            id="menu_action_view_tpt_purchase_chart_form"
            parent="purchase.menu_procurement_management" sequence="27"/>           

            
	  	<record id="view_tpt_quanlity_inspection_tree" model="ir.ui.view">
			<field name="name">tpt.quanlity.inspection.tree</field>
			<field name="model">tpt.quanlity.inspection</field>
			<field name="arch" type="xml">
				<tree string="Quanlity Inspection List">
						<field name="name"/>
						<field name="date" string = "GRN Date"/>
						<field name="supplier_id"/>
						<field name="product_id"/>
						<field name="qty"  />
						<field name="state"/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_quanlity_inspection_form" model="ir.ui.view">
            <field name="name">tpt.quanlity.inspection.form</field>
            <field name="model">tpt.quanlity.inspection</field>
            <field name="arch" type="xml">
	            <form string="Quanlity Inspection Result" version="7.0">   
	             <header>
	            		<!--<button name="bt_approve" states='draft' string="Approve" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_hrm_plant_mm_user"/>
	                    <button name="bt_reject" states='draft' string="Reject" type="object" class="oe_highlight" />-->
	                    <button name="%(action_approve_reject_quanlity_inspection)d" states='draft,remaining' string="Approve" type="action" class="oe_highlight" context="{'default_type':'approve'}"/>
	                    <button name="%(action_approve_reject_quanlity_inspection)d" states='draft,remaining' string="Reject" type="action" class="oe_highlight" context="{'default_type':'reject'}"/>
	                    <field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
	            </header>    
	            	<sheet>
	            	<group col="4" colspan="2">
						<field name="name" options="{'create': false, 'create_edit': false}" />
						<field name="date" />
						<field name="supplier_id" domain="[('supplier','=',1)]" options="{'create': false, 'create_edit': false}" />
						<field name="product_id" options="{'create': false, 'create_edit': false}"  />
						<field name="reason"/>
						<field name="qty" invisible = "1" />
						<field name="remaining_qty"/>
					</group>
						<notebook>
							<page string = "Products Specification">
								<field name="specification_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="name" />
										<field name="value" />
										<field name="exp_value" />
									</tree>
								</field>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_quanlity_inspection_form" model="ir.actions.act_window">
            <field name="name">Quality Inspection</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.quanlity.inspection</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_quanlity_inspection_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_quanlity_inspection_form"
            id="menu_action_view_tpt_quanlity_inspection_form"
            parent="purchase.menu_procurement_management" sequence="29"/> 
            
        <record id="view_tpt_gate_out_pass_tree" model="ir.ui.view">
			<field name="name">tpt.gate.out.pass.tree</field>
			<field name="model">tpt.gate.out.pass</field>
			<field name="arch" type="xml">
				<tree string="Gate Out Pass">
					<field name="name"/>
                	<field name="grn_id"/>
                	<field name="gate_date_time"/>
	                <field name="po_id"/>
	                <field name="supplier_id"/>
				</tree>
			</field>
		</record>
		
        <record id="view_tpt_gate_out_pass_form" model="ir.ui.view">
            <field name="name">tpt.gate.out.pass.form</field>
            <field name="model">tpt.gate.out.pass</field>
            <field name="arch" type="xml">
	            <form string="Gate Out Pass" version="7.0">   
	            	<header>
			            	<button name="bt_approve" states='draft' string="Approve" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_user,green_erp_arulmani_purchase.group_vvti_purchase_gm"/>
		                    <button name="bt_cancel" string="Cancel" type="object" class="oe_highlight" />
		                    <field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
		            </header>
	            	<sheet>
		                <group > 
		                	<field name="name"/>
		                	<field name="grn_id" context="{'search_default_grn_by_return_req':1}" on_change="onchange_grn_id(grn_id)" options="{'create': false, 'create_edit': false}"/>
		                	<field name="gate_date_time"/>
			                <field name="po_id" options="{'create': false, 'create_edit': false}"/>
			                <field name="supplier_id" domain="[('supplier','=',1)]" options="{'create': false, 'create_edit': false}"/>
						</group>
						<notebook>
							<page string="Product details">
								<field name="gate_out_pass_line" nolabel='1'>
									<tree editable='top'>
										<field name="product_id" options="{'create': false, 'create_edit': false}"/>
										<field name="product_qty"/>
										<field name="uom_po_id" options="{'create': false, 'create_edit': false}"/>
										<field name="reason"/>
									</tree>
								</field>
							</page>
						</notebook>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="action_view_tpt_gate_out_pass_tree" model="ir.actions.act_window">
            <field name="name">Gate Out Pass</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.gate.out.pass</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_gate_out_pass_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_gate_out_pass_tree"
            id="menu_action_view_tpt_gate_out_pass_tree"
            parent="purchase.menu_procurement_management" sequence="32"/>
		
		<record id="purchase.purchase_form_action" model="ir.actions.act_window">
            <field name="name">Purchase Orders</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">purchase.order</field>
            <field name="view_mode">tree,form,graph,calendar</field>
            <field name="context">{}</field>
            <field name="domain">[]</field>
            <field name="search_view_id" ref="purchase.view_purchase_order_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a quotation that will be converted into a purchase order. 
              </p><p>
                Use this menu to search within your purchase orders by
                references, supplier, products, etc. For each purchase order,
                you can track the related discussion with the supplier, control
                the products received and control the supplier invoices.
              </p>
            </field>
        </record>

		<record id="view_tpt_pur_organi_code_tree" model="ir.ui.view">
			<field name="name">tpt.pur.organi.code.tree</field>
			<field name="model">tpt.pur.organi.code</field>
			<field name="arch" type="xml">
				<tree string="Purchase Organisation">
					<field name="name"/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_pur_organi_code_form" model="ir.ui.view">
            <field name="name">tpt.pur.organi.code.form</field>
            <field name="model">tpt.pur.organi.code</field>
            <field name="arch" type="xml">
	            <form string="Purchase Organisation" version="7.0">   
	            	<sheet>
	            		<group>
	            			<field name="name"/>
	            		</group>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="action_view_tpt_pur_organi_code_form" model="ir.actions.act_window">
            <field name="name">Purchase Organisation</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.pur.organi.code</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_pur_organi_code_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_pur_organi_code_form"
            id="menu_action_view_tpt_pur_organi_code_form"
            parent="purchase.menu_procurement_management" sequence="200"/>
            
		<record id="view_tpt_vendor_group_tree" model="ir.ui.view">
			<field name="name">tpt.vendor.group.tree</field>
			<field name="model">tpt.vendor.group</field>
			<field name="arch" type="xml">
				<tree string="Vendor Group">
					<field name="name"/>
					<field name="code"/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_vendor_group_form" model="ir.ui.view">
            <field name="name">tpt.vendor.group.form</field>
            <field name="model">tpt.vendor.group</field>
            <field name="arch" type="xml">
	            <form string="Vendor Group" version="7.0">   
	            	<sheet>
	            		<group>
	            			<field name="name"/>
	            			<field name="code"/>
	            			<field name="active"/>
	            		</group>
	            		<notebook>
							<page string = "Vendor Sub Group">
								<field name="vendor_sub_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="name"/>
	            						<field name="code"/>
									</tree>
								</field>
							</page>
						</notebook>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="action_view_tpt_vendor_group_form" model="ir.actions.act_window">
            <field name="name">Vendor Group</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.vendor.group</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_vendor_group_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_vendor_group_form"
            id="menu_action_view_tpt_vendor_group_form"
            parent="purchase.menu_procurement_management" sequence="300"
            groups="green_erp_arulmani_purchase.group_vvti_purchase_key_user"/>

		<record id="view_tpt_vendor_sub_group_tree" model="ir.ui.view">
			<field name="name">tpt.vendor.sub.group.tree</field>
			<field name="model">tpt.vendor.sub.group</field>
			<field name="arch" type="xml">
				<tree string="Vendor Sub Group">
					<field name="name"/>
					<field name="code"/>
					<field name="vendor_group_id" options="{'create': false, 'create_edit': false}" />
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_vendor_sub_group_form" model="ir.ui.view">
            <field name="name">tpt.vendor.sub.group.form</field>
            <field name="model">tpt.vendor.sub.group</field>
            <field name="arch" type="xml">
	            <form string="Vendor Sub Group" version="7.0">   
	            	<sheet>
	            		<group>
	            			<field name="name"/>
	            			<field name="code"/>
	            			<field name="vendor_group_id" options="{'create': false, 'create_edit': false}" />
	            		</group>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="action_view_tpt_vendor_sub_group_form" model="ir.actions.act_window">
            <field name="name">Vendor Sub Group</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.vendor.sub.group</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_vendor_sub_group_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_vendor_sub_group_form"
            id="menu_action_view_tpt_vendor_sub_group_form"
            parent="purchase.menu_procurement_management" sequence="400"
            groups="green_erp_arulmani_purchase.group_vvti_purchase_key_user"/>
            
        <record id="view_tpt_quality_parameters_tree" model="ir.ui.view">
			<field name="name">tpt.quality.parameters.tree</field>
			<field name="model">tpt.quality.parameters</field>
			<field name="arch" type="xml">
				<tree string="Quality Parameters">
					<field name="name"/>
					<field name="code"/>
					<field name="description"/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_quality_parameters_form" model="ir.ui.view">
            <field name="name">tpt.quality.parameters.form</field>
            <field name="model">tpt.quality.parameters</field>
            <field name="arch" type="xml">
	            <form string="Quality Parameters" version="7.0">   
	            	<sheet>
	            		<group>
	            			<field name="name"/>
	            			<field name="code"/>
	            			<field name="description" />
	            		</group>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="action_view_tpt_quality_parameters_form" model="ir.actions.act_window">
            <field name="name">Quality Parameters</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.quality.parameters</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_quality_parameters_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_quality_parameters_form"
            id="menu_action_view_tpt_quality_parameters_form"
            parent="purchase.menu_procurement_management" sequence="500"/>
        
        <record id="view_tpt_request_for_quotation_tree" model="ir.ui.view">
			<field name="name">tpt.request.for.quotation.tree</field>
			<field name="model">tpt.request.for.quotation</field>
			<field name="arch" type="xml">
				<tree string="Request For Quotation">
					<field name="name"/>
					<field name="rfq_date"/>
					<field name="rfq_category"/>
					<field name="create_on"/>
					<field name="expect_quote_date"/>
					<field name="create_uid" />
					<field name="state" widget="statusbar" statusbar_visible="draft,cancel,done,close" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_request_for_quotation_form" model="ir.ui.view">
            <field name="name">tpt.request.for.quotation.form</field>
            <field name="model">tpt.request.for.quotation</field>
            <field name="arch" type="xml">
	            <form string="Request For Quotation" version="7.0"> 
	            <header>
	            		<button name="bt_approve" states='draft' string="Confirm" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_user"/>
	                    <button name="bt_cancel" states='draft,done' string="Cancel" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_user"/>
	                    <field name="state" widget="statusbar" statusbar_visible="draft,cancel,done,close" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
	            </header>   
	            	<sheet>
	            		<group col="4" colspan="2">
	            			<field name="name"/>
							<field name="rfq_date"/>
							<field name="rfq_category"/>
							<field name="create_on"/>
							<field name="expect_quote_date"/>
							<field name="create_uid" options="{'create': false, 'create_edit': false}" />
							<field name="po_document_type"/>
	            		</group>
	            		<notebook>
							<page string = "RFQ Line">
							<field name="rfq_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="po_indent_id" attrs="{'readonly': [('state','not in',('draft'))]}" context="{'search_po_indent_line':True, 'po_document_type':parent.po_document_type}"   on_change = "onchange_rfq_indent_id(po_indent_id)" options="{'create': false, 'create_edit': false}"/>
										<field name="product_id" attrs="{'readonly': [('state','not in',('draft'))]}" context="{'search_rfq_product':True, 'po_indent_id':po_indent_id }"  options="{'create': false, 'create_edit': false}" invisible = '1' required = '0'/>
										<field name="indent_line_id" attrs="{'readonly': [('state','not in',('draft'))]}" domain="[('pur_product_id','=',po_indent_id)]" on_change = "onchange_rfq_indent_line_id(indent_line_id, po_indent_id)" options="{'create': false, 'create_edit': false}"/>
										<field name="description" attrs="{'readonly': [('state','not in',('draft'))]}"/>
										<field name="item_text" attrs="{'readonly': [('state','not in',('draft', 'done'))]}"/>
										<field name="recom_vendor" attrs="{'readonly': [('state','not in',('draft'))]}"/>
										<field name="product_uom_qty" attrs="{'readonly': [('state','not in',('draft'))]}"/>
										<field name="uom_id" attrs="{'readonly': [('state','not in',('draft'))]}" options="{'create': false, 'create_edit': false}"/>
										<field name="state" invisible = '1'/>
									</tree>
								</field>
							</page>
						</notebook>
						<notebook>
							<page string = "Suppliers">
							<field name="rfq_supplier" nolabel='1'>
									<tree editable='bottom'>
										<field name="vendor_id" domain="[('supplier','=',1)]" on_change = "onchange_rfq_vendor_id(vendor_id)" options="{'create': false, 'create_edit': false}"/>
										<field name="state_id" options="{'create': false, 'create_edit': false}"/>
										<field name="quotation_no_id" options="{'create': false, 'create_edit': false}"/>
										<button name = "bt_print" icon = "gtk-print" string="Print" type="object" />
									</tree>
								</field>
							</page>
						</notebook>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="view_tpt_request_for_quotation_seach_view" model="ir.ui.view">
			<field name="name">tpt.request.for.quotation.seach</field>
			<field name="model">tpt.request.for.quotation</field>
			<field name="arch" type="xml">
				<search string="Request For Quotation">
					<field name="name"/>
        			<filter string="RFQ Available" name="rfq_available" icon="terp-personal" domain="[('raised_ok','=',False), ('state','!=','cancel')]" context="{}"/>
        			<filter string="RFQ Used" name="rfq_used" icon="terp-personal" domain="[('raised_ok','=',True), ('state','!=','cancel')]" context="{}"/>
        			<separator />
        			<filter string="Draft" name="draft" icon="terp-personal" domain="[('state','=','draft')]" context="{}"/>
        			<filter string="Cancel" name="cancel" icon="terp-personal" domain="[('state','=','cancel')]" context="{}"/>
        			<filter string="Confirm" name="done" icon="terp-personal" domain="[('state','=','done')]" context="{}"/>
        			<filter string="Closed" name="close" icon="terp-personal" domain="[('state','=','close')]" context="{}"/>
        			<group expand="0" string="Group By...">
        				<filter string="Available/Used RFQ" icon="terp-accessories-archiver" domain="[]" context="{'group_by':'raised_ok'}"/>
        				<filter string="Status" icon="terp-accessories-archiver" domain="[]" context="{'group_by':'state'}"/>
                    </group>
				</search>
			</field>
		</record>
		
		<record id="action_view_tpt_request_for_quotation_form" model="ir.actions.act_window">
            <field name="name">Request For Quotation</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.request.for.quotation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_rfq_available':1, 'search_default_draft':1, 'search_default_done':1}</field>
            <field name="search_view_id" ref="view_tpt_request_for_quotation_seach_view"/>
            <field name="view_id" ref="view_tpt_request_for_quotation_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_request_for_quotation_form"
            id="menu_action_view_tpt_request_for_quotation_form"
            parent="purchase.menu_procurement_management" sequence="550"/>
		
		<record id="vsis_view_partner_form_inherit_tree" model="ir.ui.view">
            <field name="name">res.partner.view.tree.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_tree"/>
            <field name="field_parent">child_ids</field>
            <field name="arch" type="xml">
            	<field name="name" position="before">
            		
            		<field name="vendor_code" string="Code"/>     
                    
                                 	
                </field>
                                   
            </field>
        </record>	
        
        <record id="tpt_view_partner_form" model="ir.ui.view">
            <field name="name">tpt.partner.view.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <data>
                	<xpath expr="//field[@name='phone']" position="before">
                		<!-- 
                        <field name="contact_per" placeholder="Contact Person " attrs="{'invisible': [('supplier','=',False)]}" />
                        -->
                        <field name="contact_per" placeholder="Contact Person " />
                    </xpath>
                    <xpath expr="//field[@name='website']" position="before">
                        <field name="vendor_tag" placeholder="Tag ... " attrs="{'invisible': [('supplier','=',False)]}" />
                    	<field name="vendor_group_id" on_change="onchange_vendor_group_id(vendor_group_id)" options="{'create': false, 'create_edit': false}" attrs="{'invisible': [('supplier','=',False)],'required':[('supplier','!=',False)]}" />
                    	<field name="pur_orgin_code_id" options="{'create': false, 'create_edit': false}" attrs="{'invisible': [('supplier','=',False)]}" />
                    </xpath>
                    
                    <xpath expr="//field[@name='title']" position="replace">
                    </xpath>
                    
                    <xpath expr="//field[@name='name']" position="before">
                        <field name="vendor_code"  placeholder="Vendor Code" attrs="{'invisible': [('supplier','=',False)],'required':[('supplier','!=',False)]}" />
                    	<field name="title" placeholder="Title" domain="[('domain', '=', 'contact')]" options="{&quot;no_open&quot;: True,'create': false, 'create_edit': false}"/>
                    </xpath>
                    
                     <xpath expr="//field[@name='email']" position="after">
                        <field name="vendor_sub_group_id"  domain="[('vendor_group_id','=',vendor_group_id)]" attrs="{'invisible': [('supplier','=',False)],'required':[('supplier','!=',False)]}" options="{'create': false, 'create_edit': false}" />
                    </xpath>
                </data>
            </field>
        </record>

   	 	<menuitem id="base.menu_procurement_management_supplier_name" name="Vendor"
	        parent="purchase.menu_procurement_management"
	        action="base.action_partner_supplier_form" sequence="15"
	        groups="green_erp_arulmani_purchase.group_vvti_purchase_user,green_erp_arulmani_purchase.group_vvti_purchase_gm"/>
	        
     	<menuitem action="stock.action_picking_tree4" id="purchase.menu_action_picking_tree4" parent="purchase.menu_procurement_management_inventory"
            name="GRN" sequence="9"/> 
        
	   	<record id="view_tpt_material_request_tree" model="ir.ui.view">
			<field name="name">tpt.material.request.tree</field>
			<field name="model">tpt.material.request</field>
			<field name="arch" type="xml">
				<tree string="Material Request">
						<field name="name"/>
						<field name="date_request"/>
						<field name="date_expec"/>
						<field name="department_id"  />
						<field name="section_id"  />
						<field name="requisitioner"  />
						<field name="project_id"  />
						<field name="project_section_id"  />
						<field name="create_uid" options="{'create': false, 'create_edit': false}" />
						<field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"draft":"blue"}'/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_material_request_form" model="ir.ui.view">
            <field name="name">tpt.material.request.form</field>
            <field name="model">tpt.material.request</field>
            <field name="arch" type="xml">
	            <form string="Material Request" version="7.0">   
	             <header>
	            		<button name="bt_approve" states='draft' string="Confirm" type="object" class="oe_highlight" />
	                    <field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"draft":"blue"}'/>
	            </header>    
	            	<sheet>
		                <group col="4" colspan="2" >    
							<field name="name"/>
							<field name="date_request" on_change="onchange_date_expect(date_request)" />
							<field name="request_type" on_change="onchange_request_type(request_type)"/>
							<field name="department_id" required='1' options="{'create': false, 'create_edit': false}" />
							<field name="section_id" required='1' domain="[('department_id','=',department_id)]" options="{'create': false, 'create_edit': false}" />
							<field name="requisitioner" options="{'create': false, 'create_edit': false}" domain="[('department_id','=',department_id)]"  />
							<field name="create_uid" options="{'create': false, 'create_edit': false}"  />
							<field name="date_expec"/>
							<field name="project_id" options="{'create': false, 'create_edit': false}"/>
							<field name="project_section_id" domain="[('project_id','=',project_id)]" options="{'create': false, 'create_edit': false}"/>
						</group>
						<notebook>
							<page string = "Materials">
								<field name="material_request_line" nolabel='1' context="{'default_request_type':request_type}">
									<tree editable='bottom'>
										<field name="product_id" domain="['|',('default_code','in',['FERROUS SULPHATE','FSH','M0501010002']),('categ_id.cate_name','in',['raw','spares'])]" on_change="onchange_product_id(product_id)" options="{'create': false, 'create_edit': false}"/>
										<field name="dec_material"/>
										<field name="prodlot_id" domain="[('product_id','=',product_id),('name','in',['DRIER','AGRI','WET'])]" options="{'create': false, 'create_edit': false}"/>
										<field name="product_uom_qty" />
										<field name="on_hand_qty" />
										<field name="uom_po_id" edit='false' options="{'create': false, 'create_edit': false}"/>
										<field name="request_type" invisible='1'/>
									</tree>
								</field>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_material_request_form" model="ir.actions.act_window">
            <field name="name">Material Request</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.material.request</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_material_request_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_material_request_form"
            id="menu_action_view_tpt_material_request_form"
            parent="purchase.menu_procurement_management" sequence="20"/>


        <!-- Category Action for Sale/Purchase -->
        <record id="product.product_category_action_form" model="ir.actions.act_window">
            <field name="name">Product Categories</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.category</field>
            <field name="domain">[('tpt_type','=','sale')]</field>
            <field name="view_type">form</field>
            <field name="context">{'default_tpt_type':'sale'}</field>
            <field name="search_view_id" ref="product.product_category_search_view"/>
            <field name="view_id" ref="product.product_category_list_view"/>
        </record>
        
        <record id="tpt_purchase_product_category_action_form" model="ir.actions.act_window">
            <field name="name">Material Categories</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.category</field>
            <field name="domain">[('tpt_type','=','purchase')]</field>
            <field name="view_type">form</field>
            <field name="context">{'default_tpt_type':'purchase'}</field>
            <field name="search_view_id" ref="product.product_category_search_view"/>
            <field name="view_id" ref="product.product_category_list_view"/>
        </record>

	   	<record id="view_tpt_material_issue_tree" model="ir.ui.view">
			<field name="name">tpt.material.issue.tree</field>
			<field name="model">tpt.material.issue</field>
			<field name="arch" type="xml">
				<tree string="Material Issue">
						<field name="doc_no"/>
						<field name="name"/>
						<field name="date_request"/>
						<field name="date_expec"/>
						<field name="department_id"  />
						<field name="request_type"  />
						<field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"draft":"blue"}'/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_material_issue_form" model="ir.ui.view">
            <field name="name">tpt.material.issue.form</field>
            <field name="model">tpt.material.issue</field>
            <field name="arch" type="xml">
	            <form string="Material Issue" version="7.0">   
	             <header>
	            		<button name="bt_approve" states='draft' string="Issue Goods" type="object" class="oe_highlight" groups="green_erp_arulmani_purchase.group_vvti_purchase_admin,green_erp_arulmani_purchase.group_vvti_purchase_store_user"/>
	                    <field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"draft":"blue"}'/>
	            </header>    
	            	<sheet>
		                <group col="4" colspan="2" >    
							<field name="doc_no"/>
							<field name="name" domain="[('state','=','done')]" on_change="onchange_material(name)" options="{'create': false, 'create_edit': false}" />
							<field name="date_request" on_change="onchange_date_expect(date_request)" />
							<field name="date_expec"/>
							<field name="request_type" />
							<field name="department_id" options="{'create': false, 'create_edit': false}" />
						</group>
						<notebook>
							<page string = "Materials">
								<field name="material_issue_line"  nolabel='1'>
									<tree editable='bottom' create='false' >
										<field name="product_id" widget = "selection"  options="{'create': false, 'create_edit': false}"/>
										<field name="dec_material" />
										<field name="product_uom_qty" />
										<field name="uom_po_id" edit='false' options="{'create': false, 'create_edit': false}"/>
										<field name="product_isu_qty" />
									</tree>
								</field>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_material_issue_form" model="ir.actions.act_window">
            <field name="name">Material Issue</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.material.issue</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_material_issue_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_material_issue_form"
            id="menu_action_view_tpt_material_issue_form"
            parent="purchase.menu_procurement_management" sequence="25"/>
       
        <record id="tpt_warehouse_product_category_action_form" model="ir.actions.act_window">
            <field name="name">Product Categories</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.category</field>
            <field name="view_type">form</field>
            <field name="search_view_id" ref="product.product_category_search_view"/>
            <field name="view_id" ref="product.product_category_list_view"/>
        </record>
        
        <menuitem name = 'GRN' action="stock.action_picking_tree4" id="stock.menu_action_picking_tree4" parent="stock.menu_stock_warehouse_mgmt" sequence="1"/>
        
        <record model="ir.ui.view" id="product_kanban_stock_inher_view">
            <field name="name">Product Kanban Stock</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="stock.product_kanban_stock_view"/>
            <field name="arch" type="xml">
                <ul position="replace"/>
            </field>
        </record>
        
        <record id="product_product_tree_inher_view" model="ir.ui.view">
            <field name="name">product.product.tree</field>
            <field name="model">product.product</field>
            <field eval="7" name="priority"/>
            <field name="inherit_id" ref="product.product_product_tree_view"/>
            <field name="arch" type="xml">
                <tree colors="red:virtual_available&lt;0;blue:virtual_available&gt;=0 and state in ('draft', 'end', 'obsolete');black:virtual_available&gt;=0 and state not in ('draft', 'end', 'obsolete')" string="Products" position="replace">
		            <tree colors="red:virtual_available&lt;0;blue:virtual_available&gt;=0 and state in ('draft', 'end', 'obsolete');black:virtual_available&gt;=0 and state not in ('draft', 'end', 'obsolete')" string="Products">
		                <field name="default_code"/>
		                <field name="name"/>
		                <field name="categ_id" invisible="1"/>
		                <field name="type" invisible="1"/>
		                <field name="variants" groups="product.group_product_variant"/>
		                <field name="onhand_qty"/>
		                <field name="uom_id" string="Unit of Measure" groups="product.group_uom"/>
		                <field name="qty_available" invisible="1"/>		                
		                <field name="virtual_available" invisible="1"/>
		                <field name="lst_price"/>
		                <field name="price" invisible="not context.get('pricelist',False)"/>
		                <field name="standard_price" invisible="1"/>
		                <field name="state" invisible="1"/>
		                
		                <field name="company_id" groups="base.group_multi_company" invisible="1"/>
		            </tree>
                </tree>
            </field>
        </record>
        
    </data>
</openerp>
