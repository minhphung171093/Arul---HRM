<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
	   	<record id="view_tpt_purchase_indent_tree" model="ir.ui.view">
			<field name="name">tpt.purchase.indent.tree</field>
			<field name="model">tpt.purchase.indent</field>
			<field name="arch" type="xml">
				<tree string="Purchase Indent">
						<field name="name"/>
						<field name="date_indent"/>
						<field name="document_type"/>
						<field name="intdent_cate"/>
						<field name="raised_from_id"  />
						<field name="raised_by_id" options="{'create': false, 'create_edit': false}" />
						<field name="date_expect"/>
						<field name="reason"/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_purchase_indent_form" model="ir.ui.view">
            <field name="name">tpt.purchase.indent.form</field>
            <field name="model">tpt.purchase.indent</field>
            <field name="arch" type="xml">
	            <form string="Purchase Indent" version="7.0">   
	            	<sheet>
	            	<group col="1">
		                <group col="4" colspan="2" >    
							<field name="name"/>
							<field name="date_indent" on_change="onchange_date_expect(date_indent)" />
							<field name="document_type" />
							<field name="intdent_cate" />
							<field name="raised_from_id" options="{'create': false, 'create_edit': false}" />
							<field name="raised_by_id" options="{'create': false, 'create_edit': false}"  />
							<field name="date_expect"/>
						</group>
						<group >
							<field name="select_normal" widget = "radio" attrs="{'invisible': [('intdent_cate', '!=', 'normal')],'required':[('intdent_cate','=','normal')]}" />
							<field name="supplier_id" options="{'create': false, 'create_edit': false}" attrs="{'invisible': [('select_normal', '!=', 'special')],'required':[('select_normal','=','special')]}"   />
							<field name="reason" attrs="{'invisible': [('select_normal', '!=', 'special')]}" />
						</group>
						</group>
						<notebook>
							<page string = "Products">
								<field name="purchase_product_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="product_id" widget = "selection" on_change="onchange_indent_product_id(product_id)" options="{'create': false, 'create_edit': false}"/>
										<field name="product_uom_qty" />
										<field name="uom_po_id" edit='false' options="{'create': false, 'create_edit': false}"/>
									</tree>
								</field>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_purchase_indent_form" model="ir.actions.act_window">
            <field name="name">Purchase Indent</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.purchase.indent</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_purchase_indent_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_purchase_indent_form"
            id="menu_action_view_tpt_purchase_indent_form"
            parent="purchase.menu_procurement_management" sequence="13"/>
    </data>
</openerp>
