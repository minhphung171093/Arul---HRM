<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
	   	<record id="view_tpt_purchase_indent_tree" model="ir.ui.view">
			<field name="name">tpt.purchase.indent.tree</field>
			<field name="model">tpt.purchase.indent</field>
			<field name="arch" type="xml">
				<tree string="Purchase Indent">
						<field name="name"/>
						<field name="date_indent"/>
						<field name="document_type"/>
						<field name="intdent_cate"/>
						<field name="raised_from_id"  />
						<field name="raised_by_id" options="{'create': false, 'create_edit': false}" />
						<field name="date_expect"/>
						<field name="reason"/>
						<field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_purchase_indent_form" model="ir.ui.view">
            <field name="name">tpt.purchase.indent.form</field>
            <field name="model">tpt.purchase.indent</field>
            <field name="arch" type="xml">
	            <form string="Purchase Indent" version="7.0">   
	             <header>
	            		<button name="bt_approve" states='draft' string="Approve" type="object" class="oe_highlight" />
	                    <button name="bt_cancel" states='draft' string="Close" type="object" class="oe_highlight" />
	                    <field name="state" widget="statusbar" statusbar_visible="draft,cancel,done" statusbar_colors='{"draft":"blue","cancel":"blue"}'/>
	            </header>    
	            	<sheet>
	            	<group col="1">
		                <group col="4" colspan="2" >    
							<field name="name"/>
							<field name="date_indent" on_change="onchange_date_expect(date_indent)" />
							<field name="document_type" />
							<field name="intdent_cate" />
							<field name="raised_from_id" options="{'create': false, 'create_edit': false}" />
							<field name="raised_by_id" options="{'create': false, 'create_edit': false}"  />
							<field name="date_expect"/>
						</group>
						<group >
							<field name="select_normal" widget = "radio" attrs="{'invisible': [('intdent_cate', '!=', 'normal')],'required':[('intdent_cate','=','normal')]}" />
							<field name="supplier_id" options="{'create': false, 'create_edit': false}" attrs="{'invisible': [('select_normal', '!=', 'special')],'required':[('select_normal','=','special')]}"   />
							<field name="reason" attrs="{'invisible': [('select_normal', '!=', 'special')]}" />
						</group>
						</group>
						<notebook>
							<page string = "Products">
								<field name="purchase_product_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="product_id" widget = "selection"  options="{'create': false, 'create_edit': false}"/>
										<field name="product_uom_qty" />
										<field name="uom_po_id" edit='false' options="{'create': false, 'create_edit': false}"/>
									</tree>
								</field>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_purchase_indent_form" model="ir.actions.act_window">
            <field name="name">Purchase Indent</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.purchase.indent</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_purchase_indent_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_purchase_indent_form"
            id="menu_action_view_tpt_purchase_indent_form"
            parent="purchase.menu_procurement_management" sequence="13"/>
		
		<record id="tpt_supplier_purchase_form" model="ir.ui.view">
            <field name="name">tpt.supplier.purchase.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//field[@name='website']" position="after">
					<field name="supplier_code" />
				</xpath> 
			</field>
		</record>
		
		<record id="tpt_product_category_form" model="ir.ui.view">
            <field name="name">tpt.product.category.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="product.product_category_form_view"/>
            <field name="arch" type="xml">
				<xpath expr="//label[@for='name']" position="replace">
					<label for="name" string = 'Category Code' class="oe_edit_only"/>
				</xpath> 
				<xpath expr="//field[@name='parent_id']" position="after">
					<field name="cate_name"/>
				</xpath> 
				<xpath expr="//field[@name='type']" position="after">
					<field name="description"/>
				</xpath> 
			</field>
		</record>
		
		<record id="tpt_account_properties_product_category_form" model="ir.ui.view">
            <field name="name">tpt.account.properties.product.category.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="account.view_category_property_form"/>
            <field name="arch" type="xml">
				<xpath expr="//field[@name='property_account_income_categ']" position="replace">
					<field name="property_account_income_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_account_expense_categ']" position="replace">
					<field name="property_account_expense_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
			</field>
		</record>
		
		<record id="tpt_account_stock_properties_product_category_form" model="ir.ui.view">
            <field name="name">tpt.account.stock.properties.product.category.form</field>
            <field name="model">product.category</field>
            <field name="inherit_id" ref="stock.view_category_property_form"/>
            <field name="arch" type="xml">
				<xpath expr="//field[@name='property_stock_account_input_categ']" position="replace">
					<field name="property_stock_account_input_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_stock_account_output_categ']" position="replace">
					<field name="property_account_expense_categ" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_stock_valuation_account_id']" position="replace">
					<field name="property_stock_valuation_account_id" domain="[('type','&lt;&gt;','view'), ('type','&lt;&gt;','consolidation')]" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//field[@name='property_stock_journal']" position="replace">
					<field name="property_stock_journal" options="{'create': false, 'create_edit': false}"/>
				</xpath>
			</field>
		</record>   
		
		<record id="tpt_product_form" model="ir.ui.view">
            <field name="name">tpt.product.form</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_normal_form_view"/>
            <field name="arch" type="xml">
				<xpath expr="//label[@for='sale_ok']" position="after">
					<field name="cate_name" invisible='1'/>
					<field name="batch_appli_ok" attrs="{'invisible':[('cate_name','!=','finish')]}"/>
					<label for = "batch_appli_ok" attrs="{'invisible':[('cate_name','!=','finish')]}"/>
				</xpath>
				<xpath expr="//div[@class='oe_title']" position="inside">
					<group>
                          <field name="description"/>
                     </group>
				</xpath>
				<xpath expr="//field[@name='categ_id']" position="replace">
					<field name="categ_id" on_change = "onchange_category_product_id(categ_id)" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//page[@string='Inventory']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
			</field>
		</record>
		
		<record id="view_tpt_gate_in_pass_tree" model="ir.ui.view">
			<field name="name">tpt.gate.in.pass.tree</field>
			<field name="model">tpt.gate.in.pass</field>
			<field name="arch" type="xml">
				<tree string="Gate In Pass">
					<field name="name"/>
					<field name="po_id"/>
					<field name="po_date"/>
					<field name="supplier_id"/>
					<field name="gate_date_time"/>
				</tree>
			</field>
		</record>
		
		<record id="view_tpt_gate_in_pass_form" model="ir.ui.view">
            <field name="name">tpt.gate.in.pass.form</field>
            <field name="model">tpt.gate.in.pass</field>
            <field name="arch" type="xml">
	            <form string="Gate In Pass" version="7.0">   
	            	<sheet>
		                <group > 
			                <field name="po_id" on_change = "onchange_po_id(po_id)" options="{'create': false, 'create_edit': false}"/>
			                <field name="po_date"/>
			                <field name="supplier_id" domain="[('supplier','=',1)]" options="{'create': false, 'create_edit': false}"/>
							<field name="name"/>
							<field name="gate_date_time"/>
						</group>
						<notebook>
							<page string="Product details">
								<field name="gate_in_pass_line" nolabel='1'>
									<tree editable='top'>
										<field name="po_indent_no" options="{'create': false, 'create_edit': false}"/>
										<field name="product_id" on_change="onchange_product_id(product_id)" options="{'create': false, 'create_edit': false}"/>
										<field name="product_qty"/>
										<field name="uom_po_id"/>
									</tree>
								</field>
							</page>
						</notebook>
				    </sheet>
		         </form>
			</field>
		</record>
		
		<record id="action_view_tpt_gate_in_pass_tree" model="ir.actions.act_window">
            <field name="name">Gate In Pass</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.gate.in.pass</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_gate_in_pass_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_gate_in_pass_tree"
            id="menu_action_view_tpt_gate_in_pass_tree"
            parent="purchase.menu_procurement_management" sequence="20"/>


    <record id="view_tpt_purchase_quotation_tree" model="ir.ui.view">
			<field name="name">tpt.purchase.quotation.tree</field>
			<field name="model">tpt.purchase.quotation</field>
			<field name="arch" type="xml">
				<tree string="Purchase Quotation">
						<field name="name" />
						<field name="date_quotation" />
						<field name="supplier_id" />
						<field name="supplier_location_id" />
						<field name="quotation_cate" />
						<field name="quotation_ref" />
						<field name="tax_id" />
				</tree>
			</field>
	</record>
		

		<record id="view_tpt_purchase_quotation_form" model="ir.ui.view">
            <field name="name">tpt.purchase.quotation.form</field>
            <field name="model">tpt.purchase.quotation</field>
            <field name="arch" type="xml">
	            <form string="Purchase Quotation" version="7.0">
	            	<sheet>
                   	 <group col="4" colspan="2" >
                   	 	<field name="name" />
						<field name="date_quotation" />
						<field name="supplier_id" options="{'create': false, 'create_edit': false}" on_change = "onchange_supplier_location(supplier_id)" />
						<field name="supplier_location_id" options="{'create': false, 'create_edit': false}"  />
						<field name="quotation_cate" />
						<newline/>
						<field name="quotation_ref" />
						<field name="tax_id" options="{'create': false, 'create_edit': false}" domain="[('type_tax_use','=','purchase')]" />
                    </group >
						<notebook>
							<page string = "Quotation Lines">
								<field name="purchase_quotation_line" nolabel='1'>
									<tree editable='top'>
										<field name="po_indent_id" on_change = "onchange_po_indent_id(po_indent_id)" domain="[('state','=','done')]" options="{'create': false, 'create_edit': false}" />
										<field name="product_id" context="{'search_product':True, 'po_indent_id':po_indent_id }" on_change = "onchange_quotation_product_id(product_id, po_indent_id)" options="{'create': false, 'create_edit': false}" />
										<field name="product_uom_qty" />
										<field name="uom_po_id" edit='false' options="{'create': false, 'create_edit': false}"/>
										<field name="price_unit" />
										<field name="sub_total" />  
									</tree>
								</field>
								<group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                	<field name="amount_untaxed" widget="monetary" />
                                	<field name="amount_tax" widget="monetary" />     
                                		<div class="oe_subtotal_footer_separator oe_inline">
                                     		<label for="amount_total"/>  
                                		</div>
                                 	<field name="amount_total" nolabel="1" class="oe_subtotal_footer_separator" widget="monetary" />  
                            	</group>  
                            	<div class="oe_clear"/>  
							</page>
						</notebook>
						
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_view_tpt_purchase_quotation_form" model="ir.actions.act_window">
            <field name="name">Purchase Quotation</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.purchase.quotation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tpt_purchase_quotation_tree"/>
        </record>
        
        <menuitem action="action_view_tpt_purchase_quotation_form"
            id="menu_action_view_tpt_purchase_quotation_form"
            parent="purchase.menu_procurement_management" sequence="25"/>
		
    </data>
</openerp>
