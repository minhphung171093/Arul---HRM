<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
	   	<record id="tpt_posting_configuration_tree_view" model="ir.ui.view">
			<field name="name">tpt.posting.configuration.tree</field>
			<field name="model">tpt.posting.configuration</field>
			<field name="arch" type="xml">
				<tree string="GL Posting Configuration">
					<field name="name"/>
					<field name="date"/>
					<field name="state"/>
				</tree>
			</field>
		</record>
		
		<record id="tpt_posting_configuration_form_view" model="ir.ui.view">
            <field name="name">tpt.posting.configuration.form</field>
            <field name="model">tpt.posting.configuration</field>
            <field name="arch" type="xml">
	            <form string="GL Posting Configuration" version="7.0">   
	            	<header>
	                    <button name="bt_confirm" states='draft' string="Confirm" type="object" class="oe_highlight" />
	                    <field name="state" widget="statusbar" statusbar_visible="draft,done"/>
		            </header>    
	            	<sheet>
		            	<group>
			                <group>    
								<field name="name"/>
							</group>
							<group >
								<field name="date"/>
							</group>
						</group>
						<notebook>
							<page string = "GL Account">
								<group col="4" colspan="2" attrs="{'invisible': [('name', '!=', 'cus_inv')]}" >
										<field name="cus_inv_vat_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_cst_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_ed_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_pf_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_fright_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_insurance_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_inv_price_id" options="{'create': false, 'create_edit': false}"/>
								</group>
								<group col="4" colspan="2"  attrs="{'invisible': [('name', '!=', 'cus_pay')]}" >
										<field name="cus_pay_bank_id" options="{'create': false, 'create_edit': false}"/>
										<field name="cus_pay_cash_id" options="{'create': false, 'create_edit': false}"/>
								</group>
								<group col="4" colspan="2" attrs="{'invisible': [('name', '!=', 'sup_inv')]}" >
										<field name="sup_inv_vat_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_cst_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_ed_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_pf_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_fright_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_inv_price_id" options="{'create': false, 'create_edit': false}"/>
								</group>
								<group col="4" colspan="2" attrs="{'invisible': [('name', '!=', 'sup_pay')]}" >
										<field name="sup_pay_bank_id" options="{'create': false, 'create_edit': false}"/>
										<field name="sup_pay_cash_id" options="{'create': false, 'create_edit': false}"/>
								</group>
								<group col="4" colspan="2" attrs="{'invisible': [('name', '!=', 'payroll')]}" >
										<field name="salari_id" options="{'create': false, 'create_edit': false}"/>
										<field name="pfp_id" options="{'create': false, 'create_edit': false}"/>
										<field name="vpf_id" options="{'create': false, 'create_edit': false}"/>
										<field name="esi_id" options="{'create': false, 'create_edit': false}"/>
										<field name="staff_welfare_id" options="{'create': false, 'create_edit': false}"/>
										<field name="lic_id" options="{'create': false, 'create_edit': false}"/>
										<field name="profes_tax_id" options="{'create': false, 'create_edit': false}"/>
										<field name="lwf_id" options="{'create': false, 'create_edit': false}"/>
										<field name="staff_advance_id" options="{'create': false, 'create_edit': false}"/>
										<field name="salari_payable_id" options="{'create': false, 'create_edit': false}"/>
								</group>
							</page>
						</notebook>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_tpt_posting_configuration_form_view" model="ir.actions.act_window">
            <field name="name">GL Posting Configuration</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.posting.configuration</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="tpt_posting_configuration_tree_view"/>
        </record>
        
        
        <menuitem id="menu_tpt_accounting" name="Accounting" parent="account.menu_finance" sequence="0"/>
        <menuitem action="action_tpt_posting_configuration_form_view"
            id="menu_action_tpt_posting_configuration_form_view"
            parent="menu_tpt_accounting" sequence="13"/>


		<record id="tpt_account_supplier_invoice_form" model="ir.ui.view">
            <field name="name">tpt.account.supplier.invoice.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_supplier_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//field[@name='partner_id']" position="before">
					<field name="name" string = "Document No" readonly = '1'/>
				</xpath>
				<xpath expr="//field[@name='partner_id']" position="attributes">
					<attribute name='string'>Vendor</attribute>
				</xpath>
				<xpath expr="//field[@name='partner_id']" position="after">
					<field name="create_uid" options="{'create': false, 'create_edit': false}" />
					<field name="created_on" />
				</xpath>
				<xpath expr="//field[@name='date_due']" position="after">
					<field name="purchase_id" options="{'create': false, 'create_edit': false}"/>
					<field name="vendor_ref" />
				</xpath>  
				<xpath expr="//field[@name='account_id']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//field[@name='currency_id']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//field[@name='currency_id']" position="attributes">
					<attribute name='required'>0</attribute>
				</xpath>
				<xpath expr="//page[@string='Invoice']/div/field[@name='tax_line']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//page[@string='Other Info']/group/group/field[@name='name']" position="replace">
				</xpath>
				<xpath expr="//page[@string='Invoice']/group/field[@name='amount_untaxed']" position="after">
					<field name="p_f_charge" widget="monetary"/>
					<field name="excise_duty" widget="monetary"/>
				</xpath>
				<xpath expr="//page[@string='Invoice']/group/field[@name='amount_tax']" position="after">
					<field name="fright" widget="monetary"/>
				</xpath>
				<xpath expr="//page[@string='Invoice']/group/field[@name='residual']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
			</field>
		</record>
		
	   	<record id="tpt_posting_verification_tree_view" model="ir.ui.view">
			<field name="name">tpt.posting.verification.tree</field>
			<field name="model">tpt.posting.verification</field>
			<field name="arch" type="xml">
				<tree string="GL Posting Verification - Approval">
					<field name="name"/>
					<field name="doc_type"/>
					<field name="date"/>
					<field name="fiscal_period_id"/>
					<field name="posting_date"/>
					<field name="create_uid"/>
					<field name="amount_debits"/>
					<field name="amount_credits"/>
					<field name="amount_difference"/> 
					<field name="state"/>
				</tree>
			</field>
		</record>
		
		<record id="tpt_posting_verification_form_view" model="ir.ui.view">
            <field name="name">tpt.posting.verification.form</field>
            <field name="model">tpt.posting.verification</field>
            <field name="arch" type="xml">
	            <form string="GL Posting Verification - Approval" version="7.0">   
	            	<header>
	                    <button name="bt_approve" states='draft' string="Approve" type="object" class="oe_highlight" />
	                    <field name="state" widget="statusbar" statusbar_visible="draft,done"/>
		            </header>    
	            	<sheet>
		            	<group col="4" colspan="2">
		            		<field name="doc_type" required = "1" on_change = "onchange_gl_entry(doc_type,fiscal_period_id)" /> 
		            		<field name="fiscal_period_id" on_change = "onchange_gl_entry(doc_type,fiscal_period_id)" required = "1" options="{'create': false, 'create_edit': false}" />
							<field name="name"/>
							<field name="posting_date"/>
							<field name="date" />
							<field name="create_uid" options="{'create': false, 'create_edit': false}" />
						</group>
						<notebook>
							<page string = "GL Entry">
							<field name="gl_entry_line" nolabel='1'>
									<tree editable='bottom'>
										<field name="gl_code_id" on_change = "onchange_account_name(gl_code_id)" options="{'create': false, 'create_edit': false}" />
										<field name="description" />
										<field name="debit" />
										<field name="credit" /> 
									</tree>
								</field>
							</page>
						</notebook>
						<group col="4" colspan="2">
							<field name="amount_debits"/>
							<field name="amount_credits"/>
							<field name="amount_difference"/>
						</group>
		         	</sheet>
		         </form>
			</field>
		</record>
          
		<record id="action_tpt_posting_verification_form_view" model="ir.actions.act_window">
            <field name="name">GL Posting Verification - Approval</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tpt.posting.verification</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="tpt_posting_verification_tree_view"/>
        </record>
        
        
       <!-- <menuitem action="action_tpt_posting_verification_form_view"
            id="menu_action_tpt_posting_verification_form_view"
            parent="menu_tpt_accounting" sequence="20"/>-->

				
		<record id="tpt_view_invoice_customer_inherit_form" model="ir.ui.view">
            <field name="name">tpt.view.invoice.customer.inherit.form"</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account_voucher.view_invoice_customer"/>
            <field name="arch" type="xml">	
            	<xpath expr="//button[@name='invoice_pay_customer']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>	
			</field>
		</record>
		
		<record id="tpt_view_invoice_form_inherit_form" model="ir.ui.view">
            <field name="name">tpt.view.invoice.form.inherit.form"</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_form"/>
            <field name="arch" type="xml">	
            	<xpath expr="//button[@name='%(account.action_account_invoice_refund)d']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>	
			</field>
		</record>
		
		<record id="tpt_account_product_product_inherit_form" model="ir.ui.view">
            <field name="name">tpt.account.product.product.inherit.form</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="account.product_normal_form_view"/>
            <field name="arch" type="xml">		
				<xpath expr="//page[@string='Accounting']/group[@name='properties']/group/field[@name='taxes_id']" position="after">
					<field name="purchase_acc_id" options="{'create': false, 'create_edit': false}"/>
					<field name="sale_acc_id" options="{'create': false, 'create_edit': false}"/>
				</xpath>
				<xpath expr="//page[@string='Accounting']/group[@name='properties']/group/field[@name='supplier_taxes_id']" position="after">
					<field name="product_asset_acc_id" options="{'create': false, 'create_edit': false}"/>
					<field name="product_cose_acc_id" options="{'create': false, 'create_edit': false}"/>
				</xpath>	
			</field>
		</record>
				
		<record id="tpt_account_supplier_invoice_stock_inherit_form" model="ir.ui.view">
            <field name="name">tpt.account.supplier.invoice.stock.inherit.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="green_erp_arulmani_purchase.tpt_invoice_supplier_form"/>
            <field name="arch" type="xml">		
				<xpath expr="//page[@string='Invoice']/field[@name='invoice_line']/tree/field[@name='price_unit']" position="after">
					<field name="disc"/>
					<field name="p_f"/>
					<field name="p_f_type"/>
					<field name="ed"/>
					<field name="ed_type"/>
				</xpath> 
				<xpath expr="//page[@string='Invoice']/field/tree/field[@name='invoice_line_tax_id']" position="after">
					<field name="fright"/>
					<field name="fright_type"/>
					<field name="line_net"/>
				</xpath>
				<xpath expr="//page[@string='Invoice']/field/tree/field[@name='price_subtotal']" position="attributes">
					<attribute name='invisible'>1</attribute>
				</xpath>
				<xpath expr="//page[@string='Invoice']/field/tree/field[@name='discount']" position="attributes">
					<attribute name='invisible'>0</attribute>
				</xpath>
				<xpath expr="//page[@string='Invoice']/field/tree/field[@name='product_id']" position="attributes">
					<attribute name='string'>Code</attribute>
				</xpath>
				
				
			</field>
		</record> 
		
		<record id="view_tpt_supplier_invoice_without_po_tree" model="ir.ui.view">
			<field name="name">view.tpt.supplier.invoice.without.po.tree</field>
			<field name="model">account.invoice</field>
			<field name="arch" type="xml">
				<tree string="Supplier Invoice">
                    <field name="partner_id" groups="base.group_user"/>
                    <field name="date_invoice"/>
                    <field name="number"/>
                    <field name="reference" invisible="1"/>
                    <field name="name" invisible="1"/>
                    <field name="journal_id" invisible="1"/>
                    <field name="period_id" invisible="1" groups="account.group_account_user"/>
                    <field name="company_id" groups="base.group_multi_company" widget="selection"/>
                    <field name="user_id"/>
                    <field name="date_due"/>
                    <field name="origin"/>
                    <field name="currency_id" groups="base.group_multi_currency"/>
                    <field name="residual" sum="Residual Amount"/>
                    <field name="amount_untaxed" sum="Untaxed Amount"/>
                    <field name="amount_total" sum="Total Amount"/>
                    <field name="state"/>
                </tree>
			</field>
		</record>
		
		<record id="view_tpt_supplier_invoice_without_po_form" model="ir.ui.view">
            <field name="name">view.tpt.supplier.invoice.without.po.form</field>
            <field name="model">account.invoice</field>
            <field name="arch" type="xml">
	            <form string="Supplier Invoice" version="7.0">
	            <header>
                        <button name="invoice_open" states="draft,proforma2" string="Validate" class="oe_highlight" groups="account.group_account_invoice"/>
                        <button name="%(account.action_account_invoice_refund)d" type='action' string='Ask Refund' states='open,paid' groups="account.group_account_invoice"/>
                        <button name="invoice_cancel" states="draft,proforma2" string="Cancel Invoice" groups="account.group_account_invoice"/>
                        <button name="action_cancel_draft" states="cancel" string="Set to Draft" type="object" groups="account.group_account_invoice"/>
                        <button name='%(account.action_account_state_open)d' type='action' string='Re-Open' groups="account.group_account_invoice" attrs="{'invisible':['|', ('state','&lt;&gt;','paid'), ('reconciled', '=', True)]}" help="This button only appears when the state of the invoice is 'paid' (showing that it has been fully reconciled) and auto-computed boolean 'reconciled' is False (depicting that it's not the case anymore). In other words, the invoice has been dereconciled and it does not fit anymore the 'paid' state. You should press this button to re-open it and let it continue its normal process after having resolved the eventual exceptions it may have created."/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,paid" statusbar_colors='{"proforma":"blue","proforma2":"blue"}'/>
                </header>
                <sheet string="Supplier Invoice">
                	<div class="oe_title">
                        <h1>
                            <label string="Draft Invoice" attrs="{'invisible': ['|',('state','&lt;&gt;','draft'), ('type','&lt;&gt;','in_invoice')]}"/>
                            <label string="Draft Refund" attrs="{'invisible': ['|',('state','&lt;&gt;','draft'), ('type','&lt;&gt;','in_refund')]}"/>
                            <label string="Invoice" attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','&lt;&gt;','in_invoice')]}"/>
                            <label string="Refund" attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','&lt;&gt;','in_refund')]}"/>
                            <field name="number" class="oe_inline"  attrs="{'invisible': [('state', '=', 'draft')]}"/>
                        </h1>
                    </div>
                    <field name="type" invisible="1"/>
                    <group>
                        <group>
                        	<field name="name" string="Document No" readonly="1"/>
                        	<field string="Vendor" name="partner_id"
                              on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id)"
                              context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1}"
                              domain="[('supplier', '=', True)]" options="{'create': false, 'create_edit': false}"/>
                            <field name="vendor_ref"/>
                            <field name="create_uid" options="{'create': false, 'create_edit': false}"/>
                            <field name="fiscal_position" widget="selection" invisible = '1'/>
                            <field name="origin" invisible = '1'/>
                            <field name="supplier_invoice_number" invisible = '1'/>
                            <label for="reference_type" invisible = '1'/>
                            <div invisible = '1'>
                                <field name="reference_type" class="oe_inline oe_edit_only" />
                                <field name="reference" class="oe_inline"/>
                            </div>
                        </group>
                        <group>
                            <field name="date_invoice"/>
                            <field name="date_due"/>
                            <field name="created_on"/>
                            <field domain="[('company_id', '=', company_id), ('type', '=', 'payable')]"
                                name="account_id" required = "0" groups="account.group_account_user" invisible = '1'/>
                            <field name="journal_id" groups="account.group_account_user"
                                on_change="onchange_journal_id(journal_id, context)" widget="selection" invisible = '1'/>
                            <field name="currency_id" groups="base.group_multi_currency" invisible = '1'/>
                            <field name="check_total" groups="account.group_supplier_inv_check_total" invisible = '1'/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Invoice">
                            <field context="{'partner_id': partner_id, 'price_type': context.get('price_type') or False, 'type': type}" name="invoice_line">
                                <tree string="Invoice lines" editable="bottom">
                                    <field name="sequence" widget="handle" invisible = '1'/>
                            <!--        <field name="gl_code_id" required = '1' on_change="onchange_gl_code_id(gl_code_id)" options="{'create': false, 'create_edit': false}"/> -->
                                    <field name="account_id" groups="account.group_account_user"
                                        domain="[('company_id', '=', parent.company_id), ('journal_id', '=', parent.journal_id), ('type', '=', 'other')]"
                                        on_change="onchange_account_id(product_id, parent.partner_id, parent.type, parent.fiscal_position,account_id)"/>
                                    <field name="product_id" invisible = '1'
                                        on_change="product_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
                                    <field name="name"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_analytic_id" invisible="1" groups="analytic.group_analytic_accounting"
                                        domain="[('type','!=','view'), ('company_id', '=', parent.company_id)]"/>
                                    <field name="quantity" readonly = '1'/>
                                    <field name="uos_id" invisible = '1' groups="product.group_uom"
                                        on_change="uos_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.currency_id, context, parent.company_id)"/>
                                    <field name="price_unit"/>
                                    <field name="disc"/>
                                    <field name="discount" invisible = '1' groups="sale.group_discount_per_so_line"/>
                                    <field name="p_f"/>
                                    <field name="p_f_type"/>
                                    <field name="ed"/>
                                    <field name="ed_type"/>
                                    <field name="invoice_line_tax_id" widget="many2many_tags" context="{'type':parent.type}"
                                        domain="[('parent_id','=',False),('company_id', '=', parent.company_id)]"/>
                                    <field name="fright"/>
                                    <field name="fright_type"/>
                                    <field name="line_net"/>
                                    <field name="price_subtotal" invisible = '1'/>
                                </tree>
                            </field>
                            <group class="oe_subtotal_footer oe_right">
                                <field name="amount_untaxed" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <field name="p_f_charge" widget="monetary"/>
								<field name="excise_duty" widget="monetary"/>
                                <div>
                                    <label for="amount_tax"/>
                                    <button name="button_reset_taxes" states="draft,proforma2"
                                        string="(update)" class="oe_link oe_edit_only"
                                        type="object" help="Recompute taxes and total"/>
                                </div>
                                <field name="amount_tax" nolabel="1" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <field name="fright" widget="monetary"/>
                                <field name="amount_total" class="oe_subtotal_footer_separator" widget="monetary" options="{'currency_field': 'currency_id'}"/>
								<field name="residual" widget="monetary" options="{'currency_field': 'currency_id'}" invisible = '1'/>
                                <field name="reconciled" invisible="1"/>
                            </group>
                            <div style="width: 50%%" invisible = '1'>
                                <field name="tax_line">
                                    <tree editable="bottom" string="Taxes">
                                        <field name="name"/>
                                        <field name="account_id" groups="account.group_account_invoice"/>
                                        <field name="account_analytic_id" domain="[('type','&lt;&gt;','view'), ('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                        <field name="base" on_change="base_change(base,parent.currency_id,parent.company_id,parent.date_invoice)" readonly="1"/>
                                        <field name="amount" on_change="amount_change(amount,parent.currency_id,parent.company_id,parent.date_invoice)"/>

                                        <field invisible="True" name="base_amount"/>
                                        <field invisible="True" name="tax_amount"/>
                                        <field name="factor_base" invisible="True"/>
                                        <field name="factor_tax" invisible="True"/>
                                    </tree>
                                </field>
                            </div>
                            <div class="oe_clear">
                                <label for="comment"/>
                            </div>
                            <field name="comment"/>
                        </page>
                        <page string="Other Info">
                            <group>
                                <group>
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" on_change="onchange_partner_bank(partner_bank_id)"/>
                                    <field name="user_id"/>
                                    <field name="name" invisible="1"/>
                                    <field name="payment_term" widget="selection"/>
                                </group>
                                <group>
                                    <field name="move_id" groups="account.group_account_user"/>
                                    <field name="period_id" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" on_change="onchange_company_id(company_id,partner_id,type,invoice_line,currency_id)" widget="selection" groups="base.group_multi_company"/>
                                </group>
                            </group>
                            
                        </page>
                        <page string="Payments">
                            <field name="payment_ids">
                                <tree string="Payments">
                                    <field name="date" string="Payment Date"/>
                                    <field name="move_id"/>
                                    <field name="ref"/>
                                    <field name="name"/>
                                    <field name="journal_id"/>
                                    <field name="debit"/>
                                    <field name="credit"/>
                                    <field name="amount_currency"/>
                                    <field name="currency_id" groups="base.group_multi_currency"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" invisible = '1'/>
                    <field name="message_ids" widget="mail_thread" invisible = '1'/>
                </div>
                </form>
			</field>
		</record> 
		
		<record id="action_invoice_supplier_without_po" model="ir.actions.act_window">
            <field name="name">Supplier Invoices(without po)</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id" ref="view_tpt_supplier_invoice_without_po_tree"/>
            <field name="domain">[('type','=','in_invoice'),('purchase_id','=',False)]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase'}</field>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
        </record>
        <record id="action_invoice_supplier_without_po1" model="ir.actions.act_window.view">
            <field eval="3" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_tpt_supplier_invoice_without_po_tree"/>
            <field name="act_window_id" ref="action_invoice_supplier_without_po"/>
        </record>
        <record id="action_invoice_supplier_without_po2" model="ir.actions.act_window.view">
            <field eval="4" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_tpt_supplier_invoice_without_po_form"/>
            <field name="act_window_id" ref="action_invoice_supplier_without_po"/>
        </record>
        
        <record model="ir.ui.view" id="bank_transaction_tree">
            <field name="name">bank.transaction.tree</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';gray:state == 'cancel';red:audit" string="Bank Transaction">
                    <field name="date"/>
                    <field name="number"/>
                    <field name="reference"/>
                    <field name="partner_id"/>
                    <field name="journal_id" groups="account.group_account_user"/>
                    <field name="period_id" invisible="context.get('visible', True)"/>
                    <field name="type_trans" invisible="context.get('visible', True)"/>
                    <field name="amount" sum="Total Amount"/>
                    <field name="audit" invisible="1"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="bank_transaction_form">
            <field name="name">bank.transaction.form</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <form string="Bank Transaction" version="7.0">
                  <header>
                      <button name="proforma_voucher" string="Post" states="draft" class="oe_highlight"/>
                      <button name="cancel_voucher" string="Cancel Voucher" type="object" states="posted" confirm="Are you sure you want to unreconcile this record?"/>
                      <button name="cancel_voucher" string="Cancel Voucher" states="draft,proforma" />
                      <button name="action_cancel_draft" type="object" states="cancel" string="Set to Draft"/>
                      <field name="state" widget="statusbar" statusbar_visible="draft,posted" statusbar_colors='{"proforma":"blue"}'/>
                  </header>
                  <sheet string="Bank Transaction">
                    <group col="4" colspan="4">
                        <field name="name" string = "Document No" readonly = '1'/>
                        <field name="date" on_change="onchange_date(date, currency_id, payment_rate_currency_id, amount, company_id)"/>
                        <field name="journal_id" domain="[('type','=','bank')]" widget="selection" readonly = '1' on_change="onchange_journal_voucher(line_ids, tax_id, amount, partner_id, journal_id, type)" options="{'create': false, 'create_edit': false}"/>
                        <field name="type_trans" required="1"/>
                        <field name="account_id" widget="selection" string = "GL Account" options="{'create': false, 'create_edit': false}"/>
                        <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                        <field name="reference"/>
                        <field name="sum_amount"/>
                        <field name="cheque_date"/>
                        <field name="cheque_no"/>
                        <field name="payment_rate_currency_id" invisible="1"/>
                        <field name="partner_id" invisible = '1' on_change="onchange_journal_voucher(line_ids, tax_id, amount, partner_id, journal_id, type)"/>
                    	<field name="type" required="0" invisible = '1'/>
                    	<field name="number" invisible = '1'/>
                    	<field name="currency_id" invisible = '1' groups="base.group_multi_currency"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Voucher Entry">
                            <field name="line_ids" on_change="onchange_price(line_ids, tax_id, partner_id)" context="{'journal_id':journal_id, 'type':type, 'partner_id':partner_id}">
                                <tree string="Voucher Items" editable="bottom">
                                    <field name="account_id" options="{'create': false, 'create_edit': false}"/>
                                    <field name="name"/>
                                    <field name="amount" sum="Total Amount"/>
                                    <field name="type" invisible = '1'/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting"/>
                                </tree>
                            </field>
                            <group>
                                <field name="narration" nolabel="1" placeholder="Internal Notes"/>
                                <group class="oe_subtotal_footer oe_right" attrs="{'invisible':[('type','in',['payment', 'receipt', False])]}">
                                    <field name="tax_id" on_change="onchange_price(line_ids, tax_id, partner_id)" widget="selection" nolabel="1"/>
                                    <field name="tax_amount" nolabel="1"/>
                                    <div class="oe_subtotal_footer_separator">
                                        <label for="amount"/>
                                        <button type="object" icon="terp-stock_format-scientific"   name="compute_tax" class="oe_link oe_edit_only" string="(Update)" attrs="{'invisible': [('state','!=','draft')]}"/>
                                    </div>
                                    <field name="amount" class="oe_subtotal_footer_separator" nolabel="1"/>
                                </group>
                            </group>
                        </page>
                        <page string="Journal Items" attrs="{'invisible': [('state','!=','posted')]}">
                            <group col="4">
                                <field name="period_id"/>
                                <field name="audit"/>
                            </group>
                            <field name="move_ids" readonly="1">
                               <tree string="Journal Items">
                                   <field name="move_id"/>
                                   <field name="ref"/>
                                   <field name="date"/>
                                   <field name="statement_id"/>
                                   <field name="partner_id"/>
                                   <field name="account_id"/>
                                   <field name="name"/>
                                   <field name="debit"/>
                                   <field name="credit"/>
                                   <field name="state"/>
                                   <field name="reconcile_id"/>
                               </tree>
                            </field>
                        </page>
                    </notebook>
                  </sheet>
                  <div class="oe_chatter">
                      <field name="message_follower_ids" widget="mail_followers"/>
                      <field name="message_ids" widget="mail_thread"/>
                  </div>
                </form>
            </field>
        </record>
          
       <record id="action_bank_transaction" model="ir.actions.act_window">
            <field name="name">Bank Transaction</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="view_id" eval="bank_transaction_tree"/>
            <field name="domain">[('journal_id.type', '=', 'bank')]</field>
            <field name="context">{'journal_type':'bank'}</field>
            <field name="search_view_id" ref="account_voucher.view_voucher_filter"/>
        </record>
        <record id="action_bank_transaction1" model="ir.actions.act_window.view">
            <field eval="3" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="bank_transaction_tree"/>
            <field name="act_window_id" ref="action_bank_transaction"/>
        </record>
        <record id="action_bank_transaction2" model="ir.actions.act_window.view">
            <field eval="4" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="bank_transaction_form"/>
            <field name="act_window_id" ref="action_bank_transaction"/>
        </record>
  
        <menuitem action="action_bank_transaction" id="menu_action_bank_transaction" parent="account.menu_finance_entries" sequence="10" groups="base.group_no_one"/>  
        
        <record model="ir.ui.view" id="cash_transaction_tree">
            <field name="name">cash.transaction.tree</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';gray:state == 'cancel';red:audit" string="Bank Transaction">
                    <field name="date"/>
                    <field name="number"/>
                    <field name="reference"/>
                    <field name="partner_id"/>
                    <field name="journal_id" groups="account.group_account_user"/>
                    <field name="period_id" invisible="context.get('visible', True)"/>
                    <field name="type" invisible="context.get('visible', True)"/>
                    <field name="amount" sum="Total Amount"/>
                    <field name="audit" invisible="1"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>        
       
        <record model="ir.ui.view" id="cash_transaction_form">
            <field name="name">cash.transaction.form</field>
            <field name="model">account.voucher</field>
            <field name="arch" type="xml">
                <form string="Cash Transaction" version="7.0">
                  <header>
                      <button name="proforma_voucher" string="Post" states="draft" class="oe_highlight"/>
                      <button name="cancel_voucher" string="Cancel Voucher" type="object" states="posted" confirm="Are you sure you want to unreconcile this record?"/>
                      <button name="cancel_voucher" string="Cancel Voucher" states="draft,proforma" />
                      <button name="action_cancel_draft" type="object" states="cancel" string="Set to Draft"/>
                      <field name="state" widget="statusbar" statusbar_visible="draft,posted" statusbar_colors='{"proforma":"blue"}'/>
                  </header>
                  <sheet string="Cash Transaction">
                    <group col="4" colspan="4">
                        <field name="name" string = "Document No" readonly = '1'/>
                        <field name="date" on_change="onchange_date(date, currency_id, payment_rate_currency_id, amount, company_id)"/>
                        <field name="journal_id" domain="[('type','=','cash')]" widget="selection" readonly = '1' on_change="onchange_journal_voucher(line_ids, tax_id, amount, partner_id, journal_id, type)" options="{'create': false, 'create_edit': false}"/>
                        <field name="type_trans" required="1"/>
                        <field name="account_id" widget="selection" string = "GL Account" options="{'create': false, 'create_edit': false}"/>
                        <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                        <field name="reference"/>
                        <field name="sum_amount"/>
                        <field name="cheque_date"/>
                        <field name="cheque_no"/>
                        <field name="payment_rate_currency_id" invisible="1"/>
                        <field name="partner_id" invisible = '1' on_change="onchange_journal_voucher(line_ids, tax_id, amount, partner_id, journal_id, type)"/>
                    	<field name="type" required="0" invisible = '1'/>
                    	<field name="number" invisible = '1'/>
                    	<field name="currency_id" invisible = '1' groups="base.group_multi_currency"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Voucher Entry">
                            <field name="line_ids" on_change="onchange_price(line_ids, tax_id, partner_id)" context="{'journal_id':journal_id, 'type':type, 'partner_id':partner_id}">
                                <tree string="Voucher Items" editable="bottom">
                                    <field name="account_id" options="{'create': false, 'create_edit': false}"/>
                                    <field name="name"/>
                                    <field name="amount" sum="Total Amount"/>
                                    <field name="type" invisible = '1'/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting"/>
                                </tree>
                            </field>
                            <group>
                                <field name="narration" nolabel="1" placeholder="Internal Notes"/>
                                <group class="oe_subtotal_footer oe_right" attrs="{'invisible':[('type','in',['payment', 'receipt', False])]}">
                                    <field name="tax_id" on_change="onchange_price(line_ids, tax_id, partner_id)" widget="selection" nolabel="1"/>
                                    <field name="tax_amount" nolabel="1"/>
                                    <div class="oe_subtotal_footer_separator">
                                        <label for="amount"/>
                                        <button type="object" icon="terp-stock_format-scientific"   name="compute_tax" class="oe_link oe_edit_only" string="(Update)" attrs="{'invisible': [('state','!=','draft')]}"/>
                                    </div>
                                    <field name="amount" class="oe_subtotal_footer_separator" nolabel="1"/>
                                </group>
                            </group>
                        </page>
                        <page string="Journal Items" attrs="{'invisible': [('state','!=','posted')]}">
                            <group col="4">
                                <field name="period_id"/>
                                <field name="audit"/>
                            </group>
                            <field name="move_ids" readonly="1">
                               <tree string="Journal Items">
                                   <field name="move_id"/>
                                   <field name="ref"/>
                                   <field name="date"/>
                                   <field name="statement_id"/>
                                   <field name="partner_id"/>
                                   <field name="account_id"/>
                                   <field name="name"/>
                                   <field name="debit"/>
                                   <field name="credit"/>
                                   <field name="state"/>
                                   <field name="reconcile_id"/>
                               </tree>
                            </field>
                        </page>
                    </notebook>
                  </sheet>
                  <div class="oe_chatter">
                      <field name="message_follower_ids" widget="mail_followers"/>
                      <field name="message_ids" widget="mail_thread"/>
                  </div>
                </form>
            </field>
        </record>
          
       <record id="action_cash_transaction" model="ir.actions.act_window">
            <field name="name">Cash Transaction</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.voucher</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="view_id" ref="cash_transaction_tree"/>
            <field name="search_view_id" ref="account_voucher.view_voucher_filter"/>
            <field name="domain">[('journal_id.type', '=', 'cash')]</field>
            <field name="context">{'journal_type':'cash'}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a new cash log.
              </p><p>
                A Cash Register allows you to manage cash entries in your cash
                journals. This feature provides an easy way to follow up cash
                payments on a daily basis. You can enter the coins that are in
                your cash box, and then post entries when money comes in or
                goes out of the cash box.
              </p>
            </field>
        </record>
        <record id="action_cash_transaction1" model="ir.actions.act_window.view">
            <field eval="5" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="cash_transaction_tree"/>
            <field name="act_window_id" ref="action_cash_transaction"/>
        </record>
        <record id="action_cash_transaction2" model="ir.actions.act_window.view">
            <field eval="6" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="cash_transaction_form"/>
            <field name="act_window_id" ref="action_cash_transaction"/>
        </record>
  
        <menuitem action="action_cash_transaction" id="menu_action_cash_transaction" parent="account.menu_finance_entries" sequence="15" groups="base.group_no_one"/>  
        
        <record id="account.action_invoice_tree2" model="ir.actions.act_window">
            <field name="name">Supplier Invoices(with po)</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','in_invoice'),('purchase_id','!=',False)]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase'}</field>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to record a new supplier invoice.
              </p><p>
                You can control the invoice from your supplier according to
                what you purchased or received. OpenERP can also generate
                draft invoices automatically from purchase orders or receipts.
              </p>
            </field>
        </record>
        <menuitem action="action_invoice_supplier_without_po" id="menu_action_invoice_supplier_without_po" parent="account.menu_finance_payables"/>
        
        <record id="tpt_account_supplier_voucher_pay_form" model="ir.ui.view">
            <field name="name">tpt.account.supplier.voucher.pay.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account_voucher.view_invoice_supplier"/>
            <field name="arch" type="xml">
            	<xpath expr="//button[@name='invoice_pay_customer']" position="attributes">
					 <attribute name='invisible'>1</attribute>
				</xpath>
			</field>
		</record>
        
        <record id="view_voucher_form_inherit" model="ir.ui.view">
            <field name="name">view.voucher.form.inherit</field>
            <field name="model">account.voucher</field>
            <field name="inherit_id" ref="account_voucher.view_voucher_form"/>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//form[@string='Accounting Voucher']/sheet[@string='Accounting Voucher']/group/field[@name='name']" position="replace">
                       <field name="memo"  />
                    </xpath>
              		<xpath expr="//form[@string='Accounting Voucher']/sheet[@string='Accounting Voucher']/group/field[@name='partner_id']" position="before">
                       <field name="name" readonly = "1" />
                    </xpath>

                    <xpath expr="//form[@string='Accounting Voucher']/sheet/group/field[@name='partner_id']" position="attributes" >
                       <attribute name='options'>{'create': false, 'create_edit': false}</attribute>
                    </xpath>
                    <xpath expr="//form[@string='Accounting Voucher']/sheet/notebook/page/field/tree/field[@name='account_id']" position="attributes" >
                       <attribute name='options'>{'create': false, 'create_edit': false}</attribute>
                    </xpath>
                    <xpath expr="//form[@string='Accounting Voucher']/sheet/group/field[@name='currency_id']" position="attributes" >
                       <attribute name='invisible'>1</attribute>
                    </xpath>
                </data>
            </field>
        </record>

        <record id="tpt_view_location_form" model="ir.ui.view">
            <field name="name">tpt.view.location.form</field>
            <field name="model">stock.location</field>
            <field name="inherit_id" ref="stock.view_location_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//form/group/group[@string='Additional Information']/field[@name='usage']" position="before">
					 <field name="gl_pos_verification_id"  options="{'create': false, 'create_edit': false}" />
				</xpath>
			</field>
		</record>
		
		<record id="view_vendor_receipt_form_inherit" model="ir.ui.view">
            <field name="name">view.voucher.form.inherit</field>
            <field name="model">account.voucher</field>
            <field name="inherit_id" ref="account_voucher.view_vendor_receipt_form"/>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//field[@name='account_id']" position="replace"/>
                    
                    <xpath expr="//field[@name='journal_id']" position="after">
                    	<field name="account_id" string="GL Account" options="{'create': false, 'create_edit': false}"/>
                    	<field name="bank_name" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    	<field name="cheque_date" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    </xpath>
                    
                    <xpath expr="//field[@name='company_id']" position="after">
                    	<field name="cheque_number" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    	<field name="tpt_journal" invisible = "1"/>
                    </xpath>
                    
                    <xpath expr="//page[@string='Payment Information']/field/tree/field[@name='account_id']" position="attributes">
						<attribute name='invisible'>1</attribute>
					</xpath> 
					
                </data>
            </field>
        </record>
        
        <record id="view_vendor_payment_form_inherit" model="ir.ui.view">
            <field name="name">view.voucher.form.inherit</field>
            <field name="model">account.voucher</field>
            <field name="inherit_id" ref="account_voucher.view_vendor_payment_form"/>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//field[@name='account_id']" position="replace"/>
                    
                    <xpath expr="//field[@name='journal_id']" position="after">
                    	<field name="account_id" string="GL Account" options="{'create': false, 'create_edit': false}"/>
                    	<field name="bank_name" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    	<field name="cheque_date" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    </xpath>
                    
                    <xpath expr="//field[@name='company_id']" position="after">
                    	<field name="cheque_number" attrs="{'invisible': [('tpt_journal','&lt;&gt;','bank')]}"/>
                    	<field name="tpt_journal" invisible = "1"/>
                    </xpath>
                    
                    <xpath expr="//page[@string='Payment Information']/field/tree/field[@name='account_id']" position="attributes">
						<attribute name='invisible'>1</attribute>
					</xpath> 
					
                </data>
            </field>
        </record>
        
        <record id="view_tpt_material_issue_form_inherit" model="ir.ui.view">
            <field name="name">tpt.material.issue.form.inherit</field>
            <field name="model">tpt.material.issue</field>
            <field name="inherit_id" ref="green_erp_arulmani_purchase.view_tpt_material_issue_form"/>
            <field name="arch" type="xml">
	            <data>
	            
                    <xpath expr="//field[@name='department_id']" position="after">
                    	<field name="warehouse" domain="[('usage','=','internal'),('chained_location_type','&lt;&gt;','customer')]" options="{'create': false, 'create_edit': false}"/>
                    	<field name="gl_account_id" options="{'create': false, 'create_edit': false}"/>
                    </xpath>
                    
                </data>
			</field>
		</record>
		<record id="view_move_form_inherit" model="ir.ui.view">
            <field name="name">view.move.form.inherit</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form"/>
            <field name="arch" type="xml">
	            <data>
	            
                    <xpath expr="//form/sheet[@string='Journal Entries']/group/group/field[@name='period_id']" position="after">
                    	<field name="doc_type" />
                    </xpath>
                    
                    <xpath expr="//field[@name='to_check']" position="attributes">
                    	<attribute name='invisible'>1</attribute>
                    </xpath>
                    
                    <xpath expr="//field[@name='journal_id']" position="attributes">
                    	<attribute name='invisible'>1</attribute>
                    </xpath>
                    
                    <xpath expr="//page[@string='Journal Items']/field/tree/field[@name='reconcile_id']" position="attributes">
						<attribute name='invisible'>1</attribute>
					</xpath> 
					
					<xpath expr="//page[@string='Journal Items']/field/tree/field[@name='reconcile_partial_id']" position="attributes">
						<attribute name='invisible'>1</attribute>
					</xpath>
					
                </data>
			</field>
		</record>
		
		<record id="tpt_activities_form_view_inherit" model="ir.ui.view">
            <field name="name">tpt.activities.form.inherit</field>
            <field name="model">tpt.activities</field>
            <field name="inherit_id" ref="green_erp_arulmani_production.tpt_activities_form_view"/>
            <field name="arch" type="xml">
	            <data>
                    <xpath expr="//field[@name='description']" position="after">
                    	<field name="act_acc_id" options="{'create': false, 'create_edit': false}"/>
                    </xpath>
                </data>
			</field>
		</record>
    </data>
</openerp>
